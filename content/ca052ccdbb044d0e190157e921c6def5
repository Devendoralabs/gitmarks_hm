
    

  

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
        <title>johnboxall/django-paypal - GitHub</title>
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub" />
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub" />

    <link href="https://assets1.github.com/stylesheets/bundle_common.css?9be3b31760b2ed1e0983740b292778ab7067fa37" media="screen" rel="stylesheet" type="text/css" />
<link href="https://assets0.github.com/stylesheets/bundle_github.css?9be3b31760b2ed1e0983740b292778ab7067fa37" media="screen" rel="stylesheet" type="text/css" />

    <script type="text/javascript" charset="utf-8">
      var GitHub = {}
      var github_user = null
      
    </script>
    <script src="https://assets2.github.com/javascripts/jquery/jquery-1.4.2.min.js?9be3b31760b2ed1e0983740b292778ab7067fa37" type="text/javascript"></script>
    <script src="https://assets2.github.com/javascripts/bundle_common.js?9be3b31760b2ed1e0983740b292778ab7067fa37" type="text/javascript"></script>
<script src="https://assets3.github.com/javascripts/bundle_github.js?9be3b31760b2ed1e0983740b292778ab7067fa37" type="text/javascript"></script>


        <script type="text/javascript" charset="utf-8">
      GitHub.spy({
        repo: "johnboxall/django-paypal"
      })
    </script>

    
  
    
  

  <link href="https://github.com/johnboxall/django-paypal/commits/master.atom" rel="alternate" title="Recent Commits to django-paypal:master" type="application/atom+xml" />

        <meta name="description" content="A pluggable Django application for integrating PayPal Payments Standard or Payments Pro" />
    <script type="text/javascript">
      GitHub.nameWithOwner = GitHub.nameWithOwner || "johnboxall/django-paypal";
      GitHub.currentRef = 'master';
      GitHub.commitSHA = "0c8aeec1c319a08ce1bfdf828534d01b69b8fa27";
      GitHub.currentPath = "";
      GitHub.masterBranch = "master";

      
        GitHub.currentTreeSHA = "0c8aeec1c319a08ce1bfdf828534d01b69b8fa27";
      
    </script>
  

            <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-3769691-2']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script');
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        ga.setAttribute('async', 'true');
        document.documentElement.firstChild.appendChild(ga);
      })();
    </script>

  </head>

  

  <body class="logged_out ">
    

    
      <script type="text/javascript">
        var _kmq = _kmq || [];
        function _kms(u){
          var s = document.createElement('script'); var f = document.getElementsByTagName('script')[0]; s.type = 'text/javascript'; s.async = true;
          s.src = u; f.parentNode.insertBefore(s, f);
        }
        _kms('//i.kissmetrics.com/i.js');_kms('//doug1izaerwt3.cloudfront.net/406e8bf3a2b8846ead55afb3cfaf6664523e3a54.1.js');
      </script>
    

    

    

    

    <div class="subnavd" id="main">
      <div id="header" class="true">
        
          <a class="logo boring" href="https://github.com">
            <img src="/images/modules/header/logov3.png?changed" class="default" alt="github" />
            <![if !IE]>
            <img src="/images/modules/header/logov3-hover.png" class="hover" alt="github" />
            <![endif]>
          </a>
        
        
        <div class="topsearch">
  
    <ul class="nav logged_out">
      <li class="pricing"><a href="/plans">Pricing and Signup</a></li>
      <li><a href="/explore">Explore GitHub</a></li>
      <li><a href="/features">Features</a></li>
      <li><a href="/blog">Blog</a></li>
      <li><a href="https://github.com/login">Login</a></li>
    </ul>
  
</div>

      </div>

      
      
        
    <div class="site">
      <div class="pagehead repohead vis-public   ">

      

      <div class="title-actions-bar">
        <h1>
          <a href="/johnboxall">johnboxall</a> / <strong><a href="https://github.com/johnboxall/django-paypal">django-paypal</a></strong>
          
          
        </h1>

        
    <ul class="actions">
      

      
        <li class="for-owner" style="display:none"><a href="https://github.com/johnboxall/django-paypal/admin" class="minibutton btn-admin "><span><span class="icon"></span>Admin</span></a></li>
        <li>
          <a href="/johnboxall/django-paypal/toggle_watch" class="minibutton btn-watch " id="watch_button" onclick="var f = document.createElement('form'); f.style.display = 'none'; this.parentNode.appendChild(f); f.method = 'POST'; f.action = this.href;var s = document.createElement('input'); s.setAttribute('type', 'hidden'); s.setAttribute('name', 'authenticity_token'); s.setAttribute('value', '90c1a90e25fa6f1d5bf0d3f01e02220584492100'); f.appendChild(s);f.submit();return false;" style="display:none"><span><span class="icon"></span>Watch</span></a>
          <a href="/johnboxall/django-paypal/toggle_watch" class="minibutton btn-watch " id="unwatch_button" onclick="var f = document.createElement('form'); f.style.display = 'none'; this.parentNode.appendChild(f); f.method = 'POST'; f.action = this.href;var s = document.createElement('input'); s.setAttribute('type', 'hidden'); s.setAttribute('name', 'authenticity_token'); s.setAttribute('value', '90c1a90e25fa6f1d5bf0d3f01e02220584492100'); f.appendChild(s);f.submit();return false;" style="display:none"><span><span class="icon"></span>Unwatch</span></a>
        </li>
        
          
            <li class="for-notforked" style="display:none"><a href="/johnboxall/django-paypal/fork" class="minibutton btn-fork " id="fork_button" onclick="var f = document.createElement('form'); f.style.display = 'none'; this.parentNode.appendChild(f); f.method = 'POST'; f.action = this.href;var s = document.createElement('input'); s.setAttribute('type', 'hidden'); s.setAttribute('name', 'authenticity_token'); s.setAttribute('value', '90c1a90e25fa6f1d5bf0d3f01e02220584492100'); f.appendChild(s);f.submit();return false;"><span><span class="icon"></span>Fork</span></a></li>
            <li class="for-hasfork" style="display:none"><a href="#" class="minibutton btn-fork " id="your_fork_button"><span><span class="icon"></span>Your Fork</span></a></li>
          

          
        
      
      
      <li class="repostats">
        <ul class="repo-stats">
          <li class="watchers"><a href="/johnboxall/django-paypal/watchers" title="Watchers" class="tooltipped downwards">307</a></li>
          <li class="forks"><a href="/johnboxall/django-paypal/network" title="Forks" class="tooltipped downwards">69</a></li>
        </ul>
      </li>
    </ul>

      </div>

        
  <ul class="tabs">
    <li><a href="https://github.com/johnboxall/django-paypal" class="selected" highlight="repo_source">Source</a></li>
    <li><a href="https://github.com/johnboxall/django-paypal/commits/master" highlight="repo_commits">Commits</a></li>
    <li><a href="/johnboxall/django-paypal/network" highlight="repo_network">Network</a></li>
    <li><a href="/johnboxall/django-paypal/pulls" highlight="repo_pulls">Pull Requests (2)</a></li>

    

    
      
      <li><a href="/johnboxall/django-paypal/issues" highlight="issues">Issues (29)</a></li>
    

    
    <li><a href="/johnboxall/django-paypal/graphs" highlight="repo_graphs">Graphs</a></li>

    <li class="contextswitch nochoices">
      <span class="toggle leftwards" >
        <em>Branch:</em>
        <code>master</code>
      </span>
    </li>
  </ul>

  <div style="display:none" id="pl-description"><p><em class="placeholder">click here to add a description</em></p></div>
  <div style="display:none" id="pl-homepage"><p><em class="placeholder">click here to add a homepage</em></p></div>

  <div class="subnav-bar">
  
  <ul>
    <li>
      <a href="#" class="dropdown">Switch Branches (2)</a>
      <ul>
        
          
          
            <li><a href="/johnboxall/django-paypal/tree/dev" action="show">dev</a></li>
          
        
          
            <li><strong>master &#x2713;</strong></li>
            
      </ul>
    </li>
    <li>
      <a href="#" class="dropdown defunct">Switch Tags (0)</a>
      
    </li>
    <li>
    
    <a href="/johnboxall/django-paypal/branches" class="manage">Branch List</a>
    
    </li>
  </ul>
</div>

  
  
  
  
  
  



        
    <div id="repo_details" class="metabox clearfix">
      <div id="repo_details_loader" class="metabox-loader" style="display:none">Sending Request&hellip;</div>

        <a href="/johnboxall/django-paypal/downloads" class="download-source" id="download_button" title="Download source, tagged packages and binaries."><span class="icon"></span>Downloads</a>

      <div id="repository_desc_wrapper">
      <div id="repository_description" rel="repository_description_edit">
        
          <p>A pluggable Django application for integrating PayPal Payments Standard or Payments Pro
            <span id="read_more" style="display:none">&mdash; <a href="#readme">Read more</a></span>
          </p>
        
      </div>

      <div id="repository_description_edit" style="display:none;" class="inline-edit">
        <form action="/johnboxall/django-paypal/admin/update" method="post"><div style="margin:0;padding:0"><input name="authenticity_token" type="hidden" value="90c1a90e25fa6f1d5bf0d3f01e02220584492100" /></div>
          <input type="hidden" name="field" value="repository_description">
          <input type="text" class="textfield" name="value" value="A pluggable Django application for integrating PayPal Payments Standard or Payments Pro">
          <div class="form-actions">
            <button class="minibutton"><span>Save</span></button> &nbsp; <a href="#" class="cancel">Cancel</a>
          </div>
        </form>
      </div>

      
      <div class="repository-homepage" id="repository_homepage" rel="repository_homepage_edit">
        <p><a href="http://" rel="nofollow"></a></p>
      </div>

      <div id="repository_homepage_edit" style="display:none;" class="inline-edit">
        <form action="/johnboxall/django-paypal/admin/update" method="post"><div style="margin:0;padding:0"><input name="authenticity_token" type="hidden" value="90c1a90e25fa6f1d5bf0d3f01e02220584492100" /></div>
          <input type="hidden" name="field" value="repository_homepage">
          <input type="text" class="textfield" name="value" value="">
          <div class="form-actions">
            <button class="minibutton"><span>Save</span></button> &nbsp; <a href="#" class="cancel">Cancel</a>
          </div>
        </form>
      </div>
      </div>
      <div class="rule "></div>
            <div id="url_box" class="url-box">
        <ul class="clone-urls">
          
            
            <li id="http_clone_url"><a href="https://github.com/johnboxall/django-paypal.git" data-permissions="Read-Only">HTTP</a></li>
            <li id="public_clone_url"><a href="git://github.com/johnboxall/django-paypal.git" data-permissions="Read-Only">Git Read-Only</a></li>
          
          
        </ul>
        <input type="text" spellcheck="false" id="url_field" class="url-field" />
              <span style="display:none" id="url_box_clippy"></span>
      <span id="clippy_tooltip_url_box_clippy" class="clippy-tooltip tooltipped" title="copy to clipboard">
      <object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"
              width="14"
              height="14"
              class="clippy"
              id="clippy" >
      <param name="movie" value="https://assets2.github.com/flash/clippy.swf?v5"/>
      <param name="allowScriptAccess" value="always" />
      <param name="quality" value="high" />
      <param name="scale" value="noscale" />
      <param NAME="FlashVars" value="id=url_box_clippy&amp;copied=&amp;copyto=">
      <param name="bgcolor" value="#FFFFFF">
      <param name="wmode" value="opaque">
      <embed src="https://assets2.github.com/flash/clippy.swf?v5"
             width="14"
             height="14"
             name="clippy"
             quality="high"
             allowScriptAccess="always"
             type="application/x-shockwave-flash"
             pluginspage="http://www.macromedia.com/go/getflashplayer"
             FlashVars="id=url_box_clippy&amp;copied=&amp;copyto="
             bgcolor="#FFFFFF"
             wmode="opaque"
      />
      </object>
      </span>

        <p id="url_description">This URL has <strong>Read+Write</strong> access</p>
      </div>
    </div>


        

      </div><!-- /.pagehead -->

      









<script type="text/javascript">
  GitHub.currentCommitRef = 'master'
  GitHub.currentRepoOwner = 'johnboxall'
  GitHub.currentRepo = "django-paypal"
  GitHub.downloadRepo = '/johnboxall/django-paypal/archives/master'
  GitHub.revType = "master"

  GitHub.controllerName = "tree"
  GitHub.actionName     = "show"
  GitHub.currentAction  = "tree#show"

  

  
</script>








  <div id="commit">
    <div class="group">
        
  <div class="envelope commit">
    <div class="human">
      
        <div class="message"><pre><a href="/johnboxall/django-paypal/commit/0c8aeec1c319a08ce1bfdf828534d01b69b8fa27">Added signal tests for ipn.</a> </pre></div>
      

      <div class="actor">
        <div class="gravatar">
          
          <img src="https://secure.gravatar.com/avatar/b0d7b5d81cbc846b99976fbf3852d932?s=140&d=https%3A%2F%2Fgithub.com%2Fimages%2Fgravatars%2Fgravatar-140.png" alt="" width="30" height="30"  />
        </div>
        <div class="name"><a href="/johnboxall">johnboxall</a> <span>(author)</span></div>
        <div class="date">
          <abbr class="relatize" title="2009-07-15 01:16:32">Wed Jul 15 01:16:32 -0700 2009</abbr>
        </div>
      </div>

      

    </div>
    <div class="machine">
      <span>c</span>ommit&nbsp;&nbsp;<a href="/johnboxall/django-paypal/commit/0c8aeec1c319a08ce1bfdf828534d01b69b8fa27" hotkey="c">0c8aeec1c319a08ce1bf</a><br />
      <span>t</span>ree&nbsp;&nbsp;&nbsp;&nbsp;<a href="/johnboxall/django-paypal/tree/0c8aeec1c319a08ce1bfdf828534d01b69b8fa27" hotkey="t">f1e42cf777b576cb28aa</a><br />
      
        <span>p</span>arent&nbsp;
        
        <a href="/johnboxall/django-paypal/tree/01d61e582887b4dd8520fc3570a8c858f811864d" hotkey="p">01d61e582887b4dd8520</a>
      

    </div>
  </div>

    </div>
  </div>



<div id="slider">
  
    <div class="breadcrumb" data-path="/">
      <b><a href="/johnboxall/django-paypal/tree/0c8aeec1c319a08ce1bfdf828534d01b69b8fa27">django-paypal</a></b> / 
    </div>

    
      


  <div class="frames">
    <div class="frame frame-center" data-path="/">
      <table id="browser" cellpadding="0" cellspacing="0">
        <tr class="header">
          <th></th>
          <th>name</th>
          <th>age</th>
          <th>
            <div class="history">
              <a href="/johnboxall/django-paypal/commits/master/">history</a>
            </div>
            message
          </th>
        </tr>

        

        
        
                    <tr class="alt">
            <td class="icon"> <img alt="directory" src="https://assets1.github.com/images/icons/dir.png?274d0434aeb47f0996b73cbbc94b0b8fde1ad706" /> </td>
            <td class="content"> <a href="/johnboxall/django-paypal/tree/0c8aeec1c319a08ce1bfdf828534d01b69b8fa27/pro" class="js-slide-to" id="65e2ce346df4a805fc7b5bd0b3e340241f9d9b20">pro/</a></td>
            
            <td class="age"> <span class="relatize">Tue Jul 14 23:50:18 -0700 2009</span> </td>
            <td class="message"> <a href="/johnboxall/django-paypal/commit/884b7c6268e09c5508d3d23212ddc991f333139c" class="message" title="Add a test for setExpressCheckout. Change PPP errors to a dict. Update item_check_callback documentation.">Add a test for setExpressCheckout. Change PPP e...</a> [<a href="/johnboxall">johnboxall</a>] </td>
          </tr>
        
                    <tr class="">
            <td class="icon"> <img alt="directory" src="https://assets1.github.com/images/icons/dir.png?274d0434aeb47f0996b73cbbc94b0b8fde1ad706" /> </td>
            <td class="content"> <a href="/johnboxall/django-paypal/tree/0c8aeec1c319a08ce1bfdf828534d01b69b8fa27/standard" class="js-slide-to" id="6715148b560c3a03316eafc6ab52f36474e4c024">standard/</a></td>
            
            <td class="age"> <span class="relatize">Wed Jul 15 01:16:32 -0700 2009</span> </td>
            <td class="message"> <a href="/johnboxall/django-paypal/commit/0c8aeec1c319a08ce1bfdf828534d01b69b8fa27" class="message" title="Added signal tests for ipn.">Added signal tests for ipn.</a> [<a href="/johnboxall">johnboxall</a>] </td>
          </tr>
        
                    <tr class="alt">
            <td class="icon"> <img alt="file" src="https://assets2.github.com/images/icons/txt.png?274d0434aeb47f0996b73cbbc94b0b8fde1ad706" /> </td>
            <td class="content"> <a href="/johnboxall/django-paypal/blob/0c8aeec1c319a08ce1bfdf828534d01b69b8fa27/.gitignore" class="js-slide-to" id="aae613cc92fa90f255c9e69781b3e69ae8fd9c7b">.gitignore</a></td>
            
            <td class="age"> <span class="relatize">Fri Apr 10 09:54:33 -0700 2009</span> </td>
            <td class="message"> <a href="/johnboxall/django-paypal/commit/2f78adc67f14142cb99a5e65e6754d5777c8634d" class="message" title="added pdt">added pdt</a> [Michael Thornhill] </td>
          </tr>
        
                    <tr class="">
            <td class="icon"> <img alt="file" src="https://assets2.github.com/images/icons/txt.png?274d0434aeb47f0996b73cbbc94b0b8fde1ad706" /> </td>
            <td class="content"> <a href="/johnboxall/django-paypal/blob/0c8aeec1c319a08ce1bfdf828534d01b69b8fa27/README.md" class="js-slide-to" id="a48229f74de3471762654b335ebbc57b339be461">README.md</a></td>
            
            <td class="age"> <span class="relatize">Tue Jul 14 23:50:18 -0700 2009</span> </td>
            <td class="message"> <a href="/johnboxall/django-paypal/commit/884b7c6268e09c5508d3d23212ddc991f333139c" class="message" title="Add a test for setExpressCheckout. Change PPP errors to a dict. Update item_check_callback documentation.">Add a test for setExpressCheckout. Change PPP e...</a> [<a href="/johnboxall">johnboxall</a>] </td>
          </tr>
        
                    <tr class="alt">
            <td class="icon"> <img alt="file" src="https://assets2.github.com/images/icons/txt.png?274d0434aeb47f0996b73cbbc94b0b8fde1ad706" /> </td>
            <td class="content"> <a href="/johnboxall/django-paypal/blob/0c8aeec1c319a08ce1bfdf828534d01b69b8fa27/__init__.py" class="js-slide-to" id="e69de29bb2d1d6434b8b29ae775ad8c2e48c5391">__init__.py</a></td>
            
            <td class="age"> <span class="relatize">Sun Feb 01 14:19:45 -0800 2009</span> </td>
            <td class="message"> <a href="/johnboxall/django-paypal/commit/6a7b5c805fb857f44f71748bc304077aa56c1e69" class="message" title="initial commit.">initial commit.</a> [<a href="/johnboxall">johnboxall</a>] </td>
          </tr>
        
      </table>
    </div>
  </div>
  <br style="clear:both;">


<br style="clear:both;">

<div class="frame frame-loading" style="display:none;">
  <img src="/images/modules/ajax/big_spinner_336699.gif">
</div>
    

  

      
    <div id="readme" class="announce md" data-path="/"><span class="name">README.md</span><div class="wikistyle"><h1>Django PayPal</h1>

<h2>About</h2>

<p>Django PayPal is a pluggable application that implements with PayPal Payments
Standard and Payments Pro.</p>

<p>Before diving in, a quick review of PayPal's payment methods is in order! <a href="https://cms.paypal.com/cms_content/US/en_US/files/developer/PP_WebsitePaymentsStandard_IntegrationGuide.pdf">PayPal Payments Standard</a> is the "Buy it Now" buttons you may have
seen floating around the internets. Buyers click on the button and are taken to PayPal's website where they can pay for the product. After completing the purchase PayPal makes an HTTP POST to your  <code>notify_url</code>. PayPal calls this process <a href="https://cms.paypal.com/cms_content/US/en_US/files/developer/PP_OrderMgmt_IntegrationGuide.pdf">Instant Payment Notification</a> (IPN) but you may know it as <a href="http://blog.webhooks.org">webhooks</a>. This method kinda sucks because it drops your customers off at PayPal's website but it's easy to implement and doesn't require SSL.</p>

<p>PayPal Payments Pro allows you to accept payments on your website. It contains two distinct payment flows - Direct Payment allows the user to enter credit card information on your website and pay on your website. Express Checkout sends the user over to PayPal to confirm their payment method before redirecting back to your website for confirmation. PayPal rules state that both methods must be implemented.</p>

<p>There is currently an active discussion over the handling of some of the finer points of the PayPal API and the evolution of this code base - check it out over at <a href="http://groups.google.com/group/django-paypal">Django PayPal on Google Groups</a>.</p>

<h2>Using PayPal Payments Standard IPN:</h2>

<ol>
<li>
<p>Download the code from GitHub:</p>

<pre><code> git clone git://github.com/johnboxall/django-paypal.git paypal
</code></pre>
</li>
<li>
<p>Edit <code>settings.py</code> and add  <code>paypal.standard.ipn</code> to your <code>INSTALLED_APPS</code>
and <code>PAYPAL_RECEIVER_EMAIL</code>:</p>

<pre><code> # settings.py
 ...
 INSTALLED_APPS = (... 'paypal.standard.ipn', ...)
 ...
 PAYPAL_RECEIVER_EMAIL = "yourpaypalemail@example.com"
</code></pre>
</li>
<li>
<p>Create an instance of the <code>PayPalPaymentsForm</code> in the view where you would
like to collect money. Call <code>render</code> on the instance in your template to
write out the HTML.</p>

<pre><code># views.py
...
from paypal.standard.forms import PayPalPaymentsForm

def view_that_asks_for_money(request):

    # What you want the button to do.
    paypal_dict = {
        "business": "yourpaypalemail@example.com",
        "amount": "10000000.00",
        "item_name": "name of the item",
        "invoice": "unique-invoice-id",
        "notify_url": "http://www.example.com/your-ipn-location/",
        "return_url": "http://www.example.com/your-return-location/",
        "cancel_return": "http://www.example.com/your-cancel-location/",

    }

    # Create the instance.
    form = PayPalPaymentsForm(initial=paypal_dict)
    context = {"form": form}
    return render_to_response("payment.html", context)


&lt;!-- payment.html --&gt;
...
&lt;h1&gt;Show me the money!&lt;/h1&gt;
&lt;!-- writes out the form tag automatically --&gt;
{{ form.render }}
</code></pre>
</li>
<li>
<p>When someone uses this button to buy something PayPal makes a HTTP POST to
your "notify_url". PayPal calls this Instant Payment Notification (IPN).
The view <code>paypal.standard.ipn.views.ipn</code> handles IPN processing. To set the
correct <code>notify_url</code> add the following to your <code>urls.py</code>:</p>

<pre><code># urls.py
...
urlpatterns = patterns('',
    (r'^something/hard/to/guess/', include('paypal.standard.ipn.urls')),
)
</code></pre>
</li>
<li>
<p>Whenever an IPN is processed a signal will be sent with the result of the
transaction. Connect the signals to actions to perform the needed operations
when a successful payment is recieved.</p>

<p>There are two signals for basic transactions:</p>

<ul>
<li><code>payment_was_succesful</code></li>
<li><code>payment_was_flagged</code></li>
</ul>
<p>And four signals for subscriptions:</p>

<ul>
<li>
<code>subscription_cancel</code> - Sent when a subscription is cancelled.</li>
<li>
<code>subscription_eot</code> - Sent when a subscription expires.</li>
<li>
<code>subscription_modify</code> - Sent when a subscription is modified.</li>
<li>
<code>subscription_signup</code> - Sent when a subscription is created.</li>
</ul>
<p>Connect to these signals and update your data accordingly. <a href="http://docs.djangoproject.com/en/dev/topics/signals/">Django Signals Documentation</a>.</p>

<pre><code># models.py
...
from paypal.standard.ipn.signals import payment_was_successful

def show_me_the_money(sender, **kwargs):
    ipn_obj = sender
    # Undertake some action depending upon `ipn_obj`.
    if ipn_obj.custom == "Upgrade all users!":
        Users.objects.update(paid=True)        
payment_was_successful.connect(show_me_the_money)
</code></pre>
</li>
</ol><h2>Using PayPal Payments Standard PDT:</h2>

<p>Paypal Payment Data Transfer (PDT) allows you to display transaction details to a customer immediately on return to your site unlike PayPal IPN which may take some seconds. <a href="https://cms.paypal.com/us/cgi-bin/?cmd=_render-content&amp;content_ID=developer/howto_html_paymentdatatransfer">You will need to enable PDT in your PayPal account to use it.your PayPal account to use it</a>.</p>

<ol>
<li>
<p>Download the code from GitHub:</p>

<pre><code> git clone git://github.com/johnboxall/django-paypal.git paypal
</code></pre>
</li>
<li>
<p>Edit <code>settings.py</code> and add  <code>paypal.standard.pdt</code> to your <code>INSTALLED_APPS</code>. Also set <code>PAYPAL_IDENTITY_TOKEN</code> - you can find the correct value of this setting from the PayPal website:</p>

<pre><code> # settings.py
 ...
 INSTALLED_APPS = (... 'paypal.standard.pdt', ...)

 PAYPAL_IDENTITY_TOKEN = "xxx"
</code></pre>
</li>
<li><p>Create a view that uses <code>PayPalPaymentsForm</code> just like in PayPal IPN.</p></li>
<li>
<p>After someone uses this button to buy something PayPal will return the user to your site at
your "return_url" with some extra GET parameters. PayPal calls this Payment Data Transfer (PDT).
The view <code>paypal.standard.pdt.views.pdt</code> handles PDT processing. to specify the correct
 <code>return_url</code> add the following to your <code>urls.py</code>:</p>

<pre><code># urls.py
...
urlpatterns = patterns('',
    (r'^paypal/pdt/', include('paypal.standard.pdt.urls')),
    ...
)
</code></pre>
</li>
</ol><h2>Using PayPal Payments Standard with Subscriptions:</h2>

<ol>
<li>
<p>For subscription actions, you'll need to add a parameter to tell it to use the subscription buttons and the command, plus any
subscription-specific settings:</p>

<pre><code># views.py
...
paypal_dict = {
    "cmd": "_xclick-subscriptions",
    "business": "your_account@paypal",
    "a3": "9.99",                      # monthly price 
    "p3": 1,                           # duration of each unit (depends on unit)
    "t3": "M",                         # duration unit ("M for Month")
    "src": "1",                        # make payments recur
    "sra": "1",                        # reattempt payment on payment error
    "no_note": "1",                    # remove extra notes (optional)
    "item_name": "my cool subscription",
    "notify_url": "http://www.example.com/your-ipn-location/",
    "return_url": "http://www.example.com/your-return-location/",
    "cancel_return": "http://www.example.com/your-cancel-location/",
}

# Create the instance.
form = PayPalPaymentsForm(initial=paypal_dict, button_type="subscribe")

# Output the button.
form.render()
</code></pre>
</li>
</ol><h2>Using PayPal Payments Standard with Encrypted Buttons:</h2>

<p>Use this method to encrypt your button so sneaky gits don't try to hack it. Thanks to <a href="http://jonatkinson.co.uk/">Jon Atkinson</a> for the <a href="http://jonatkinson.co.uk/paypal-encrypted-buttons-django/">tutorial</a>.</p>

<ol>
<li>
<p>Encrypted buttons require the <code>M2Crypto</code> library:</p>

<pre><code> easy_install M2Crypto
</code></pre>
</li>
<li>
<p>Encrypted buttons require certificates. Create a private key:</p>

<pre><code> openssl genrsa -out paypal.pem 1024
</code></pre>
</li>
<li>
<p>Create a public key:</p>

<pre><code> openssl req -new -key paypal.pem -x509 -days 365 -out pubpaypal.pem
</code></pre>
</li>
<li>
<p>Upload your public key to the paypal website (sandbox or live).</p>

<p> <a href="https://www.paypal.com/us/cgi-bin/webscr?cmd=_profile-website-cert">https://www.paypal.com/us/cgi-bin/webscr?cmd=_profile-website-cert</a></p>

<p> <a href="https://www.sandbox.paypal.com/us/cgi-bin/webscr?cmd=_profile-website-cert">https://www.paypal.com/us/cgi-bin/webscr?cmd=_profile-website-cert</a></p>
</li>
<li><p>Copy your <code>cert id</code> - you'll need it in two steps. It's on the screen where
you uploaded your public key.</p></li>
<li><p>Download PayPal's public certificate - it's also on that screen.</p></li>
<li>
<p>Edit your <code>settings.py</code> to include cert information:</p>

<pre><code> # settings.py
 PAYPAL_PRIVATE_CERT = '/path/to/paypal.pem'
 PAYPAL_PUBLIC_CERT = '/path/to/pubpaypal.pem'
 PAYPAL_CERT = '/path/to/paypal_cert.pem'
 PAYPAL_CERT_ID = 'get-from-paypal-website'
</code></pre>
</li>
<li>
<p>Swap out your unencrypted button for a <code>PayPalEncryptedPaymentsForm</code>:</p>

<pre><code> # views.py
 from paypal.standard.forms import PayPalEncryptedPaymentsForm

 def view_that_asks_for_money(request):
     ...
     # Create the instance.
     form = PayPalPaymentsForm(initial=paypal_dict)
     # Works just like before!
     form.render()
</code></pre>
</li>
</ol><h2>Using PayPal Payments Standard with Encrypted Buttons and Shared Secrets:</h2>

<p>This method uses Shared secrets instead of IPN postback to verify that transactions
are legit. PayPal recommends you should use Shared Secrets if:</p>

<pre><code>* You are not using a shared website hosting service. 
* You have enabled SSL on your web server. 
* You are using Encrypted Website Payments. 
* You use the notify_url variable on each individual payment transaction.
</code></pre>

<p>Use postbacks for validation if:</p>

<pre><code>* You rely on a shared website hosting service 
* You do not have SSL enabled on your web server 
</code></pre>

<ol>
<li>
<p>Swap out your button for a <code>PayPalSharedSecretEncryptedPaymentsForm</code>:</p>

<pre><code> # views.py
 from paypal.standard.forms import PayPalSharedSecretEncryptedPaymentsForm

 def view_that_asks_for_money(request):
     ...
     # Create the instance.
     form = PayPalSharedSecretEncryptedPaymentsForm(initial=paypal_dict)
     # Works just like before!
     form.render()
</code></pre>
</li>
<li><p>Verify that your IPN endpoint is running on SSL - <code>request.is_secure()</code> should return <code>True</code>!</p></li>
</ol><h2>Using PayPal Payments Pro (WPP)</h2>

<p>WPP is the more awesome version of PayPal that lets you accept payments on your
site. WPP reuses code from <code>paypal.standard</code> so you'll need to include both
apps. <a href="http://www.pdncommunity.com/pdn/board/message?board.id=wppro&amp;thread.id=192">There is an explanation of WPP in the PayPal Forums</a>.</p>

<ol>
<li>
<p>Edit <code>settings.py</code> and add  <code>paypal.standard</code> and <code>paypal.pro</code> to your
<code>INSTALLED_APPS</code>, also set your PayPal settings:</p>

<pre><code> # settings.py
 ...
 INSTALLED_APPS = (... 'paypal.standard', 'paypal.pro', ...)
 PAYPAL_TEST = True           # Testing mode on
 PAYPAL_WPP_USER = "???"      # Get from PayPal
 PAYPAL_WPP_PASSWORD = "???"
 PAYPAL_WPP_SIGNATURE = "???"
</code></pre>
</li>
<li><p>Run <code>python manage.py syncdb</code> to add the required tables.</p></li>
<li>
<p>Write a wrapper view for <code>paypal.pro.views.PayPalPro</code>:</p>

<pre><code> # views.py
 from paypal.pro.views import PayPalPro

 def buy_my_item(request):
   item = {"amt": "10.00",             # amount to charge for item
           "inv": "inventory",         # unique tracking variable paypal
           "custom": "tracking",       # custom tracking variable for you
           "cancelurl": "http://...",  # Express checkout cancel url
           "returnurl": "http://..."}  # Express checkout return url

   kw = {"item": item,                            # what you're selling
         "payment_template": "payment.html",      # template name for payment
         "confirm_template": "confirmation.html", # template name for confirmation
         "success_url": "/success/"}              # redirect location after success

   ppp = PayPalPro(**kw)
   return ppp(request)
</code></pre>
</li>
<li>
<p>Create templates for payment and confirmation. By default both templates are
populated with the context variable <code>form</code> which contains either a
<code>PaymentForm</code> or a <code>Confirmation</code> form.</p>

<p> 
 </p>
<h1>Show me the money</h1>
 
   {{ form }}
   

<p> 
 </p>
<h1>Are you sure you want to buy this thing?</h1>
 
   {{ form }}
   </li>
<li>
<p>Add your view to <code>urls.py</code>, and add the IPN endpoint to receive callbacks
from PayPal:</p>

<pre><code> # urls.py
 ...
 urlpatterns = ('',
     ...
     (r'^payment-url/$', 'myproject.views.buy_my_item')
     (r'^some/obscure/name/', include('paypal.standard.ipn.urls')),
 )
</code></pre>
</li>
<li><p>Profit.</p></li>
</ol><h2>Links:</h2>

<ol>
<li><p><a href="https://www.sandbox.paypal.com/us/cgi-bin/webscr?cmd=_profile-ipn-notify">Set your IPN Endpoint on the PayPal Sandbox</a></p></li>
<li><p><a href="http://groups.google.com/group/django-paypal">Django PayPal on Google Groups</a></p></li>
</ol><h1>License (MIT)</h1>

<p>Copyright (c) 2009 Handi Mobility Inc.</p>

<p>Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the "Software"), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:</p>

<p>The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.</p></div></div>
  </div>



    </div>
  
      
    </div>

    <div id="footer" class="clearfix">
      <div class="site">
        <div class="sponsor">
          <a href="http://www.rackspace.com" class="logo">
            <img alt="Dedicated Server" src="https://assets0.github.com/images/modules/footer/rackspace_logo.png?v2?9be3b31760b2ed1e0983740b292778ab7067fa37" />
          </a>
          Powered by the <a href="http://www.rackspace.com ">Dedicated
          Servers</a> and<br/> <a href="http://www.rackspacecloud.com">Cloud
          Computing</a> of Rackspace Hosting<span>&reg;</span>
        </div>

        <ul class="links">
          <li class="blog"><a href="https://github.com/blog">Blog</a></li>
          <li><a href="http://support.github.com">Support</a></li>
          <li><a href="https://github.com/training">Training</a></li>
          <li><a href="http://jobs.github.com">Job Board</a></li>
          <li><a href="http://shop.github.com">Shop</a></li>
          <li><a href="https://github.com/contact">Contact</a></li>
          <li><a href="http://develop.github.com">API</a></li>
          <li><a href="http://status.github.com">Status</a></li>
        </ul>
        <ul class="sosueme">
          <li class="main">&copy; 2010 <span id="_rrt" title="0.04773s from fe2.rs.github.com">GitHub</span> Inc. All rights reserved.</li>
          <li><a href="/site/terms">Terms of Service</a></li>
          <li><a href="/site/privacy">Privacy</a></li>
          <li><a href="https://github.com/security">Security</a></li>
        </ul>
      </div>
    </div><!-- /#footer -->

    
      
      
        <!-- current locale:  -->
        <div class="locales">
          <div class="site">

            <ul class="choices clearfix limited-locales">
              <li><span class="current">English</span></li>
              
                  <li><a rel="nofollow" href="?locale=de">Deutsch</a></li>
              
                  <li><a rel="nofollow" href="?locale=fr">Français</a></li>
              
                  <li><a rel="nofollow" href="?locale=ja">日本語</a></li>
              
                  <li><a rel="nofollow" href="?locale=pt-BR">Português (BR)</a></li>
              
                  <li><a rel="nofollow" href="?locale=ru">Русский</a></li>
              
                  <li><a rel="nofollow" href="?locale=zh">中文</a></li>
              
              <li class="all"><a href="#" class="minibutton btn-forward js-all-locales"><span><span class="icon"></span>See all available languages</span></a></li>
            </ul>

            <div class="all-locales clearfix">
              <h3>Your current locale selection: <strong>English</strong>. Choose another?</h3>
              
              
                <ul class="choices">
                  
                      <li><a rel="nofollow" href="?locale=en">English</a></li>
                  
                      <li><a rel="nofollow" href="?locale=af">Afrikaans</a></li>
                  
                      <li><a rel="nofollow" href="?locale=ca">Català</a></li>
                  
                      <li><a rel="nofollow" href="?locale=cs">Čeština</a></li>
                  
                </ul>
              
                <ul class="choices">
                  
                      <li><a rel="nofollow" href="?locale=de">Deutsch</a></li>
                  
                      <li><a rel="nofollow" href="?locale=es">Español</a></li>
                  
                      <li><a rel="nofollow" href="?locale=fr">Français</a></li>
                  
                      <li><a rel="nofollow" href="?locale=hr">Hrvatski</a></li>
                  
                </ul>
              
                <ul class="choices">
                  
                      <li><a rel="nofollow" href="?locale=id">Indonesia</a></li>
                  
                      <li><a rel="nofollow" href="?locale=it">Italiano</a></li>
                  
                      <li><a rel="nofollow" href="?locale=ja">日本語</a></li>
                  
                      <li><a rel="nofollow" href="?locale=nl">Nederlands</a></li>
                  
                </ul>
              
                <ul class="choices">
                  
                      <li><a rel="nofollow" href="?locale=no">Norsk</a></li>
                  
                      <li><a rel="nofollow" href="?locale=pl">Polski</a></li>
                  
                      <li><a rel="nofollow" href="?locale=pt-BR">Português (BR)</a></li>
                  
                      <li><a rel="nofollow" href="?locale=ru">Русский</a></li>
                  
                </ul>
              
                <ul class="choices">
                  
                      <li><a rel="nofollow" href="?locale=sr">Српски</a></li>
                  
                      <li><a rel="nofollow" href="?locale=sv">Svenska</a></li>
                  
                      <li><a rel="nofollow" href="?locale=zh">中文</a></li>
                  
                </ul>
              
            </div>

          </div>
          <div class="fade"></div>
        </div>
      
    

    <script>window._auth_token = "90c1a90e25fa6f1d5bf0d3f01e02220584492100"</script>
    <div id="keyboard_shortcuts_pane" style="display:none">
  <h2>Keyboard Shortcuts</h2>

  <div class="columns threecols">
    <div class="column first">
      <h3>Site wide shortcuts</h3>
      <dl class="keyboard-mappings">
        <dt>s</dt>
        <dd>Focus site search</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>?</dt>
        <dd>Bring up this help dialog</dd>
      </dl>
    </div><!-- /.column.first -->
    <div class="column middle">
      <h3>Commit list</h3>
      <dl class="keyboard-mappings">
        <dt>j</dt>
        <dd>Move selected down</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>k</dt>
        <dd>Move selected up</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>t</dt>
        <dd>Open tree</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>p</dt>
        <dd>Open parent</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>c <em>or</em> o <em>or</em> enter</dt>
        <dd>Open commit</dd>
      </dl>
    </div><!-- /.column.first -->
    <div class="column last">
      <h3>Pull request list</h3>
      <dl class="keyboard-mappings">
        <dt>j</dt>
        <dd>Move selected down</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>k</dt>
        <dd>Move selected up</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>o <em>or</em> enter</dt>
        <dd>Open issue</dd>
      </dl>
    </div><!-- /.columns.last -->
  </div><!-- /.columns.equacols -->

  <div class="rule"></div>

  <h3>Issues</h3>

  <div class="columns threecols">
    <div class="column first">
      <dl class="keyboard-mappings">
        <dt>j</dt>
        <dd>Move selected down</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>k</dt>
        <dd>Move selected up</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>x</dt>
        <dd>Toggle select target</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>o <em>or</em> enter</dt>
        <dd>Open issue</dd>
      </dl>
    </div><!-- /.column.first -->
    <div class="column middle">
      <dl class="keyboard-mappings">
        <dt>I</dt>
        <dd>Mark selected as read</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>U</dt>
        <dd>Mark selected as unread</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>e</dt>
        <dd>Close selected</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>y</dt>
        <dd>Remove selected from view</dd>
      </dl>
    </div><!-- /.column.middle -->
    <div class="column last">
      <dl class="keyboard-mappings">
        <dt>c</dt>
        <dd>Create issue</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>l</dt>
        <dd>Create label</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>i</dt>
        <dd>Back to inbox</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>u</dt>
        <dd>Back to issues</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>/</dt>
        <dd>Focus issues search</dd>
      </dl>
    </div>
  </div>

  <div class="rule"></div>

  <h3>Network Graph</h3>
  <div class="columns equacols">
    <div class="column first">
      <dl class="keyboard-mappings">
        <dt>← <em>or</em> h</dt>
        <dd>Scroll left</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>→ <em>or</em> l</dt>
        <dd>Scroll right</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>↑ <em>or</em> k</dt>
        <dd>Scroll up</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>↓ <em>or</em> j</dt>
        <dd>Scroll down</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>t</dt>
        <dd>Toggle visibility of head labels</dd>
      </dl>
    </div><!-- /.column.first -->
    <div class="column last">
      <dl class="keyboard-mappings">
        <dt>shift ← <em>or</em> shift h</dt>
        <dd>Scroll all the way left</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>shift → <em>or</em> shift l</dt>
        <dd>Scroll all the way right</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>shift ↑ <em>or</em> shift k</dt>
        <dd>Scroll all the way up</dd>
      </dl>
      <dl class="keyboard-mappings">
        <dt>shift ↓ <em>or</em> shift j</dt>
        <dd>Scroll all the way down</dd>
      </dl>
    </div><!-- /.column.last -->
  </div>

</div>
    

    <!--[if IE 8]>
    <script type="text/javascript" charset="utf-8">
      $(document.body).addClass("ie8")
    </script>
    <![endif]-->

    <!--[if IE 7]>
    <script type="text/javascript" charset="utf-8">
      $(document.body).addClass("ie7")
    </script>
    <![endif]-->

    <script type="text/javascript">
      _kmq.push(['trackClick', 'entice-signup-button', 'Entice banner clicked']);
      
    </script>
    
  </body>
</html>

