

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head><meta name="robots" content="index,follow" />
<meta name="GENERATOR" content="Telligent Community (Build: 5.5.134.11459)" />
<link rel="alternate" type="application/rss+xml" title="Site Home (RSS 2.0)" href="http://blogs.msdn.com/rss.aspx"  />
<link rel="alternate" type="application/rss+xml" title="Coding4Fun&#39;s Comments (RSS 2.0)" href="/members/Coding4Fun/comments/rss.aspx"  />
<link rel="alternate" type="application/rss+xml" title="Coding4Fun&#39;s Activities (RSS 2.0)" href="/members/Coding4Fun/activities/rss.aspx"  />
<link rel="alternate" type="application/rss+xml" title="Activities of People Coding4Fun Follows (RSS 2.0)" href="/members/Coding4Fun/activities/followersrss.aspx"  />
<link rel="alternate" type="application/rss+xml" title="Coding4Fun&#39;s Groups Activities (RSS 2.0)" href="/members/Coding4Fun/activities/groupsrss.aspx"  />
<link rel="alternate" type="application/rss+xml" title="Coding4Fun (RSS 2.0)" href="http://blogs.msdn.com/b/coding4fun/rss.aspx"  />
<link rel="alternate" type="application/atom+xml" title="Coding4Fun (Atom 1.0)" href="http://blogs.msdn.com/b/coding4fun/atom.aspx"  />
<link rel="alternate" type="application/rss+xml" title="Coding4Fun - All Comments (RSS 2.0)" href="http://blogs.msdn.com/b/coding4fun/rsscomments.aspx"  />

            <link rel="stylesheet" href="/themes/generic/css/layout.css" type="text/css" media="screen" />
        
          <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
          <link rel="shortcut icon" type="image/ico" href="/themes/wireframe/favicon.ico" />
          <link type="text/css" rel="stylesheet" href="/themes/wireframe/css/screen.css" media="screen,print" />
        
          <link type="text/css" rel="stylesheet" href="/themes/blogs/wireframe/css/wireframe.css" media="screen,print" />		
          <link type="text/css" rel="stylesheet" href="/themes/wireframe/css/DynamicStyle.aspx?PreviewKey=0" media="screen,print" />
          <link type="text/css" rel="stylesheet" href="/themes/blogs/wireframe/css/DynamicStyle.aspx?WeblogID=4539&PreviewKey=0" media="screen,print" />
        
          <!--[if lte IE 6]>
              <link type="text/css" rel="stylesheet" href="/themes/wireframe/css/ie6.css" media="screen,print" />
          <![endif]-->
          <link type="text/css" rel="stylesheet" href="/themes/wireframe/css/print.css" media="print" />
        <link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://blogs.msdn.com/b/coding4fun/rsd.ashx" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" title="WLWManifest" href="http://blogs.msdn.com/b/coding4fun/wlwmanifest.ashx" />
<title>
	Coding4Fun - Site Home - MSDN Blogs
</title></head>
	<body spellcheck="true">
		<form name="aspnetForm" method="post" action="/b/coding4fun/" id="aspnetForm">
<div>
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwUKMTM5OTAxNDYyNWRkDtRVwYYdLN5WMJAfmBjpy+lIufE=" />
</div>


<script src="/WebResource.axd?d=SOm_d8KPCvLZqYHrhruKr9DdER9uVeTCF1FNDrQsmkkW6AGoFUpVPsp_sTVI0yBnuCqmAGaw9mn1GN6KHTm-O-scKjBDPWhJUPaoE5GX-W_PceNeDrCYaZsBFYwMz8SJcVcGWXF1earb2kCelpGh_yHCFNurOjx3n2A7T22-FJOIrny2temFXRG8ehi8UGCKQTTzSM4cj0CEdSfmhseuKk27Fmk1&amp;t=634273213075262078" type="text/javascript"></script><script type="text/javascript" src="/utility/jquery/jquery-1.3.2.min.js"></script>
<script src="/WebResource.axd?d=5h4uDIKw0jfgLvo3lCMA-4uYbYFLjWH-CYL_-M2qsXt9DrFoEenc0y52xIhQOIuH3vbY259X3nftMHddV3CFRlcHaaTZaWGgUpmuHdITXpKI9rvCcKFLHbyvpaIOj0Z3daJZkb5OxqyK8MexioOup8dp9HMMcUIaOaV45OQR7pBZLMmbWyMtl_nN2Z62vnk7be3DkGA0e424SusmrWa2Gh69sQk1&amp;t=634273213066511203" type="text/javascript"></script>
<script src="/WebResource.axd?d=X_bemaoIL4hjGUz9ZLneLqw-9c9VLtsWZNcpFAvJZjyKqy0p35kk2J5MVTgZ0_e7dzVplzG4gPuhYGCSEZ9_2V48ALIbJSP67YqRe_uBJ_EZoaemm2d7CXOUW-nZ8_pxnmZG0zD-4rwjao05LtAkIZm3fBDpXoPLWyORtmFV3KS69tTk0&amp;t=634273213088233375" type="text/javascript"></script>
<script src="/WebResource.axd?d=3GU3tjSEW1ECXKvAUZHsxDFAslEZgbJjoLfCXBVUTswP5j5YYgW1hzjXqjzKD2dwNn0_t62E4VjYXqkzlUOlcdFK8Z_Brbo2xSEHJwdXoWqZ2JKysmKSDqwNmwzMbkFAkkWixyHGSjXGuv05u78Pi5NT0vd1V1i0XAu44rGfRSX4FePt0&amp;t=634273213088233375" type="text/javascript"></script>
<script src="/WebResource.axd?d=ZNAKjLeYJhqT_oJ98OwZwVJzbm3UJOEc5LdYje7ix7F87IHOHrdtwh0VGbHW1w50Wi1G774JMTJOjcODrws7U3QA83DLFF0NxSeh0X7TA1drh1FHRbbpemnlRUet9k4QWDfNyUfoZvWBZm4x8hX6igDXjctw10e4qulgpzBxItVQN2eu0&amp;t=634273213075262078" type="text/javascript"></script>
<script src="/WebResource.axd?d=6FRFqSBfWW_ZCmFE0BqdIlvcr4zxqdiaWN8vp2XHPAhpG0AD0_NxkFQ1CcKGC40FJPxdj4F8A7tYf9Z_yaF3WsmUxjEtOVMNJXB8Kwa3_EVNAC48gN_yerZiw_aK8Oz17MWCcfozfjgs_8aIixBDL-2IeZQx3Xlbop7fBCJv5wwZ9pQJ0&amp;t=634273213088233375" type="text/javascript"></script>
<script src="/WebResource.axd?d=-I9opVMlYERsOWADr5Ja4RssDj9bjzJHgxNjPQ9OjvoFh9msYez2FDTy088QYu1C72c0WsRQFRwLvbjkl5W-5nUXl_DP64ke9Lcb62qn5BUa-Pc2HN1pvm_BxvRFy0R5YH4IK1QyICM_8SECrbjcS3m5T6W1PwtrsEZAgYO-WlfqJYLwakPjAePpK_rDp4hCPrtBXA2&amp;t=634273213088233375" type="text/javascript"></script>
<script src="/WebResource.axd?d=HaOPiNm1e0sLVdYesQz9mxWwGXMPQMB4pwvUsGB8ZJGyRNswfv6H9HTF-JKe-U2Y1vxDijsXcYELa58DHCNpyH_92CgFm0Ufhn79o8ERhzVbFsOVbA3l7FI1LLkkpikqzv90nK2u1s9OJzHVD9CVAFXD88fLNAeJyjBJ4gdZzh9UGdLy0&amp;t=634273213075262078" type="text/javascript"></script>
<script src="/WebResource.axd?d=TjiNY1rmv8W4Kzz4QZNyp2P63E6t793JZRNHHbvHuWrJaqpghfU8youCEpBAslnDhi_lkdjijHgIojxgUIqfM-y1jhUZUA-jM-Afdq2fsvIyNiGpZ-YmVXiUSdcBUkhRxJsxknB8hZRBkMJhhgaW8RIio1ZUVIB-8C07L5RKMfEOZZh00&amp;t=634273213075262078" type="text/javascript"></script>
			
            
                
            
            <div class="header-fragments-header"></div>
<div class="header-fragments"><div class="header-fragment-outer top-bar wireframe-header-fragment-outer wireframe-top-bar"><div class="header-fragment-inner top-bar wireframe-header-fragment-inner wireframe-top-bar"><div class="header-fragment welcome-message" id="fragment-1d2a9972-98ad-4e64-ac99-8f9e8b2dca6a">


<!-- always render -->
</div><div class="header-fragment login-logout" id="fragment-8a7cf0db-8f14-4743-a30b-f3c088aeb909">





        <div class="navigation-list-header"></div>
        <ul class="navigation-list">

            <li class="navigation-item">
                <span id="ctl00_fragment_8a7cf0db_8f14_4743_a30b_f3c088aeb909_ctl01_ctl02_ctl05_WLIDLoginButton1" class="internal-link live-id-button"><a href="https://login.live.com/login.srf?wa=wsignin1.0&rpsnv=11&ct=1292861517&rver=6.0.5286.0&wp=MBI&wreply=http:%2F%2Fblogs.msdn.com%2Fb%2Fcoding4fun%2Fdefault.aspx&lc=1033&id=271611">Sign in</a></span>
            </li>
        </ul>
        <div class="navigation-list-footer"></div>
    </div><div class="header-fragment user-welcome-without-login" id="fragment-c7601cfb-209f-4f37-8f49-5d88dce1f4a1">

 &nbsp;<!-- always render -->

</div></div></div><div class="header-fragment-outer wireframe-header-fragment-outer site-banner"><div class="header-fragment-inner wireframe-header-fragment-inner site-banner"><div class="header-fragment site-banner" id="fragment-76b94ed9-1972-4650-aa80-eeb6347f0e54">


<div class="site-banner-header"></div>
<div class="site-banner">
    
    
    
            <div class="site-logo"><a href="/">
                    <img src="/themes/MSDN2/images/MSDN/logo_msdn.png" alt="" style="border-width:0px;" />
                </a></div>
        
</div>
<div class="site-banner-footer"></div></div></div></div><div class="header-fragment-outer wireframe-header-fragment-outer search"><div class="header-fragment-inner wireframe-header-fragment-inner search"><div class="header-fragment search" id="fragment-6fa4c54e-967c-42f3-a08a-37ab00f4ece2">

<script src="/Utility/HeaderFragments/Core/Search.js?Version=5.5.134.11459&amp;LastChanged=634273500883122866" type="text/javascript"></script>

<script type="text/javascript">
	// <![CDATA[
	var Core_Search_AjaxEndpoint = '/Utility/HeaderFragments/Core/SearchAjax.asmx'
	var Core_Search_NoSearchResults = 'No results found'

	var ctl00_fragment_6fa4c54e_967c_42f3_a08a_37ab00f4ece2={"wrapperId":"fragment-6fa4c54e-967c-42f3-a08a-37ab00f4ece2","variableName":"ctl00_fragment_6fa4c54e_967c_42f3_a08a_37ab00f4ece2","parameter":{"popupId":"ctl00_fragment_6fa4c54e_967c_42f3_a08a_37ab00f4ece2_ctl01_SearchPopup","textBoxId":"ctl00_fragment_6fa4c54e_967c_42f3_a08a_37ab00f4ece2_ctl01_SearchText","searchResultWrapperHtmlBlock":"{SearchResults}","searchGroupHtmlBlock":"\r\n\t\t<div class=\"content-list-header\"></div>\r\n\t\t<div class=\"content-list-name\">{ContentName}</div>\r\n\t\t<ul class=\"content-list\">\r\n\t\t\t{ContentItems}\r\n\t\t</ul>\r\n\t\t<div class=\"content-list-footer\"></div>\r\n\t\t","searchItemHtmlBlock":"<li class=\"content-item\"><a href=\"{Link}\" class=\"internal-link {LinkType}\"><span></span>{Title}</a></li>\t\t","searchSearchingHtmlBlock":"<div class=\"message loading\">Searching...</div>","searchNoResultsHtmlBlock":"<div class=\"message norecords\">No results found</div>","showAllHtmlBlock":"<a href=\"{ShowAllLink}\" class=\"internal-link search\"><span></span>Show All...</a>","searchErrorHtmlBlock":"<div class=\"message error\">Search is currently unavailable.</div>","searchOptionsPopup":"ctl00_fragment_6fa4c54e_967c_42f3_a08a_37ab00f4ece2_ctl01_SearchOptionsPopup","searchOptionName":"ctl00_fragment_6fa4c54e_967c_42f3_a08a_37ab00f4ece2_ctl01_filter","lastKeyCode":"","timeout":""}};
		
	$(document).ready(function() {
		Core_Search_Register(ctl00_fragment_6fa4c54e_967c_42f3_a08a_37ab00f4ece2);
	});
	// ]]>
</script>

<div class="field-list-header">
</div>
<fieldset class="field-list">
	<ul class="field-list">
		<li class="field-item"><span class="field-item-input"><input name="ctl00$fragment_6fa4c54e_967c_42f3_a08a_37ab00f4ece2$ctl01$SearchText" type="text" maxlength="64" size="15" id="ctl00_fragment_6fa4c54e_967c_42f3_a08a_37ab00f4ece2_ctl01_SearchText" class="search empty" /></span></li>
		
	</ul>
</fieldset>
<div class="field-list-footer">
</div>
<div id="ctl00_fragment_6fa4c54e_967c_42f3_a08a_37ab00f4ece2_ctl01_SearchPopup" style="position:absolute;visibility:hidden;left:-5000px;"></div>

</div></div></div><div class="header-fragment-outer wireframe-header-fragment-outer group-navigation"><div class="header-fragment-inner wireframe-header-fragment-inner group-navigation"><div class="header-fragment group-navigation" id="fragment-1d7fbf5e-56bf-4f31-ab9f-95d68b560cbb">

<script src="/Utility/HeaderFragments/Core/GroupNavigation.js?Version=5.5.134.11459" type="text/javascript"></script>
    
<div id="ctl00_fragment_1d7fbf5e_56bf_4f31_ab9f_95d68b560cbb_ctl01_ctl00_ParentGroupListContainer" class="parent-container" style="width: 100%">
<div class="parent-sub-container">
	
            <div class="navigation-list-header"></div>
            <ul class="navigation-list parent">
            <li class="navigation-item" style="display: none;">
                <a href="/">MSDN Blogs</a>
            </li>
        
            <li class="navigation-item entry" style="display: none;">
				
						<a class="internal-link view-group" href="/Microsoft_Blog_Images/"><span></span>Microsoft Blog Images</a>
					
            </li>
        
			
            <li class="navigation-item last">
				<a id="MoreLink" style="display:none;" onmouseover="Core_GroupNavigation_MoreShowNav(ctl00_fragment_1d7fbf5e_56bf_4f31_ab9f_95d68b560cbb, true, this)" onmouseout="Core_GroupNavigation_MoreMouseOutPopup(ctl00_fragment_1d7fbf5e_56bf_4f31_ab9f_95d68b560cbb, true, this)" href="#">More ...</a>
            </li>
            </ul>
            <div class="navigation-list-footer"></div>
        
</div>
</div>
<div id="ctl00_fragment_1d7fbf5e_56bf_4f31_ab9f_95d68b560cbb_ctl01_ctl00_GroupNavigationPopup" style="position:absolute;visibility:hidden;left:-5000px;"></div>
<div id="ctl00_fragment_1d7fbf5e_56bf_4f31_ab9f_95d68b560cbb_ctl01_ctl00_ParentMore" style="display: none;">
    <div class="content-list-header"></div>
    <ul id="ParentMoreListfragment-1d7fbf5e-56bf-4f31-ab9f-95d68b560cbb" class="content-list">
    </ul>
    <div class="content-list-footer"></div>
</div>
<div id="ctl00_fragment_1d7fbf5e_56bf_4f31_ab9f_95d68b560cbb_ctl01_ctl00_ChildMore" style="display: none;">
    <div class="content-list-header"></div>
    <ul id="ChildMoreListfragment-1d7fbf5e-56bf-4f31-ab9f-95d68b560cbb" class="content-list">
    </ul>
    <div class="content-list-footer"></div>
</div>
	
<script type="text/javascript">
    // <![CDATA[
    
    var Core_GroupNavigation_AjaxEndpoint = '/Utility/HeaderFragments/Core/GroupNavigationAjax.asmx';
        
    var ctl00_fragment_1d7fbf5e_56bf_4f31_ab9f_95d68b560cbb={"wrapperId":"fragment-1d7fbf5e-56bf-4f31-ab9f-95d68b560cbb","variableName":"ctl00_fragment_1d7fbf5e_56bf_4f31_ab9f_95d68b560cbb","parameter":{"currentGroupId":0,"popupMenuId":"ctl00_fragment_1d7fbf5e_56bf_4f31_ab9f_95d68b560cbb_ctl01_ctl00_GroupNavigationPopup","popupParentMoreId":"ctl00_fragment_1d7fbf5e_56bf_4f31_ab9f_95d68b560cbb_ctl01_ctl00_ParentMore","popupChildMoreId":"ctl00_fragment_1d7fbf5e_56bf_4f31_ab9f_95d68b560cbb_ctl01_ctl00_ChildMore","popupWrapperID":"popup-ctl00_fragment_1d7fbf5e_56bf_4f31_ab9f_95d68b560cbb_ctl01_ctl00_GroupNavigationPopup","mouseInPopup":false,"popupPopulated":false,"errorHtml":"<div class=\"message error\">An error occured while attempting to load groups.</div>","loadingHtml":"<div class=\"message loading\">Loading...</div>","groupNavigationContentWrapperHtmlBlock":"<div id=\"popup-ctl00_fragment_1d7fbf5e_56bf_4f31_ab9f_95d68b560cbb_ctl01_ctl00_GroupNavigationPopup\">{GroupNavigationContent}</div>","groupNavigationListHtmlBlock":"<div class=\"multiple-column-list-header\"></div>\n<div class=\"multiple-column-list columns-{ColumnsCount}\">{Columns}</div>\n<div class=\"multiple-column-list-footer\"></div>","columnWrapperHtmlBlock":"<div class=\"multiple-column-item column-{ColumnId}\">{T1GroupsData}</div>","t1GroupHtmlBlock":"\r\n\t\t<div class=\"content-list-header\"></div>\r\n\t\t<div class=\"content-list-name{NameClass}\">{Name}</div>\r\n\t\t<ul class=\"content-list\">\r\n\t\t\t{Groups}\r\n\t\t</ul>\r\n\t\t<div class=\"content-list-footer\"></div>\r\n\t","t2GroupHtmlBlock":"<li class=\"content-item{ItemClass}\">{Item}</li>","viewAllHtmlBlock":"<a href=\"{Url}\" class=\"internal-link view-all\">{Text}</a>","linkHtmlBlock":"<a href=\"{Url}\" class=\"{MoreClass}\">{Name}</a>","searchResultItemHtmlBlock":"<li class=\"content-item\"><a href=\"{Url}\">{Name}</a></li>","viewMoreText":"and {MoreText} more..."}};

	$(document).ready(function() {
		Core_GroupNavigation_SetMenuItems("#ctl00_fragment_1d7fbf5e_56bf_4f31_ab9f_95d68b560cbb_ctl01_ctl00_ParentGroupListContainer", true, "ParentMoreListfragment-1d7fbf5e-56bf-4f31-ab9f-95d68b560cbb");
		Core_GroupNavigation_SetMenuItems("#ctl00_fragment_1d7fbf5e_56bf_4f31_ab9f_95d68b560cbb_ctl01_ctl00_ChildGroupListContainer", false, "ChildMoreListfragment-1d7fbf5e-56bf-4f31-ab9f-95d68b560cbb");
	});

	$(window).resize(function() {
		Core_GroupNavigation_SetMenuItems("#ctl00_fragment_1d7fbf5e_56bf_4f31_ab9f_95d68b560cbb_ctl01_ctl00_ParentGroupListContainer", true, "ParentMoreListfragment-1d7fbf5e-56bf-4f31-ab9f-95d68b560cbb");
		Core_GroupNavigation_SetMenuItems("#ctl00_fragment_1d7fbf5e_56bf_4f31_ab9f_95d68b560cbb_ctl01_ctl00_ChildGroupListContainer", false, "ChildMoreListfragment-1d7fbf5e-56bf-4f31-ab9f-95d68b560cbb");
	});
    // ]]>
</script></div></div></div></div>
<div class="header-fragments-footer"></div>
			    <div class="content-fragment-page postlist" id="ctl00_content_ctl00_page"><div class="layout">
<div class="layout-header"></div>
<div class="layout-content header-top-content-left-sidebar-right" id="ctl00_content_ctl00_layout">
<div class="layout-region header" id="ctl00_content_ctl00_header">
<div class="layout-region-inner header"><div class="content-fragment html-content no-wrapper" id="fragment-5421">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-content">
<div class="user-defined-markup"><div style="background:url(/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39/3324.topM.png) repeat-x scroll 0% 0% transparent;width:100%;height:18px;">
<div style="float:left;background-image:url(/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39/2388.topL.png);width:23px;height:18px;">&nbsp;</div>
<div style="float:right;background-image:url(/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39/7026.topR.png);width:21px;height:18px;">&nbsp;</div>
</div></div></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
<div class="content-fragment html-content no-wrapper" id="fragment-5422">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-content">
<div class="user-defined-markup"><div class="Coding4Fun">
<div>
<div class="logo"><a href="/coding4fun/"><img src="/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39/7357.4274.logo.png" alt="" /></a></div>
<div class="new"><a id="new" href="/coding4fun/pages/1994662.aspx"><img src="/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39/4834.7725.new_5F00_to_5F00_coding4fun.jpg" alt="" /></a></div>
</div>
<div style="clear:both;">
<div class="windows"><a id="windows" href="/coding4fun/archive/tags/windows/default.aspx"><span>Windows</span></a></div>
<div class="web"><a id="web" href="/coding4fun/archive/tags/web/default.aspx"><span>Web</span></a></div>
<div class="gaming"><a id="gaming" href="/coding4fun/archive/tags/gaming/default.aspx"><span>Gaming</span></a></div>
<div class="hardware"><a id="hardware" href="/coding4fun/archive/tags/hardware/default.aspx"><span>Hardware</span></a></div>
</div>
</div></div></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
</div>
</div>
<div class="layout-region right-sidebar" id="ctl00_content_ctl00_right-sidebar">
<div class="layout-region-inner right-sidebar"><div class="content-fragment search-form no-wrapper-with-spacing with-header" id="fragment-5423">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-header"><div>Search</div></div>
<div class="content-fragment-content">



        <div class="field-list-header"></div>
        <fieldset class="field-list">
            <ul class="field-list">
                <li class="field-item search">
                    <div>
                         <span class="field-item-input"><input name="ctl00$content$ctl00$fragment_5423$ctl01$ctl01$ctl01$Keywords" type="text" maxlength="64" size="45" id="ctl00_content_ctl00_fragment_5423_ctl01_ctl01_ctl01_Keywords" onfocus="if(this.defaultValue==this.value) this.value='';" onblur="if(this.value=='') this.value=this.defaultValue;" /></span>
                    </div>
                    


                    <a href="#" onclick="ToggleAdvancedSearch(ctl00_content_ctl00_fragment_5423, this)" id="ctl00_content_ctl00_fragment_5423_AdvancedOptions" class="internal-link advanced-search"><span></span>Advanced search options...</a>
                </li>
                <li class="field-item search-type">
                    <label for="ctl00_content_ctl00_fragment_5423_ctl01_ctl01_ctl01_ContentTypes" class="field-item-header">Search In:</label>
                    <span class="field-item-input">
                        <select name="ctl00$content$ctl00$fragment_5423$ctl01$ctl01$ctl01$ContentTypes" id="ctl00_content_ctl00_fragment_5423_ctl01_ctl01_ctl01_ContentTypes">
	<option value="">Everything</option>
	<option value="blog">Blogs</option>
	<option value="forum">Forums</option>
	<option value="user">People</option>
	<option value="group">Groups</option>
	<option value="fileapp,forumapp,blogapp,wikiapp">Places</option>
	<option value="page">Pages</option>

</select>
                    </span>
                </li>
                <li class="field-item date-range">
                    <label for="ctl00_content_ctl00_fragment_5423_ctl01_ctl01_ctl01_DatingBackTo" class="field-item-header">Date range:</label>
                    <span class="field-item-input"><select name="ctl00$content$ctl00$fragment_5423$ctl01$ctl01$ctl01$DatingBackTo" id="ctl00_content_ctl00_fragment_5423_ctl01_ctl01_ctl01_DatingBackTo">
	<option value="-1">All Time</option>
	<option value="-365">Last Year</option>
	<option value="-185">Last 6 Months</option>
	<option value="-95">Last 3 Months</option>
	<option value="-35">Last Month</option>
	<option value="-7">Last Week</option>
	<option value="-2">Last Two Days</option>

</select></span>
                </li>
                
                <li class="field-item searchbutton">
                    <span class="field-item-input"><a id="ctl00_content_ctl00_fragment_5423_ctl01_ctl01_ctl01_SearchButton" href="javascript:WebForm_DoPostBackWithOptions(new WebForm_PostBackOptions(&quot;ctl00$content$ctl00$fragment_5423$ctl01$ctl01$ctl01$SearchButton&quot;, &quot;&quot;, true, &quot;&quot;, &quot;&quot;, false, true))">Search</a></span>
                </li>
            </ul>
        </fieldset>
        <div class="field-list-footer">
            <span style="display:inline-block"><input type="radio" name="SearchTypeRadio" value="ThisBlog" id="ThisBlog" checked /><label for="ThisBlog" id="ThisBlogText">Search this blog</label></span>
            <span style="display:inline-block"><input type="radio" name="SearchTypeRadio" value="AllBlogs" id="AllBlogs" /><label for="AllBlogs" id="AllBlogsText">Search all blogs</label></span>
        </div>

    


<script type="text/javascript">

// Hide the radio buttons and text if we aren't on a blog
$(document).ready(function() {
            
    // try to get the blog id, if we fail, then we aren't on a blog and just use the regular search approach       
    var sectionID = 4539;

    if (sectionID == -1)
    {
        var tbObj = document.getElementById("ThisBlog");
        var tbObjText = document.getElementById("ThisBlogText");
        var abObj = document.getElementById("AllBlogs");
        var abObjText = document.getElementById("AllBlogsText");
        
        if (tbObj != 'undefined' && abObj != 'undefined' && abObjText != 'undefined' && tbObjText != 'undefined')
        {
            tbObj.style.display = 'none';
            tbObjText.style.display = 'none';
            abObj.style.display = 'none';
            abObjText.style.display = 'none';
        }
    }
}
);

// Setup on keypress event for the search box     
var ctl00_content_ctl00_fragment_5423={"wrapperId":"fragment-5423","variableName":"ctl00_content_ctl00_fragment_5423","parameter":{"keywords":"ctl00_content_ctl00_fragment_5423_ctl01_ctl01_ctl01_Keywords","search":"ctl00_content_ctl00_fragment_5423_ctl01_ctl01_ctl01_SearchButton"}};
    
    $("#" + ctl00_content_ctl00_fragment_5423.parameter.keywords).bind("keypress", function(event) {
        if (event.keyCode == 13) {
            event.preventDefault();
            var tb = $(event.target);
            tb.blur();   
            
            // try to get the blog id, if we fail, then we aren't on a blog and just use the regular search approach       
            var sectionID = 4539;
            if (sectionID != -1 && document.getElementById("ThisBlog").checked==true)
            {
                window.location = "/search/SearchResults.aspx?q=" + encodeURIComponent($("#" + ctl00_content_ctl00_fragment_5423.parameter.keywords).attr("value")) + "&sections=" + sectionID;
            }
            else
            {
                window.location = $("#" + ctl00_content_ctl00_fragment_5423.parameter.search).attr("href");
            }
        }
    });
    
    function ToggleAdvancedSearch(context, e)
    {
        var wrapper = $("#" + context.wrapperId);
        var advancedSearchLink = $("#" + context.variableName + "_AdvancedOptions", wrapper);
        if (advancedSearchLink.text() == 'Advanced search options...')
        {
            advancedSearchLink.text('Hide advanced options...');
            $("ul.field-list", wrapper).addClass('advanced-search advanced-search__field-list');
        }
        else
        {
            advancedSearchLink.text('Advanced search options...');
            $("ul.field-list", wrapper).removeClass('advanced-search advanced-search__field-list');
        }
    }
</script></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
<div class="content-fragment blog-links no-wrapper-with-spacing with-header" id="fragment-5424">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-header"><div>Common Tasks</div></div>
<div class="content-fragment-content">

		<div class="navigation-list-header"></div>
		<ul class="navigation-list">
	<li class="navigation-item"><a class="internal-link view-application" href="/b/coding4fun/"><span></span>Blog Home</a></li><li class="navigation-item"><a class="internal-link view-contact" href="/b/coding4fun/contact.aspx"><span></span>Email Blog Author</a></li><li class="navigation-item"><a class="internal-link rss" href="/b/coding4fun/rss.aspx"><span></span>RSS for Posts</a></li><li class="navigation-item"><a class="internal-link rss" href="/b/coding4fun/atom.aspx"><span></span>Atom</a></li>
        <li class="navigation-item email-subscription">
                <div class="field-list-header email-subscription-form"></div>
                <fieldset class="field-list email-subscription-form">
                    <ul class="field-list">
                        <li class="field-item">
                            <span class="field-item-description"></span>
                            
                                    <span class="field-item-input">
                                        <input name="ctl00$content$ctl00$fragment_5424$ctl01$ctl00$weblogSubscribe$ctl09$ctl00$ctl01$EmailSubscriptionPanel$ctl01$EmailSubscribeTextBox" type="text" value="Subscribe w/ Email Address" id="ctl00_content_ctl00_fragment_5424_ctl01_ctl00_weblogSubscribe_ctl09_ctl00_ctl01_EmailSubscriptionPanel_ctl01_EmailSubscribeTextBox" title="Enter your email address" onfocus="if(this.defaultValue==this.value) this.value='';" onblur="if(this.value=='') this.value=this.defaultValue;" />
                                        <a id="ctl00_content_ctl00_fragment_5424_ctl01_ctl00_weblogSubscribe_ctl09_ctl00_ctl01_EmailSubscriptionPanel_ctl01_EmailSubscribeButton" href="javascript:WebForm_DoPostBackWithOptions(new WebForm_PostBackOptions(&quot;ctl00$content$ctl00$fragment_5424$ctl01$ctl00$weblogSubscribe$ctl09$ctl00$ctl01$EmailSubscriptionPanel$ctl01$EmailSubscribeButton&quot;, &quot;&quot;, true, &quot;&quot;, &quot;&quot;, false, true))">OK</a>
                                    </span>
                                
                        </li>
                    </ul>
                </fieldset>
                <div class="field-list-footer email-subscription"></div>
            </li>
    
		</ul>
		<div class="navigation-list-footer"></div>
	</div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
<div class="content-fragment tag-cloud no-wrapper-with-spacing with-header" id="fragment-5425">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-header"><div>Tags</div></div>
<div class="content-fragment-content">
<div class="tag-list-header"></div><ul class="tag-list">
<li class="tag-item level-4"><a href="http://blogs.msdn.com/b/coding4fun/archive/tags/arcade/" rel="tag">arcade</a></li>
<li class="tag-item level-6"><a href="http://blogs.msdn.com/b/coding4fun/archive/tags/ASP-Net/" rel="tag">ASP.Net</a></li>
<li class="tag-item level-6"><a href="http://blogs.msdn.com/b/coding4fun/archive/tags/Audio/" rel="tag">Audio</a></li>
<li class="tag-item level-1"><a href="http://blogs.msdn.com/b/coding4fun/archive/tags/c4fnews/" rel="tag">c4fnews</a></li>
<li class="tag-item level-5"><a href="http://blogs.msdn.com/b/coding4fun/archive/tags/events/" rel="tag">events</a></li>
<li class="tag-item level-1"><a href="http://blogs.msdn.com/b/coding4fun/archive/tags/gaming/" rel="tag">gaming</a></li>
<li class="tag-item level-1"><a href="http://blogs.msdn.com/b/coding4fun/archive/tags/hardware/" rel="tag">hardware</a></li>
<li class="tag-item level-6"><a href="http://blogs.msdn.com/b/coding4fun/archive/tags/hardware+miscellaneous/" rel="tag">hardware miscellaneous</a></li>
<li class="tag-item level-5"><a href="http://blogs.msdn.com/b/coding4fun/archive/tags/hardwarehacks/" rel="tag">hardwarehacks</a></li>
<li class="tag-item level-4"><a href="http://blogs.msdn.com/b/coding4fun/archive/tags/holiday/" rel="tag">holiday</a></li>
<li class="tag-item level-6"><a href="http://blogs.msdn.com/b/coding4fun/archive/tags/home+automation/" rel="tag">home automation</a></li>
<li class="tag-item level-4"><a href="http://blogs.msdn.com/b/coding4fun/archive/tags/mash+up/" rel="tag">mash up</a></li>
<li class="tag-item level-4"><a href="http://blogs.msdn.com/b/coding4fun/archive/tags/media/" rel="tag">media</a></li>
<li class="tag-item level-5"><a href="http://blogs.msdn.com/b/coding4fun/archive/tags/productivity/" rel="tag">productivity</a></li>
<li class="tag-item level-3"><a href="http://blogs.msdn.com/b/coding4fun/archive/tags/robotics/" rel="tag">robotics</a></li>
<li class="tag-item level-2"><a href="http://blogs.msdn.com/b/coding4fun/archive/tags/Silverlight/" rel="tag">Silverlight</a></li>
<li class="tag-item level-1"><a href="http://blogs.msdn.com/b/coding4fun/archive/tags/utility/" rel="tag">utility</a></li>
<li class="tag-item level-2"><a href="http://blogs.msdn.com/b/coding4fun/archive/tags/web/" rel="tag">web</a></li>
<li class="tag-item level-5"><a href="http://blogs.msdn.com/b/coding4fun/archive/tags/web+miscellaneous/" rel="tag">web miscellaneous</a></li>
<li class="tag-item level-4"><a href="http://blogs.msdn.com/b/coding4fun/archive/tags/web+services/" rel="tag">web services</a></li>
<li class="tag-item level-2"><a href="http://blogs.msdn.com/b/coding4fun/archive/tags/Windows/" rel="tag">Windows</a></li>
<li class="tag-item level-6"><a href="http://blogs.msdn.com/b/coding4fun/archive/tags/Windows+7/" rel="tag">Windows 7</a></li>
<li class="tag-item level-5"><a href="http://blogs.msdn.com/b/coding4fun/archive/tags/Windows+Phone+7/" rel="tag">Windows Phone 7</a></li>
<li class="tag-item level-2"><a href="http://blogs.msdn.com/b/coding4fun/archive/tags/WPF/" rel="tag">WPF</a></li>
<li class="tag-item level-3"><a href="http://blogs.msdn.com/b/coding4fun/archive/tags/XNA/" rel="tag">XNA</a></li>
</ul>
<div class="tag-list-footer"></div>
</div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
<div class="content-fragment blog-archive-list no-wrapper-with-spacing with-header" id="fragment-5426">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-header"><div>Archives</div></div>
<div class="content-fragment-content">

		<div class="content-list-header"></div>
		<div class="content-list-name">Archives</div>
		<ul class="content-list">
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2010/12.aspx">December 2010</a> (3)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2010/11.aspx">November 2010</a> (3)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2010/10.aspx">October 2010</a> (4)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2010/09.aspx">September 2010</a> (3)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2010/08.aspx">August 2010</a> (8)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2010/07.aspx">July 2010</a> (6)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2010/06.aspx">June 2010</a> (7)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2010/05.aspx">May 2010</a> (3)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2010/04.aspx">April 2010</a> (8)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2010/03.aspx">March 2010</a> (6)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2010/02.aspx">February 2010</a> (9)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2010/01.aspx">January 2010</a> (10)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2009/12.aspx">December 2009</a> (9)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2009/11.aspx">November 2009</a> (7)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2009/10.aspx">October 2009</a> (8)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2009/09.aspx">September 2009</a> (7)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2009/08.aspx">August 2009</a> (7)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2009/07.aspx">July 2009</a> (8)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2009/06.aspx">June 2009</a> (8)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2009/05.aspx">May 2009</a> (8)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2009/04.aspx">April 2009</a> (9)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2009/03.aspx">March 2009</a> (6)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2009/02.aspx">February 2009</a> (6)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2009/01.aspx">January 2009</a> (6)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2008/12.aspx">December 2008</a> (5)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2008/11.aspx">November 2008</a> (6)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2008/10.aspx">October 2008</a> (11)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2008/09.aspx">September 2008</a> (7)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2008/08.aspx">August 2008</a> (8)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2008/07.aspx">July 2008</a> (10)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2008/06.aspx">June 2008</a> (11)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2008/05.aspx">May 2008</a> (9)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2008/04.aspx">April 2008</a> (9)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2008/03.aspx">March 2008</a> (12)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2008/02.aspx">February 2008</a> (12)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2008/01.aspx">January 2008</a> (14)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2007/12.aspx">December 2007</a> (10)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2007/11.aspx">November 2007</a> (15)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2007/10.aspx">October 2007</a> (14)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2007/09.aspx">September 2007</a> (14)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2007/08.aspx">August 2007</a> (12)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2007/07.aspx">July 2007</a> (16)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2007/06.aspx">June 2007</a> (9)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2007/05.aspx">May 2007</a> (14)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2007/04.aspx">April 2007</a> (21)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2007/03.aspx">March 2007</a> (25)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2007/02.aspx">February 2007</a> (26)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2007/01.aspx">January 2007</a> (19)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2006/12.aspx">December 2006</a> (37)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2006/11.aspx">November 2006</a> (77)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2006/10.aspx">October 2006</a> (59)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2006/04.aspx">April 2006</a> (2)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2006/03.aspx">March 2006</a> (6)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2006/02.aspx">February 2006</a> (2)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2006/01.aspx">January 2006</a> (1)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2005/12.aspx">December 2005</a> (1)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2005/10.aspx">October 2005</a> (1)</li>
	
		<li class="content-item"><a class="internal-link view-post-archive-list" href="/b/coding4fun/archive/2005/04.aspx">April 2005</a> (2)</li>
	
		</ul>
		<div class="content-list-footer"></div>
	
</div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
</div>
</div>
<div class="layout-region content" id="ctl00_content_ctl00_content">
<div class="layout-region-inner content"><div class="content-fragment blog-title full-border" id="fragment-5427">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-content">
<h1 class="title">
	    
			        
			    
	                
			    
	</h1></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
<div class="content-fragment blog-bread-crumbs no-wrapper-with-spacing" id="fragment-5428">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-content">


<div class="breadcrumb-list-header"></div>
<div class="breadcrumb-list">
	<span class="breadcrumb-item"><a class="internal-link view-home" href="/">MSDN Blogs</a></span>
  
	

	
			<span class="separator"> > </span>
			<span class="breadcrumb-item">
		<a href="/b/coding4fun/">Coding4Fun</a>
			</span>
		
	
	

	
</div>
<div class="breadcrumb-list-footer"></div>
</div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
<div class="content-fragment blog-post-list no-wrapper-with-spacing" id="fragment-5429">
<div class="content-fragment-inner wireframe-content-fragment-inner"><div class="content-fragment-top wireframe-content-fragment-top"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div><div class="content-fragment-content">


<div class="navigation-list-header"></div>
<ul class="navigation-list post-list">
	<li class="navigation-item"><a class="internal-link rss" href="/b/MainFeed.aspx?Type=BlogsOnly"><span></span>Subscribe via RSS</a></li>
	
</ul>
<div class="navigation-list-footer"></div>

<div id="ctl00_content_ctl00_fragment_5429_ctl01_ctl00_ctl00_PostListWrapper"><input type="hidden" name="ctl00$content$ctl00$fragment_5429$ctl01$ctl00$ctl00$PostListWrapper" value="true:" />
        

        

        

        <div class="filter">
            <div class="query-type">
		        <span class="filter-label">Sort by: </span>
                <span class="filter-option selected"><a href="/b/coding4fun/default.aspx?PostSortBy=MostRecent&amp;PageIndex=1">Most Recent</a></span>
		        <span class="separator">|</span>
                <span class="filter-option"><a href="/b/coding4fun/default.aspx?PostSortBy=MostViewed&amp;PageIndex=1">Most Views</a></span>
		        <span class="separator">|</span>
                <span class="filter-option"><a href="/b/coding4fun/default.aspx?PostSortBy=MostComments&amp;PageIndex=1">Most Comments</a></span>
            </div>
            <div class="view-type">
                
				        <span class="filter-option">						
			        
                    <a href="#" onclick="ctl00_content_ctl00_fragment_5429_ctl01_ctl00_ctl00_PostListWrapper.Reload('List'); return false;" title="Excerpt View" class="internal-link view-list">Excerpt View</a>
                </span>
                <span class="separator">|</span>
                
				        <span class="filter-option selected">						
			        
                    <a href="#" onclick="ctl00_content_ctl00_fragment_5429_ctl01_ctl00_ctl00_PostListWrapper.Reload('Detail'); return false;" title="Full Post View" class="internal-link view-detail-list">Full Post View</a>
                </span>
            </div>
        </div>


        
	            <div class="content-list-header standard"></div>
	            <ul class="content-list standard">
	        
		        <li class="content-item">
			        <div class="abbreviated-post-header"></div>
			        <div class="abbreviated-post">
			            <div class="post-application">
		                        <span class="label"></span>
		                        <span class="value"><a class="internal-link view-application" href="/b/coding4fun/"><span></span>Coding4Fun</a></span>
			                </div>
				        <h4 class="post-name"><a class="internal-link view-post" href="/b/coding4fun/archive/2010/12/14/10104847.aspx"><span></span>Dancing Lights!</a></h4>
				        
            <div class="post-date">
		        <span class="label">Posted</span>
		        <span class="value">Tue, Dec 14 2010</span>
	        </div>
                        <div class="post-author">
                            <span class="fiji-post-author-by">by</span>
                            <span class="avatar"><a href="/members/Coding4Fun/"><img src="/resized-image.ashx/__size/32x32/__key/CommunityServer-Components-Avatars/00-00-00-45-39/4TFY486PD44T.png" alt="" style="border-width:0px;" /></a></span>
                            
                            <span class="user-name"><a class="internal-link view-user-profile" href="/members/Coding4Fun/"><span></span>Coding4Fun</a></span>
                            
                        </div>
				        
	                    <div class="post-attributes">
		                        <div class="attribute-list-header"></div>
                                <ul class="attribute-list">
                                    <li class="attribute-item post-reply-count">
                                        <span class="attribute-value">0</span>
                                        <span class="attribute-name">Comments</span>
                                    </li>
                                </ul>
                                <div class="attribute-list-footer"></div>
                            </div>
        				
				        
                                <div class="post-content user-defined-markup"><p>A few years ago, Brian Peek, created a <a href="http://blogs.msdn.com/b/coding4fun/archive/2007/12/23/1230660.aspx">light sequencing application phidgets to animate your holiday cheer</a> and Don, a coding4fun reader, leveraged it to animate some lights of his own for this year!</p>  <div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:5737277B-5D6D-4f48-ABFC-DD9C333F4C5D:0332c214-61c6-4d65-88c8-ef57e864e24e" class="wlWriterEditableSmartContent"><div id="1f8bd787-16c3-46e8-a0be-49adac0e4a87" style="margin: 0px; padding: 0px; display: inline;"><div><a href="http://www.youtube.com/watch?v=b3vsHCBDpEM" target="_new"><img src="http://ecn.channel9.msdn.com/c4fcontent/images/Dancing-Lights_9472/video28d9e9295546.jpg" style="border-style: none" galleryimg="no" onload="var downlevelDiv = document.getElementById('1f8bd787-16c3-46e8-a0be-49adac0e4a87'); downlevelDiv.innerHTML = &quot;&lt;div&gt;&lt;object width=\&quot;425\&quot; height=\&quot;344\&quot;&gt;&lt;param name=\&quot;movie\&quot; value=\&quot;http://www.youtube.com/v/b3vsHCBDpEM?hl=en&amp;hd=1\&quot;&gt;&lt;\/param&gt;&lt;embed src=\&quot;http://www.youtube.com/v/b3vsHCBDpEM?hl=en&amp;hd=1\&quot; type=\&quot;application/x-shockwave-flash\&quot; width=\&quot;425\&quot; height=\&quot;344\&quot;&gt;&lt;\/embed&gt;&lt;\/object&gt;&lt;\/div&gt;&quot;;" alt="" /></a></div></div></div>  <p>Awesome job Don and thanks for telling us about it!&#160; </p>  <p>Update:&#160; Don has <a href="http://ecn.channel9.msdn.com/c4fcontent/source/lightSeq_cBrown.zip">shared his sequence file with us</a>!</p><div style="clear:both;"></div></div>
					        
        				
			        </div>
			        <div class="abbreviated-post-footer"></div>
		        </li>
	        
		        <li class="content-item">
			        <div class="abbreviated-post-header"></div>
			        <div class="abbreviated-post">
			            <div class="post-application">
		                        <span class="label"></span>
		                        <span class="value"><a class="internal-link view-application" href="/b/coding4fun/"><span></span>Coding4Fun</a></span>
			                </div>
				        <h4 class="post-name"><a class="internal-link view-post" href="/b/coding4fun/archive/2010/12/13/10104241.aspx"><span></span>Tron Disc with .NET Microframework</a></h4>
				        
            <div class="post-date">
		        <span class="label">Posted</span>
		        <span class="value">Mon, Dec 13 2010</span>
	        </div>
                        <div class="post-author">
                            <span class="fiji-post-author-by">by</span>
                            <span class="avatar"><a href="/members/Coding4Fun/"><img src="/resized-image.ashx/__size/32x32/__key/CommunityServer-Components-Avatars/00-00-00-45-39/4TFY486PD44T.png" alt="" style="border-width:0px;" /></a></span>
                            
                            <span class="user-name"><a class="internal-link view-user-profile" href="/members/Coding4Fun/"><span></span>Coding4Fun</a></span>
                            
                        </div>
				        
	                    <div class="post-attributes">
		                        <div class="attribute-list-header"></div>
                                <ul class="attribute-list">
                                    <li class="attribute-item post-reply-count">
                                        <span class="attribute-value">0</span>
                                        <span class="attribute-name">Comments</span>
                                    </li>
                                </ul>
                                <div class="attribute-list-footer"></div>
                            </div>
        				
				        
                                <div class="post-content user-defined-markup"><table border="0" cellspacing="0" cellpadding="0"><tbody>     <tr>       <td valign="top" width="157">         <p><a href="http://harfordhackerspace.org">Harford Hackerspace</a>             <br />&#160; David Powell             <br />&#160; Gary W. Cygiel            <br />&#160; Jeremy Ashinghurst             <br />&#160; Paul King             <br />&#160; Jason McMahon</p>       </td>        <td valign="top" width="481">         <p><b>Source Code:</b> <a href="http://ecn.channel9.msdn.com/c4fcontent/source/TronDiscNetduinoCode.zip">Download</a></p>          <p><b>Difficulty:</b> Advanced             <br /><b>Time Required:</b> 10+ hours             <br /><b>Software Needed:</b> <a href="http://www.google.com/url?q=http%3A%2F%2Fwww.microsoft.com%2Fexpress%2Fdownloads%2F%232010-Visual-CS&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNESMYCQ6WG2pjVKdv6aziDV6R89gw">Microsoft</a><a href="http://www.google.com/url?q=http%3A%2F%2Fwww.microsoft.com%2Fexpress%2Fdownloads%2F%232010-Visual-CS&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNESMYCQ6WG2pjVKdv6aziDV6R89gw">Visual</a><a href="http://www.google.com/url?q=http%3A%2F%2Fwww.microsoft.com%2Fexpress%2Fdownloads%2F%232010-Visual-CS&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNESMYCQ6WG2pjVKdv6aziDV6R89gw">C</a><a href="http://www.google.com/url?q=http%3A%2F%2Fwww.microsoft.com%2Fexpress%2Fdownloads%2F%232010-Visual-CS&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNESMYCQ6WG2pjVKdv6aziDV6R89gw"># </a><a href="http://www.google.com/url?q=http%3A%2F%2Fwww.microsoft.com%2Fexpress%2Fdownloads%2F%232010-Visual-CS&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNESMYCQ6WG2pjVKdv6aziDV6R89gw">Express</a><a href="http://www.google.com/url?q=http%3A%2F%2Fwww.microsoft.com%2Fexpress%2Fdownloads%2F%232010-Visual-CS&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNESMYCQ6WG2pjVKdv6aziDV6R89gw"> 2010,</a> <a href="http://www.google.com/url?q=http%3A%2F%2Fwww.netduino.com%2Fdownloads%2FMicroFrameworkSDK.msi&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHuDpSegNg9I7I33Apsbew1PrviIg">Microsoft</a><a href="http://www.google.com/url?q=http%3A%2F%2Fwww.netduino.com%2Fdownloads%2FMicroFrameworkSDK.msi&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHuDpSegNg9I7I33Apsbew1PrviIg"> .</a><a href="http://www.google.com/url?q=http%3A%2F%2Fwww.netduino.com%2Fdownloads%2FMicroFrameworkSDK.msi&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHuDpSegNg9I7I33Apsbew1PrviIg">net</a><a href="http://www.google.com/url?q=http%3A%2F%2Fwww.netduino.com%2Fdownloads%2FMicroFrameworkSDK.msi&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHuDpSegNg9I7I33Apsbew1PrviIg">Micro</a><a href="http://www.google.com/url?q=http%3A%2F%2Fwww.netduino.com%2Fdownloads%2FMicroFrameworkSDK.msi&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHuDpSegNg9I7I33Apsbew1PrviIg">Framework</a><a href="http://www.google.com/url?q=http%3A%2F%2Fwww.netduino.com%2Fdownloads%2FMicroFrameworkSDK.msi&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHuDpSegNg9I7I33Apsbew1PrviIg">SDK</a><a href="http://www.google.com/url?q=http%3A%2F%2Fwww.netduino.com%2Fdownloads%2FMicroFrameworkSDK.msi&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHuDpSegNg9I7I33Apsbew1PrviIg">v</a><a href="http://www.google.com/url?q=http%3A%2F%2Fwww.netduino.com%2Fdownloads%2FMicroFrameworkSDK.msi&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNHuDpSegNg9I7I33Apsbew1PrviIg">4.1</a>, <a href="http://www.google.com/url?q=http%3A%2F%2Fwww.netduino.com%2Fdownloads%2Fnetduinosdk_32bit.exe&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNFoHWQsvqmBL4Fv98OznvxWvSInNw">Netduino</a><a href="http://www.google.com/url?q=http%3A%2F%2Fwww.netduino.com%2Fdownloads%2Fnetduinosdk_32bit.exe&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNFoHWQsvqmBL4Fv98OznvxWvSInNw">SDK</a><a href="http://www.google.com/url?q=http%3A%2F%2Fwww.netduino.com%2Fdownloads%2Fnetduinosdk_32bit.exe&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNFoHWQsvqmBL4Fv98OznvxWvSInNw">v</a><a href="http://www.google.com/url?q=http%3A%2F%2Fwww.netduino.com%2Fdownloads%2Fnetduinosdk_32bit.exe&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNFoHWQsvqmBL4Fv98OznvxWvSInNw">4.1.0</a>             <br /><b>Hardware:</b> List below</p>       </td>     </tr>   </tbody></table>  <h2>   <div style="padding-bottom: 0px; margin: 0px auto; padding-left: 0px; width: 500px; padding-right: 0px; display: block; float: none; padding-top: 0px" id="scid:5737277B-5D6D-4f48-ABFC-DD9C333F4C5D:ba3586de-1c78-41b3-be48-52628ac13c3d" class="wlWriterEditableSmartContent"><div id="79d4631c-8779-4873-b054-7efc605bae5f" style="margin: 0px; padding: 0px; display: inline;"><div><a href="http://www.youtube.com/watch?v=I_KGca_g96U" target="_new"><img src="http://ecn.channel9.msdn.com/c4fcontent/images/Tron-Disc-with-.NET-Microframework_99D1/video7ca300f0af91.jpg" style="border-style: none" galleryimg="no" onload="var downlevelDiv = document.getElementById('79d4631c-8779-4873-b054-7efc605bae5f'); downlevelDiv.innerHTML = &quot;&lt;div&gt;&lt;object width=\&quot;500\&quot; height=\&quot;306\&quot;&gt;&lt;param name=\&quot;movie\&quot; value=\&quot;http://www.youtube.com/v/I_KGca_g96U?hl=en&amp;hd=1\&quot;&gt;&lt;\/param&gt;&lt;embed src=\&quot;http://www.youtube.com/v/I_KGca_g96U?hl=en&amp;hd=1\&quot; type=\&quot;application/x-shockwave-flash\&quot; width=\&quot;500\&quot; height=\&quot;306\&quot;&gt;&lt;\/embed&gt;&lt;\/object&gt;&lt;\/div&gt;&quot;;" alt="" /></a></div></div></div> Introduction</h2>  <p>We wanted to make our own Tron Identity Disc using the Netduino, allowing us to quickly load different versions of code to change the disc’s functionality. Though we present a simple lightshow in this tutorial, developers can easily extend the code and hardware to produce an interactive game. </p>  <p><b></b></p>  <p>To get started, we purchased and retrofitted a Spin Master Tron Identity Disc replica, which kept us from having to create a new physical disk, and so sidestepped the most difficult aspect of the project. </p>  <p><b></b></p>  <h2>Operation Specifications</h2>  <p>We decided that we wanted our version of the Tron Idenity Disc to have the following specifications:</p>  <p><b>Power</b></p>  <ul>   <li>Rechargeable lithium-ion battery </li>    <li>LED to indicate the Tron Identity Disc is being charged </li>    <li>An On/Off switch enabling the battery to disconnect from the Netduino to conserve power while the disc is being stored </li> </ul>  <p><b>Operation</b></p>  <ul>   <li>Scenario 1 - Power On<b></b>       <ul>       <li>All LEDs turn on so we can make sure they are all working<b></b> </li>     </ul>   </li>    <li>Scenario 2 – Animations<b></b>       <ul>       <li>Pressing a momentary button will cycle through LED animations<b></b> </li>     </ul>   </li>    <li>Scenario 3 – Charge Detection<b></b>       <ul>       <li>Placing the Tron Idenity Disc on or removing the Tron Identity Disc from a charging station will raise an event handler. Placing the disc on the charger will start a pulsating animation. Removing the disc will resume the previous animation.<b></b> </li>     </ul>   </li> </ul>  <p><b>Hardware</b></p>  <ul>   <li><a href="http://www.google.com/url?q=http%3A%2F%2Fwww.toysrus.com%2Fproduct%2Findex.jsp%3FproductId%3D4068819&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNGJ-4fHEkYe0QbsDCi5xzVEoIgQfg">Deluxe</a><a href="http://www.google.com/url?q=http%3A%2F%2Fwww.toysrus.com%2Fproduct%2Findex.jsp%3FproductId%3D4068819&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNGJ-4fHEkYe0QbsDCi5xzVEoIgQfg">Tron</a><a href="http://www.google.com/url?q=http%3A%2F%2Fwww.toysrus.com%2Fproduct%2Findex.jsp%3FproductId%3D4068819&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNGJ-4fHEkYe0QbsDCi5xzVEoIgQfg">Identity</a><a href="http://www.google.com/url?q=http%3A%2F%2Fwww.toysrus.com%2Fproduct%2Findex.jsp%3FproductId%3D4068819&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNGJ-4fHEkYe0QbsDCi5xzVEoIgQfg">Disc</a><u></u> </li>    <li><a href="http://www.google.com/url?q=http%3A%2F%2Fwww.netduino.com&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNFnCk2jHMrP3snNaRUoNADG8gXHBA">Netduino</a> <u></u></li>    <li>Dremel with Cutoff Wheel<u></u> </li>    <li>Soldering Iron </li>    <li>Solder </li>    <li>Hot Glue Gun </li>    <li>Phillips Screw Driver </li>    <li>Wire Strippers </li>    <li>Heat Shrink </li>    <li><a href="http://www.sparkfun.com/products/341">Lithium-Ion Battery</a> (2x) </li>    <li><a href="http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=CKN9924-ND">SPST On/Off Switch</a> </li>    <li><a href="http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=P12216SCT-ND">SPST Momentary Switch</a> </li>    <li><a href="http://www.sparkfun.com/products/8812">Prototype Board</a> </li>    <li><a href="http://www.newark.com/vcc-visual-communications-company/vaol-5gsby4/led-5mm-blue-7000mcd-470nm/dp/57P7133?Ntt=VAOL-5GSBY4">Blue LEDs</a> (33x) </li>    <li><a href="http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=MAX7219CNG%2B-ND">MAX7219</a> </li>    <li><a href="http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=LM317TFS-ND">LM317T Adjustable Voltage Regulator</a> </li>    <li><a href="http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=294-1108-ND">Heat sink for TO-220 devices</a> </li>    <li><a href="http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=490-5401-ND">0.1uF capacitor</a> (2x) </li>    <li><a href="http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=PN2222AD26ZCT-ND">2222 Transistor</a> </li>    <li><a href="http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=201UR102B-ND">1k Ohm potentiometer</a> </li>    <li><a href="http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=P470BACT-ND">470 Ohm resistor, ¼ watt</a> (2x) </li>    <li><a href="http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=P10KBACT-ND">10k Ohm resistor, ¼ watt</a> </li>    <li><a href="http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=P2.2KBATB-ND">2.2k Ohm resistor ¼ watt</a> </li>    <li><a href="http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=PPC1.5W-1CT-ND">1.5 Ohm resistor, 1 watt</a> </li>    <li><a href="http://search.digikey.com/scripts/DkSearch/dksus.dll?Detail&amp;name=1N4001FSCT-ND">1N4001 Rectifier Diode</a> </li> </ul>  <h2>Tron Disc Light Ring</h2>  <p><b></b></p>  <p>The original <a href="http://www.google.com/url?q=http%3A%2F%2Fwww.toysrus.com%2Fproduct%2Findex.jsp%3FproductId%3D4068819&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNGJ-4fHEkYe0QbsDCi5xzVEoIgQfg">Deluxe</a><a href="http://www.google.com/url?q=http%3A%2F%2Fwww.toysrus.com%2Fproduct%2Findex.jsp%3FproductId%3D4068819&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNGJ-4fHEkYe0QbsDCi5xzVEoIgQfg">Tron</a><a href="http://www.google.com/url?q=http%3A%2F%2Fwww.toysrus.com%2Fproduct%2Findex.jsp%3FproductId%3D4068819&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNGJ-4fHEkYe0QbsDCi5xzVEoIgQfg">Identity</a><a href="http://www.google.com/url?q=http%3A%2F%2Fwww.toysrus.com%2Fproduct%2Findex.jsp%3FproductId%3D4068819&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNGJ-4fHEkYe0QbsDCi5xzVEoIgQfg">Disc</a> contained six LED on the outer ring, which left much to be desired. Our modified disc includes 30 LEDs on the outer ring and two LEDs illuminating the inner arc. </p>  <p>To get started, we opened the disc by removing its four Phillips head screws. Next, we removed all electronics including the wires, tilt sensor, LEDs, switch, speaker, and microcontroller board, taking care to not lose the plastic momentary button, since we later used it to switch between our animations. Then, we used a Dremel with a cutoff wheel to remove any unnecessary plastic in order to make room our own electronics. See Figure 1.</p>  <p align="center"><a href="http://ecn.channel9.msdn.com/c4fcontent/images/Tron-Disc-with-.NET-Microframework_99D1/Empty_Disc.jpg"><strong></strong><a href="http://ecn.channel9.msdn.com/c4fcontent/images/Tron-Disc-with-.NET-Microframework_99D1/Empty_Disc.jpg"><img style="background-image: none; border-right-width: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Empty_Disc" border="0" alt="Empty_Disc" src="http://ecn.channel9.msdn.com/c4fcontent/images/Tron-Disc-with-.NET-Microframework_99D1/Empty_Disc_thumb.jpg" width="500" height="333" /></a></a></p>  <p align="center"><strong>Figure 1: Removed Plastic with Dremel</strong></p>  <p>As shown in Figure 2, we used superglue to attach the narrow end of the momentary button to the plastic Tron ring. Then, using the Dremel, we cut a small L bracket from a scrap piece of acrylic and attached it with cyanoacrylate. We reinforced the L bracket using hot glue and applied a small amount of cyanoacrylate to the momentary switch and attached it to the L bracket. Consequently, the original plastic momentary button now activates our momentary switch. </p>  <p>While we had the hot glue gun out, we also attached the SPST On/Off switch and the two inner ring LEDs.</p>  <p align="center"><a href="http://ecn.channel9.msdn.com/c4fcontent/images/Tron-Disc-with-.NET-Microframework_99D1/mounting_switch.jpg"><strong><img style="background-image: none; border-right-width: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="mounting_switch" border="0" alt="mounting_switch" src="http://ecn.channel9.msdn.com/c4fcontent/images/Tron-Disc-with-.NET-Microframework_99D1/mounting_switch_thumb.jpg" width="500" height="333" /></strong></a></p>  <p align="center"><strong>Figure 2: Mounting Momentary Switch</strong></p>  <p>Next, we cut a circle from a piece of cardboard. Using a straight edge, we carefully marked the location of each LED to arrange an equally spaced circular pattern. Then, with a hobby razor knife, we cut notches in the cardboard at a slight angle to hold the LEDs. An additional benefit of the cardboard is it helps keep the anodes and cathodes from shorting out.</p>  <p align="center"><a href="http://ecn.channel9.msdn.com/c4fcontent/images/Tron-Disc-with-.NET-Microframework_99D1/clip_image006.jpg"><strong></strong><a href="http://ecn.channel9.msdn.com/c4fcontent/images/Tron-Disc-with-.NET-Microframework_99D1/clip_image006.jpg"><img style="background-image: none; border-right-width: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="clip_image006" border="0" alt="clip_image006" src="http://ecn.channel9.msdn.com/c4fcontent/images/Tron-Disc-with-.NET-Microframework_99D1/clip_image006_thumb.jpg" width="500" height="333" /></a></a></p>  <p align="center"><strong>Figure 3: LED Nestled in Notched Cardboard</strong></p>  <p>Next, we connected all of the components together per the following schematic diagrams. The MAX7219 IC is capable of controlling 64 LEDs. However, we chose to use only 30 in order to simplify of wiring. The circuit is divided into five segments, each containing six LEDs. In each segment, all the cathodes are tied together and then tied to a single segment pin on the MAX7219 and the anodes are routed back to its digit pins. There is one digit for each LED in the segment and the segments share digit pins. The Netduino controls the logic level of the digit and segment pins using “bit-banged” I2C. All that said, the schematic is the best reference as to how the LEDs were wired.</p>  <p align="center"><a href="http://ecn.channel9.msdn.com/c4fcontent/images/Tron-Disc-with-.NET-Microframework_99D1/3.png"><strong></strong><a href="http://ecn.channel9.msdn.com/c4fcontent/images/Tron-Disc-with-.NET-Microframework_99D1/3.png"><img style="background-image: none; border-right-width: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="3" border="0" alt="3" src="http://ecn.channel9.msdn.com/c4fcontent/images/Tron-Disc-with-.NET-Microframework_99D1/3_thumb.png" width="500" height="212" /></a></a></p>  <p align="center"><strong>Figure 4: Netduino and MAX7219 Schematic</strong></p>  <p><b></b></p>  <p><b></b></p>  <h2>Charging System</h2>  <p>The charging system is comprised of a charging circuit and a detection circuit. A lithium-ion battery inside the disc is charged from an external power source. The charging circuit, which was modified from a design by Scott Henion of<a href="http://www.google.com/url?q=http%3A%2F%2Fshdesigns.org%2F&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNGGePpOQjkuFZ45wutvAdxteBL_3w">SHDesigns</a><a href="http://www.google.com/url?q=http%3A%2F%2Fshdesigns.org%2F&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNGGePpOQjkuFZ45wutvAdxteBL_3w">.</a><a href="http://www.google.com/url?q=http%3A%2F%2Fshdesigns.org%2F&amp;sa=D&amp;sntz=1&amp;usg=AFQjCNGGePpOQjkuFZ45wutvAdxteBL_3w">org</a>, provides a method of safe charging. The detection circuit allows the Netduino to know when it’s being charged.</p>  <h3>Charging Circuit</h3>  <p align="center"><a href="http://ecn.channel9.msdn.com/c4fcontent/images/Tron-Disc-with-.NET-Microframework_99D1/1.png"><strong></strong><a href="http://ecn.channel9.msdn.com/c4fcontent/images/Tron-Disc-with-.NET-Microframework_99D1/1.png"><img style="background-image: none; border-right-width: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="1" border="0" alt="1" src="http://ecn.channel9.msdn.com/c4fcontent/images/Tron-Disc-with-.NET-Microframework_99D1/1_thumb.png" width="497" height="347" /></a></a></p>  <p align="center"><strong>Figure 5: Charging Station Schematic</strong></p>  <p>The LM317 is an adjustable voltage regulator that may also be used as an adjustable constant-current source. In this case, it’s used as a voltage regulator. The 470 ohm resistor forms a voltage divider with the 1k ohm potentiometer and the 2.2k ohm resistor to set the output voltage at 8.4V. Since lithium-ion batteries should be charged using constant current-constant voltage, the transistor and resistor form the current limiting in the circuit. When the charge current reaches a certain threshold, the resistor's voltage drop exceeds the turn-on voltage of the transistor and the transistor starts to conduct. That takes current away from the voltage divider, dropping the voltage until the current is below the threshold. In this way, the current is limited until the voltage limit is reached; then, the current slowly drops off at a constant voltage.</p>  <h3>Detection circuit</h3>  <p><strong></strong></p>  <p align="center"><a href="http://ecn.channel9.msdn.com/c4fcontent/images/Tron-Disc-with-.NET-Microframework_99D1/Tron_Battery_Updated.jpg"><strong></strong><a href="http://ecn.channel9.msdn.com/c4fcontent/images/Tron-Disc-with-.NET-Microframework_99D1/Tron_Battery_Updated.jpg"><img style="background-image: none; border-right-width: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="Tron_Battery_Updated" border="0" alt="Tron_Battery_Updated" src="http://ecn.channel9.msdn.com/c4fcontent/images/Tron-Disc-with-.NET-Microframework_99D1/Tron_Battery_Updated_thumb.jpg" width="500" height="251" /></a></a></p>  <p align="center"><strong>Figure 6: Charge Detection Schematic</strong></p>  <p><b></b></p>  <p>The detection circuit works by applying a voltage to the disc whenever it is plugged in. When the disc is plugged in, 8.4V from the charger run through the 470 ohm resistor, then most of the current runs through the LED while a minimal amount runs through the 10k ohm resistor. The voltage to the Netduino is the voltage across the LED, equaling somewhere around 3V. When the charger is disconnected, however, the 10K ohm resistor pulls the voltage detection line to 0V. SW2 is a disconnect switch which feeds the main power to the Netduino. From there we use the Netduino’s 5v power supply.</p>  <p>After all the connections were made we carefully placed all the wires and components inside the disc. We learned the hard way that you must pay extra attention since it’s very easy to put a screw through one of your wires. </p>  <p><a href="http://ecn.channel9.msdn.com/c4fcontent/images/Tron-Disc-with-.NET-Microframework_99D1/tucking_components.jpg"><img style="background-image: none; border-right-width: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="tucking_components" border="0" alt="tucking_components" src="http://ecn.channel9.msdn.com/c4fcontent/images/Tron-Disc-with-.NET-Microframework_99D1/tucking_components_thumb.jpg" width="500" height="419" /></a></p>  <p><b>Creating a driver for the MAX7219:</b></p>  <p>To create a driver for the MAX7219, we took a little information from the <a href="http://datasheets.maxim-ic.com/en/ds/MAX7219-MAX7221.pdf">data sheet</a>. First, we created a basic class structure and initialized some static defines for the command reference as well as a few <a href="http://msdn.microsoft.com/query/dev10.query?appId=Dev10IDEF1&amp;l=EN-US&amp;k=k%28MICROSOFT.SPOT.HARDWARE.OUTPUTPORT%29;k%28TargetFrameworkMoniker-%22.NETMICROFRAMEWORK%2cVERSION%3dV4.1%22%29;k%28DevLang-CSHARP%29&amp;rd=true">OutputPort</a>’s to hold our pin’s to <a href="http://en.wikipedia.org/wiki/Bit-banging">bit-bang</a>. We bit-banged the protocol because the SPI implementation of the MAX7219 isn’t 100% compliant with the Netduino’s SPI Library:</p>  <pre class="csharpcode"><span class="kwrd">namespace</span> TronDisc
{
    <span class="kwrd">public</span> <span class="kwrd">class</span> max7219
    {
        <span class="rem">// Command reference</span>
        <span class="kwrd">public</span> <span class="kwrd">byte</span> max7219_reg_noop           = 0x00;
        <span class="kwrd">public</span> <span class="kwrd">byte</span> max7219_reg_digit0         = 0x01;
        <span class="kwrd">public</span> <span class="kwrd">byte</span> max7219_reg_digit1         = 0x02;
        <span class="kwrd">public</span> <span class="kwrd">byte</span> max7219_reg_digit2         = 0x03;
        <span class="kwrd">public</span> <span class="kwrd">byte</span> max7219_reg_digit3         = 0x04;
        <span class="kwrd">public</span> <span class="kwrd">byte</span> max7219_reg_digit4         = 0x05;
        <span class="kwrd">public</span> <span class="kwrd">byte</span> max7219_reg_digit5         = 0x06;
        <span class="kwrd">public</span> <span class="kwrd">byte</span> max7219_reg_digit6         = 0x07;
        <span class="kwrd">public</span> <span class="kwrd">byte</span> max7219_reg_digit7         = 0x08;
        <span class="kwrd">public</span> <span class="kwrd">byte</span> max7219_reg_decodeMode     = 0x09;
        <span class="kwrd">public</span> <span class="kwrd">byte</span> max7219_reg_intensity      = 0x0a;
        <span class="kwrd">public</span> <span class="kwrd">byte</span> max7219_reg_scanLimit      = 0x0b;
        <span class="kwrd">public</span> <span class="kwrd">byte</span> max7219_reg_shutdown       = 0x0c;
        <span class="kwrd">public</span> <span class="kwrd">byte</span> max7219_reg_displayTest    = 0x0f;

        <span class="rem">// Pin ports for spi</span>
        <span class="kwrd">private</span> OutputPort loadPin;
        <span class="kwrd">private</span> OutputPort dataPin;
        <span class="kwrd">private</span> OutputPort clkPin;

        <span class="rem">// Constructor, pass pin definitions</span>
        <span class="kwrd">public</span> max7219( OutputPort in_dataPin,
                        OutputPort in_clockPin,
   OutputPort in_loadPin )
        {
            <span class="rem">// Assign local port pins to ports passed from constructor</span>
            dataPin = in_dataPin;
            clkPin = in_clockPin;
            loadPin = in_loadPin;
     }
     }
}</pre>


<p>Next we added a method to our class to transmit a single byte to the MAX7219:</p>

<pre class="csharpcode"><span class="rem">// Transmits 1 byte over SPI, bitbang method</span>
<span class="kwrd">public</span> <span class="kwrd">void</span> putByte(<span class="kwrd">byte</span> data)
{
    <span class="kwrd">byte</span> i = 8;
    <span class="kwrd">int</span> mask;

    <span class="kwrd">while</span> (i &gt; 0)
    {
        mask = (1 &lt;&lt; i - 1);
        clkPin.Write(<span class="kwrd">false</span>);
        <span class="kwrd">if</span> (((<span class="kwrd">int</span>)data &amp; mask) == 0)
            dataPin.Write(<span class="kwrd">false</span>);
        <span class="kwrd">else</span>
            dataPin.Write(<span class="kwrd">true</span>);
        clkPin.Write(<span class="kwrd">true</span>);
        --i;
    }
}</pre>

<p>And finally, we added one more method that pulled our load pin low, transmitted the register and column bytes, and pulled load high again to latch the data:</p>

<pre class="csharpcode"><span class="rem">// Sends 1 Command / Data pair to a single driver chip</span>
<span class="kwrd">public</span> <span class="kwrd">void</span> maxSingle(<span class="kwrd">byte</span> reg, <span class="kwrd">byte</span> col)
{
    <span class="rem">// LOAD low</span>
    loadPin.Write(<span class="kwrd">false</span>);

    <span class="rem">// Transmit Register</span>
    putByte(reg);
    <span class="rem">// Transmit Column</span>
    putByte(col);

    <span class="rem">// LOAD high latches data sent</span>
    loadPin.Write(<span class="kwrd">true</span>);
}</pre>

<p>Complete with a function to send commands to the MAX via the maxSingle, we went back to our constructor and passed some initialization values after our pin assignments. maxSingle is so named because it only addresses one MAX7219, and since they are daisy-chainable, we can control multiple MAX7219s with little modification to our code:</p>

<pre class="csharpcode"><span class="rem">// Initialize MAX7219</span>
<span class="rem">// set scan limit</span>
maxSingle(max7219_reg_scanLimit, 0x07);
<span class="rem">// using an led matrix mode (not digits)</span>
maxSingle(max7219_reg_decodeMode, 0x00);
<span class="rem">// not in shutdown mode</span>
maxSingle(max7219_reg_shutdown, 0x01);
<span class="rem">// no display test</span>
maxSingle(max7219_reg_displayTest, 0x00);
<span class="rem">// set max intensity  (range 00-0f)</span>
maxSingle(max7219_reg_intensity, 0x0f);</pre>

<p><b>Using the driver:</b></p>

<p>To use the driver, we created a variable to hold the instance of our driver, created the actual OutputPort references to pins, and passed to our instanced MAX7219 driver. The pins we are using are D10, D11, D13:</p>

<pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">static</span> max7219 driver;

<span class="kwrd">public</span> <span class="kwrd">static</span> <span class="kwrd">void</span> Main()
{
    <span class="rem">// Define spi pins</span>
    OutputPort loadPin = <span class="kwrd">new</span> OutputPort(Pins.GPIO_PIN_D10, <span class="kwrd">false</span>);
    OutputPort dataPin = <span class="kwrd">new</span> OutputPort(Pins.GPIO_PIN_D11, <span class="kwrd">false</span>);
    OutputPort clkPin = <span class="kwrd">new</span> OutputPort(Pins.GPIO_PIN_D13, <span class="kwrd">false</span>);

    <span class="rem">// Instance of driver, passing pin assignments</span>
    driver = <span class="kwrd">new</span> max7219(dataPin, clkPin, loadPin);
}</pre>

<p>At this point, we used our driver by calling driver.maxSingle(reg, col) to light either a single LED or a group of LEDs depending on specifications.</p>

<h2><b>Animations</b></h2>

<p>We completed two different types of animations, one based off of an algorithm and one using frame-by-frame animation for more complex patterns.</p>

<p>Our first animation is my personal favorite, the pulsating animation, which uses pulses to raise and lower the brightness:</p>

<pre class="csharpcode"><span class="rem">// Main loop</span>
<span class="kwrd">while</span> (<span class="kwrd">true</span>)
{
   <span class="rem">// if direction is 1, we are going to fade down</span>
   <span class="kwrd">if</span> (dir == 1)
      cnt--;
   <span class="kwrd">else</span> <span class="rem">// otherwise fade up</span>
      cnt++;

   <span class="rem">// if direction is fading down and we are at 0 (the bottom)</span>
   <span class="rem">// switch directions to fading up</span>
   <span class="kwrd">if</span> (dir == 1 &amp;&amp; cnt == 0)
      dir = 0;
   <span class="rem">// and if we are fading up (dir == 0) and we are at the max intensity</span>
   <span class="rem">// lets start fading down</span>
   <span class="kwrd">else</span> <span class="kwrd">if</span> (dir == 0 &amp;&amp; cnt == 15)
      dir = 1;

    <span class="rem">// loop through driver.MAX7219_reg_digit0-7 and make sure all led's</span>
    <span class="rem">// are on by passing 0xFF which is all 8 bits on per digit</span>
   <span class="kwrd">for</span> (j = 1; j &lt; 8; j++)
      driver.maxSingle(j, 0xFF);

   <span class="rem">// Pass the cnt value to the intensity register</span>
   driver.maxSingle(driver.max7219_reg_intensity, (<span class="kwrd">byte</span>)(cnt &amp; 0x0f));

   <span class="rem">// Add a small delay between levels of intensity</span>
   Thread.Sleep(15);
}</pre>

<p>Wow, that looks great! Now we can create all kinds of animations using simple algorithms. To create more complex animations, however, a simpler method was needed. The disc is wired up around the ring using five digits of six LED segments. To simplify the math, we made a graphical ring of 30 LEDs, recorded each frame, and stored five characters per frame using six bits per character.</p>

<p>The creator is posted on the web at <a href="http://harfordhackerspace.org/ledwiz/tron/">http://harfordhackerspace.org/ledwiz/tron/</a> and was created using HTML/Javascript and CSS. We won’t get into the details of that code in this article, but feel free to use it to create as many animations as your Netduino will hold!</p>

<p>After creating an animation, click the ‘generate’ button to get an output similar to the following:</p>

<pre class="csharpcode"><span class="kwrd">byte</span>[] animation = <span class="kwrd">new</span> <span class="kwrd">byte</span>[] {
  0x2,0x11,0x4,0x21,0x8,
  0x4,0x22,0x8,0x2,0x11,
  0x8,0x4,0x11,0x4,0x22
};</pre>

<p>Here you can see three frames (one line per frame) with five characters using six bits per character. To display the animation, keep track of which digit (0-5) is active as the register and pass the character as the column:</p>

<pre class="csharpcode"><span class="kwrd">int</span> i;

<span class="kwrd">for</span> (i = 0; i &lt; animation.Length; i++)
{
    driver.maxSingle((<span class="kwrd">byte</span>)((i % 5) + 1), animation[i]);
}</pre>

<p>It’s a simple animation. To slow it down, add a <a href="http://msdn.microsoft.com/query/dev10.query?appId=Dev10IDEF1&amp;l=EN-US&amp;k=k%28SYSTEM.THREADING.THREAD.SLEEP%29;k%28TargetFrameworkMoniker-%22.NETMICROFRAMEWORK%2cVERSION%3dV4.1%22%29;k%28DevLang-CSHARP%29&amp;rd=true">Thread.sleep</a>(x) (x being the number of milliseconds between each command).</p>

<h2>Dealing with multiple frame by frame animations</h2>

<p>To create multi-frame animations, make a multi-dimensional array and modify the code to support multiple animations:</p>

<pre class="csharpcode"><span class="kwrd">byte</span> animation_num = 0;
<span class="kwrd">int</span> i;
<span class="kwrd">byte</span>[][] animations = <span class="kwrd">new</span> <span class="kwrd">byte</span>[][]
{
   <span class="kwrd">new</span> <span class="kwrd">byte</span>[]
   {
      0x2,0x11,0x4,0x21,0x8,
      0x4,0x22,0x8,0x2,0x11,
      0x8,0x4,0x11,0x4,0x22
   },
   <span class="kwrd">new</span> <span class="kwrd">byte</span>[]
   {
      0x1,0x10,0x2,0x8,0x2,
      0x3,0x18,0x6,0x2,0x8,
      0x7,0x3,0x18,0x1,0x8
   }
}
<span class="rem">// Main loop</span>
<span class="kwrd">while</span> (<span class="kwrd">true</span>)
{
   <span class="kwrd">for</span> (i = 0; i &lt; animations[animation_num].Length; i++)
   {
      driver.maxSingle((<span class="kwrd">byte</span>)((i % 5) + 1), animations[animation_num][i]);
   }
}</pre>

<p>Once it hits the main loop, it will keep playing the first animation (which is 0) until a change in the value of animation_num to 1 (then it will play the second animation).</p>

<p>A method is needed to read the button on the Disc and increment/loop the animation_num value. To do this, use the <a href="http://msdn.microsoft.com/query/dev10.query?appId=Dev10IDEF1&amp;l=EN-US&amp;k=k%28MICROSOFT.SPOT.HARDWARE.INTERRUPTPORT%29;k%28TargetFrameworkMoniker-%22.NETMICROFRAMEWORK%2cVERSION%3dV4.1%22%29;k%28DevLang-CSHARP%29&amp;rd=true">InterruptPort</a> class.</p>

<p>First, add the InterruptPort code to the Main() function before the Main loop:</p>

<pre class="csharpcode"><span class="rem">// Tron Button to Change Annimations, pulls high</span>
InterruptPort changeBtn = 
   <span class="kwrd">new</span> InterruptPort(
      Pins.GPIO_PIN_D0, 
      <span class="kwrd">false</span>, 
      Port.ResistorMode.Disabled,
      Port.InterruptMode.InterruptEdgeHigh);
changeBtn.OnInterrupt += <span class="kwrd">new</span> NativeEventHandler(changeBtn_OnInterrupt);</pre>

<p>Then, add a method called changeBtn_OnInterrupt to the program:</p>

<pre class="csharpcode"><span class="rem">//Interrupt Handler for changeBtn to change annimations</span>
<span class="kwrd">static</span> <span class="kwrd">void</span> changeBtn_OnInterrupt(<span class="kwrd">uint</span> data1, <span class="kwrd">uint</span> data2, DateTime time)
{
    <span class="kwrd">if</span> (++new_animation_num &gt; animation_total)
    {
        new_animation_num = 0;
    }

     <span class="rem">// reset intensity to max incase previous animation exits with </span>
     <span class="rem">// intensity less than max</span>
    driver.maxSingle(driver.max7219_reg_intensity, 0x0f);

    <span class="rem">// Print debug string</span>
    Debug.Print(<span class="str">&quot;Animation Num: &quot;</span>);
    Debug.Print(new_animation_num.ToString());
}</pre>

<p>Finally, to get it all working, add a switcher at the top of the loop, change the animation_num values to be public throughout the class, as well as static since the program is static:</p>

<pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">class</span> Program
{
    <span class="kwrd">public</span> <span class="kwrd">static</span> <span class="kwrd">byte</span> new_animation_num = 0;
    <span class="kwrd">public</span> <span class="kwrd">static</span> <span class="kwrd">byte</span> animation_num = 0;
    <span class="kwrd">public</span> <span class="kwrd">static</span> <span class="kwrd">byte</span> animation_total = 2;

    <span class="rem">/* more goodness */</span>

    <span class="rem">// Main loop</span>
    <span class="kwrd">while</span> (<span class="kwrd">true</span>)
    {
        animation_num = new_animation_num;

        <span class="rem">// adding this to the top of our main loop</span>
    }
    <span class="rem">/* more goodness */</span>
}</pre>

<h2>Finishing touches</h2>

<p>To make it all work together, we mixed algorithmic animations by filling our animations array, hard-coded a few “if” statements to do algorithmic animations, as well as “else” statements for all the frame-based animations.&#160; We also added another InterruptHandler to both act like a button when the Disc is placed on the charging dock and change the animation to the pulse animation.&#160; Also, we tested the power by turning on all of the LEDs, waiting three seconds, and then proceeding.</p>

<h2>About</h2>

<p>Harford Hackerspace is a non-profit 501(C)(3) charitable organization set forth to create a place for people to collaborate on hardware and software projects. Members of the space have been meeting weekly since January 2009 to socialize, learn, and work on projects related to science and technology. In 2009 they built a <a href="http://harfordhackerspace.org/category/cnc/">Computer Numerical Controller (CNC) Router</a> capable of precision cutting of wood, plastics, and aluminum. In August 2010 Harford Hackerspace hosted the first ever <a href="http://harfordhackerspace.org/category/netduino/">Netduino class</a> with Secret Labs CTO Chris Walker. Most recently in November 2010 Harford Hackerspace won first place in the <a href="http://www.baltimorehackathon.com">Baltimore Hackathon</a> with their <a href="http://harfordhackerspace.org/2010/11/haha-wins-first-place/">RotoFoto Project.</a></p><div style="clear:both;"></div></div>
					        
        				
			        </div>
			        <div class="abbreviated-post-footer"></div>
		        </li>
	        
		        <li class="content-item">
			        <div class="abbreviated-post-header"></div>
			        <div class="abbreviated-post">
			            <div class="post-application">
		                        <span class="label"></span>
		                        <span class="value"><a class="internal-link view-application" href="/b/coding4fun/"><span></span>Coding4Fun</a></span>
			                </div>
				        <h4 class="post-name"><a class="internal-link view-post" href="/b/coding4fun/archive/2010/12/03/10100231.aspx"><span></span>Native Extensions for Microsoft Silverlight</a></h4>
				        
            <div class="post-date">
		        <span class="label">Posted</span>
		        <span class="value">Fri, Dec 3 2010</span>
	        </div>
                        <div class="post-author">
                            <span class="fiji-post-author-by">by</span>
                            <span class="avatar"><a href="/members/Coding4Fun/"><img src="/resized-image.ashx/__size/32x32/__key/CommunityServer-Components-Avatars/00-00-00-45-39/4TFY486PD44T.png" alt="" style="border-width:0px;" /></a></span>
                            
                            <span class="user-name"><a class="internal-link view-user-profile" href="/members/Coding4Fun/"><span></span>Coding4Fun</a></span>
                            
                        </div>
				        
	                    <div class="post-attributes">
		                        <div class="attribute-list-header"></div>
                                <ul class="attribute-list">
                                    <li class="attribute-item post-reply-count">
                                        <span class="attribute-value">0</span>
                                        <span class="attribute-name">Comments</span>
                                    </li>
                                </ul>
                                <div class="attribute-list-footer"></div>
                            </div>
        				
				        
                                <div class="post-content user-defined-markup"><p>A NESL is a set of libraries for Silverlight developers that allow them to access some really cool features of Windows 7 from their Silverlight applications. </p>  <ul>   <li>Take advantage of sensors like accelerometers, light sensors, compasses, GPS etc.</li>    <li>Access content from connected portable devices like music players and digital cameras.</li>    <li>Capture and create video from webcams and screen output</li>    <li>Use speech recognition and text to speech capabilities.</li>    <li>Integrate with the Windows 7 taskbar (Jump Lists, Icon Overlays, Taskbar Progress etc.)</li>    <li>And more!</li> </ul>  <p>Head over to <a href="http://code.msdn.microsoft.com/nesl">http://code.msdn.microsoft.com/nesl</a> to start developing with it.</p>  <p><img alt="TJDemoPic1.png" src="http://code.msdn.microsoft.com/Project/Download/FileDownload.aspx?ProjectName=nesl&amp;DownloadId=14525" /> <img alt="TJDemoPic2.png" src="http://code.msdn.microsoft.com/Project/Download/FileDownload.aspx?ProjectName=nesl&amp;DownloadId=14526" /> <img alt="TJDemoPic3.png" src="http://code.msdn.microsoft.com/Project/Download/FileDownload.aspx?ProjectName=nesl&amp;DownloadId=14527" /></p><div style="clear:both;"></div></div>
					        
        				
			        </div>
			        <div class="abbreviated-post-footer"></div>
		        </li>
	        
		        <li class="content-item">
			        <div class="abbreviated-post-header"></div>
			        <div class="abbreviated-post">
			            <div class="post-application">
		                        <span class="label"></span>
		                        <span class="value"><a class="internal-link view-application" href="/b/coding4fun/"><span></span>Coding4Fun</a></span>
			                </div>
				        <h4 class="post-name"><a class="internal-link view-post" href="/b/coding4fun/archive/2010/11/30/10098706.aspx"><span></span>Currency Converter for Windows Phone 7</a></h4>
				        
            <div class="post-date">
		        <span class="label">Posted</span>
		        <span class="value">Tue, Nov 30 2010</span>
	        </div>
                        <div class="post-author">
                            <span class="fiji-post-author-by">by</span>
                            <span class="avatar"><a href="/members/Coding4Fun/"><img src="/resized-image.ashx/__size/32x32/__key/CommunityServer-Components-Avatars/00-00-00-45-39/4TFY486PD44T.png" alt="" style="border-width:0px;" /></a></span>
                            
                            <span class="user-name"><a class="internal-link view-user-profile" href="/members/Coding4Fun/"><span></span>Coding4Fun</a></span>
                            
                        </div>
				        
	                    <div class="post-attributes">
		                        <div class="attribute-list-header"></div>
                                <ul class="attribute-list">
                                    <li class="attribute-item post-reply-count">
                                        <span class="attribute-value">0</span>
                                        <span class="attribute-name">Comments</span>
                                    </li>
                                </ul>
                                <div class="attribute-list-footer"></div>
                            </div>
        				
				        
                                <div class="post-content user-defined-markup"><p>The purpose of this article is to show how you can make your very own, very simple Currency Converter application for Windows Phone 7, using Bing to make all the hard exchanging work!   <table border="0" cellspacing="0" cellpadding="0"><tbody>       <tr>         <td valign="top" width="157">           <p>Pedro Lamas             <br />DevScope</p>         </td>          <td valign="top" width="481">           <p><b>Code It:</b> <a href="http://currency.codeplex.com/">Download the source at CodePlex</a>              <br /><b>Run It:</b> <a href="http://social.zune.net/redirect?type=phoneApp&amp;id=e01bf520-cfe6-df11-a844-00237de2db9e">Zune Marketplace</a></p>            <p><b>Difficulty:</b> Beginner              <br /><b>Time Required:</b> About 2 to 3 hours              <br /><b>Cost:</b> Free!              <br /><b>Software Needed:</b> <a href="http://developer.windowsphone.com/windows-phone-7/">Windows Phone Developer Tools</a>, <a href="http://silverlight.codeplex.com/">Silverlight for Windows Phone Toolkit</a>              <br /><b>Hardware:</b> A Computer</p>         </td>       </tr>     </tbody></table> </p>  <h2><a href="http://ecn.channel9.msdn.com/c4fcontent/images/5e47fc4afcfc_EF39/conversion_splash.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top: 0px; border-right: 0px; padding-top: 0px" title="conversion_splash" border="0" alt="conversion_splash" src="http://ecn.channel9.msdn.com/c4fcontent/images/5e47fc4afcfc_EF39/conversion_splash_thumb.png" width="288" height="480" /></a>Introduction</h2>  <p>Microsoft has done an absolutely amazing job with the Windows Phone 7, giving each and every one of us all of the necessary tools to make our applications blend nicely on it; and the best part—the tools are, and will always be, free!!! J</p>  <h2>Using Bing for the currency exchange</h2>  <p>First let’s look at what happens when I open up Bing on my browser, and enter a search query like “1 US Dollar in Euros”:</p>  <p><a href="http://ecn.channel9.msdn.com/c4fcontent/images/5e47fc4afcfc_EF39/image.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/5e47fc4afcfc_EF39/image_thumb.png" width="500" height="375" /></a></p>  <p>As you can see, Bing correctly understood my query, and knew that I was looking for an exchange rate. Then MSN Money made the exchange and presented the result. </p>  <p>Also, notice that the address displays as:</p>  <p>http://www.bing.com/search?q=<b>1+US+Dollar+in+Euros</b>&amp;go=&amp;form=QBRE&amp;qs=n&amp;sk=&amp;sc=1-20</p>  <p>OK, but how can we use this to feed the WP7 application? Call the Internet Explorer Developer Tools (just press F12 on your IE8+) and use the “Select element by click” option (Ctrl + B) to select the result on the page and see its HTML code. The result will look just like this:</p>  <p><a href="http://ecn.channel9.msdn.com/c4fcontent/images/5e47fc4afcfc_EF39/image_3.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/5e47fc4afcfc_EF39/image_thumb_3.png" width="500" height="406" /></a></p>  <p>Now we know how to build the Bing currency exchange search query (using “http://www.bing.com/search?q=<b>{VALUE}</b>+<b>{SOURCE_CURRENCY}</b>+in+<b>{DESTINATION_CURRENCY}</b>&amp;go=&amp;form=QBRE&amp;qs=n&amp;sk=&amp;sc=1-20”) and also how to find the results on the returned HTML (search the “&lt;span class=&quot;sc_bigLine&quot;&gt;<b>RESULT</b>&lt;/span&gt;”).</p>  <p>The final task is selecting that span tag on the full HTML and then extracting the converted amount; for this task, I’ll be using the following Regular Expression (using System.Text.RegularExpressions):</p>  <p><strong>C#     <br /></strong>    <pre class="csharpcode"><span class="kwrd">static</span> Regex _resultRegex = 
  <span class="kwrd">new</span> Regex(<span class="str">&quot;&lt;span class=\&quot;sc_bigLine\&quot;&gt;.*? = (?&lt;value&gt;[0-9.,]+).*?&lt;/span&gt;&quot;</span>);</pre>
  </p>

<p>This expression searches the HTML code for a span with class “sc_bigLine” and inner content matching something like the above example: “1 USD = 0.71270 EUR”.</p>

<p>The expression also allows me to extract the number after the “=” sign by using Groups[“value&quot;].value property.</p>

<h2>MVVM is our friend!</h2>

<p>I’ll start by quoting the Wikipedia:</p>

<p><i>The Model View ViewModel (MVVM) is an architectural pattern used in software engineering (…) is targeted at modern UI development platforms (Windows Presentation Foundation and Silverlight) in which there is a User Experience (UX) developer who has different requirements than a more “traditional” developer (i.e. oriented toward business logic and back end development).</i></p>

<p>Basically, the point is to clearly separate the user interface from all the business logic and data that our application will use!</p>

<p>We can summarize the MVVM pattern with this schema:</p>

<p><a href="http://ecn.channel9.msdn.com/c4fcontent/images/5e47fc4afcfc_EF39/image_4.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/5e47fc4afcfc_EF39/image_thumb_4.png" width="295" height="290" /></a></p>

<p>The View is the basic XAML for the user interface (although sometimes it can have a C# file attached to it) that will use Data Binding to read and change properties on the ViewModel, and Actions to invoke the methods.</p>

<p>The ViewModel is the abstraction of the View and will do all the work for binding the View to the Model, with the necessary data conversion.</p>

<p>The Model can represent the actual object model instance in a known state, or just a data access layer.</p>

<p>There is one basic rule in MVVM: don’t look up! The Model has no knowledge of either the ViewModel or the View, and the ViewModel has no knowledge of the View.</p>

<p>This brings a new challenge on how to make the three components talk between themselves, and that’s where notifications come along!</p>

<p>We use notifications to communicate changes from a lower component to an upper one; when the upper component gets notified, it will then query the lower for what changed and act accordingly to the new state!</p>

<p>You can read more about MVVM throughout the internet, but there is an article by Shawn Wildermuth that’s one of the best I’ve seen; you can read it here: <a href="http://msdn.microsoft.com/en-us/magazine/dd458800.aspx">http://msdn.microsoft.com/enus/magazine/dd458800.aspx</a>.</p>

<h2>The Model</h2>

<p>We will start at the very bottom (a.k.a. the Model), and as such I’ve created the following Interfaces to support our Data Model:</p>

<p><a href="http://ecn.channel9.msdn.com/c4fcontent/images/5e47fc4afcfc_EF39/image_5.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/5e47fc4afcfc_EF39/image_thumb_5.png" width="401" height="150" /></a><a href="http://ecn.channel9.msdn.com/c4fcontent/images/5e47fc4afcfc_EF39/image_6.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/5e47fc4afcfc_EF39/image_thumb_6.png" width="147" height="115" /></a></p>

<p><b>C#
    <br /></b>

  <pre class="csharpcode"><span class="kwrd">using</span> System;

<span class="kwrd">public</span> <span class="kwrd">interface</span> ICurrencyExchangeService
{
    ICurrency[] Currencies { get; }

    <span class="kwrd">void</span> ExchangeCurrency(
        <span class="kwrd">double</span> amount, 
        ICurrency fromCurrency, 
        ICurrency toCurrency, 
        Action&lt;ICurrencyExchangeResult&gt; callback);
}

<span class="kwrd">public</span> <span class="kwrd">interface</span> ICurrency
{
    <span class="kwrd">string</span> Name { get; }
}

<span class="kwrd">public</span> <span class="kwrd">interface</span> ICurrencyExchangeResult
{
    Exception Error { get; }

    <span class="kwrd">string</span> ExchangedCurrency { get; }

    <span class="kwrd">double</span> ExchangedAmount { get; }
}</pre>
</p>

<p>From these three interfaces, we will extend our Bing Currency Exchange provider:</p>

<p>The abstract CurrencyExchangeServiceBase class implements the ICurrencyExchangeService.ExchangeCurrency method to do all the asynchronous work required to request data from a webserver and retrieve the resulting HTML; to achieve its goal, the CurrencyExchangeServiceBase has two abstract methods that must be implemented: CreateRequestUrl, to get the request url that will be passed to the WebRequest, and GetResultFromResponseContent, to parse the received HTML and return the exchanged value.</p>

<p>We then extend the BingCurrencyExchangeService from CurrencyExchangeServiceBase, implementing the CreateRequestUrl and GetResultFromResponseContent required methods and the ICurrencyExchangeService.Currencies property including all currencies supported by this service instance.</p>

<p>We have also a basic ICurrency interface implementation class called BingCurrency.</p>

<p>This is the CurrencyExchangeServiceBase abstract class implementation:</p>

<p><a href="http://ecn.channel9.msdn.com/c4fcontent/images/5e47fc4afcfc_EF39/image_7.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/5e47fc4afcfc_EF39/image_thumb_7.png" width="454" height="412" /></a></p>

<p><b>C#</b></p>

<pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">abstract</span> <span class="kwrd">class</span> CurrencyExchangeServiceBase : ICurrencyExchangeService
{
   <span class="kwrd">public</span> <span class="kwrd">abstract</span> ICurrency[] Currencies { get; }

   <span class="kwrd">protected</span> <span class="kwrd">abstract</span> <span class="kwrd">string</span> CreateRequestUrl(
        <span class="kwrd">double</span> amount, 
        ICurrency fromCurrency, 
        ICurrency toCurrency);

   <span class="kwrd">protected</span> <span class="kwrd">abstract</span> <span class="kwrd">double</span> 
        GetResultFromResponseContent(<span class="kwrd">string</span> responseContent);

   <span class="kwrd">public</span> <span class="kwrd">void</span> ExchangeCurrency(
        <span class="kwrd">double</span> amount, 
        ICurrency fromCurrency, 
        ICurrency toCurrency, 
        Action&lt;ICurrencyExchangeResult&gt; callback)
   {
      var url = CreateRequestUrl(amount, fromCurrency, toCurrency);

      var request = HttpWebRequest.Create(url);

      request.BeginGetResponse(ar =&gt; 
      {
         <span class="kwrd">try</span>
         {
            var response = (HttpWebResponse)request.EndGetResponse(ar);

            <span class="kwrd">if</span> (response.StatusCode == HttpStatusCode.OK)
            {
               <span class="kwrd">string</span> responseContent;

               <span class="kwrd">using</span> (var streamReader = 
                  <span class="kwrd">new</span> StreamReader(response.GetResponseStream()))
               {
                  responseContent = streamReader.ReadToEnd();
               }

               var exchangedCurrency = 
                  GetResultFromResponseContent(responseContent);

               callback(
                  <span class="kwrd">new</span> CurrencyExchangeResult(
                     toCurrency.Name, 
                     exchangedCurrency));
            }
            <span class="kwrd">else</span>
            {
               <span class="kwrd">throw</span> <span class="kwrd">new</span> Exception(
                <span class="kwrd">string</span>.Format(<span class="str">&quot;Http Error: ({0}) {1}&quot;</span>,
                  response.StatusCode,
                  response.StatusDescription));
            }
         }
         <span class="kwrd">catch</span> (Exception ex)
         {
            callback(<span class="kwrd">new</span> CurrencyExchangeResult(ex));
         }
      }, <span class="kwrd">null</span>);
   }
}</pre>
<b></b>

<p>As I said before, this is an abstract class that requires any inheritor to implement the Currencies property as well as the CreateRequestUrl and GetResultFromResponseContent functions—and that’s exactly what the BingCurrencyExchangeService class does:</p>

<p><b>C#
    <br /></b>

  <pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">class</span> BingCurrencyExchangeService : CurrencyExchangeServiceBase
{
   <span class="kwrd">private</span> <span class="kwrd">static</span> Regex _resultRegex = 
      <span class="kwrd">new</span> Regex(<span class="str">&quot;&lt;span class=\&quot;sc_bigLine\&quot;&gt;.*? = (?&lt;value&gt;[0-9.,]+).*?&lt;/span&gt;&quot;</span>);

   <span class="kwrd">private</span> <span class="kwrd">static</span> ICurrency[] _currencies = <span class="kwrd">new</span> ICurrency[] { 
      <span class="kwrd">new</span> BingCurrency(<span class="str">&quot;Euro&quot;</span>),
      <span class="kwrd">new</span> BingCurrency(<span class="str">&quot;US Dollar&quot;</span>)
      <span class="rem">//all available currencies will go here!</span>
   };

   <span class="preproc">#endregion</span>

   <span class="kwrd">public</span> <span class="kwrd">override</span> ICurrency[] Currencies
   {
      get
      {
         <span class="kwrd">return</span> _currencies;
      }
   }

   <span class="kwrd">protected</span> <span class="kwrd">override</span> <span class="kwrd">string</span> CreateRequestUrl(<span class="kwrd">double</span> amount, ICurrency fromCurrency, ICurrency toCurrency)
   {
      <span class="kwrd">return</span> <span class="kwrd">string</span>.Format(
         <span class="str">@&quot;http://www.bing.com/search?q={0}+{1}+in+{2}&amp;scope=web&amp;mkt=en-US&amp;FORM=W0LH&quot;</span>,
         amount,
         fromCurrency.Name.Replace(<span class="str">&quot; &quot;</span>, <span class="str">&quot;+&quot;</span>),
         toCurrency.Name.Replace(<span class="str">&quot; &quot;</span>, <span class="str">&quot;+&quot;</span>));
   }

   <span class="kwrd">protected</span> <span class="kwrd">override</span> <span class="kwrd">double</span> GetResultFromResponseContent(<span class="kwrd">string</span> responseContent)
   {
      var match = _resultRegex.Match(responseContent);

      <span class="kwrd">if</span> (match.Success)
         <span class="kwrd">return</span> <span class="kwrd">double</span>.Parse(
            match.Groups[<span class="str">&quot;value&quot;</span>].Value, 
            CultureInfo.InvariantCulture);
      <span class="kwrd">else</span>
         <span class="kwrd">throw</span> <span class="kwrd">new</span> Exception(<span class="str">&quot;Conversion not returned!&quot;</span>);
   }
}</pre>
</p>



<p>As you can see here, the BingCurrencyExchangeService class knows how to build the Bing search url if given the currencies and the value of exchange, and also how to get the converted value out of the response HTML code (notice the usage of our regular expression).</p>

<h2>The ViewModel</h2>

<p>The ViewModel has a basic inheritance requirement: using INotifyPropertyChanged to notify the user interface of property value changes.</p>

<p>Our MainViewModel class will have to expose three base data properties for the user interface controls: FromCurrency, ToCurrency, and Amount.</p>

<p>All assembled, this is how the ViewModel looks:</p>

<p><b>C#
    <br /></b>

  <pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">class</span> MainViewModel : INotifyPropertyChanged
{
   <span class="kwrd">private</span> ICurrencyExchangeService _currencyExchangeService;
   <span class="kwrd">private</span> <span class="kwrd">double</span> _amount;
   <span class="kwrd">private</span> ICurrency _fromCurrency;
   <span class="kwrd">private</span> ICurrency _toCurrency;

   <span class="kwrd">public</span> ICurrencyExchangeService CurrencyExchangeService
   {
      get
      {
         <span class="kwrd">return</span> _currencyExchangeService;
      }
      set
      {
         <span class="kwrd">if</span> (_currencyExchangeService == <span class="kwrd">value</span>)
            <span class="kwrd">return</span>;

         _currencyExchangeService = <span class="kwrd">value</span>;

         _fromCurrency = Currencies.FirstOrDefault(x =&gt; x.Name == <span class="str">&quot;US Dollar&quot;</span>) ?? Currencies[0];
         _toCurrency = Currencies.FirstOrDefault(x =&gt; x.Name == <span class="str">&quot;Euro&quot;</span>) ?? Currencies[1];

         RaisePropertyChanged(<span class="str">&quot;CurrencyExchangeService&quot;</span>);
         RaisePropertyChanged(<span class="str">&quot;Currencies&quot;</span>);
      }
   }

   <span class="kwrd">public</span> ICurrency[] Currencies
   {
      get
      {
         <span class="kwrd">return</span> _currencyExchangeService.Currencies;
      }
   }

   <span class="kwrd">public</span> <span class="kwrd">string</span> Amount
   {
      get
      {
         <span class="kwrd">return</span> _amount.ToString(<span class="str">&quot;0.00&quot;</span>);
      }
      set
      {
         <span class="kwrd">double</span> amount;

         <span class="kwrd">if</span> (<span class="kwrd">double</span>.TryParse(<span class="kwrd">value</span>, <span class="kwrd">out</span> amount))
         {
            <span class="kwrd">if</span> (_amount == amount)
               <span class="kwrd">return</span>;

            _amount = amount;

            RaisePropertyChanged(<span class="str">&quot;Amount&quot;</span>);
         }
         <span class="kwrd">else</span>
            <span class="kwrd">throw</span> <span class="kwrd">new</span> Exception(<span class="str">&quot;Please enter a valid Amount&quot;</span>);
      }
   }

   <span class="kwrd">public</span> ICurrency FromCurrency
   {
      get
      {
         <span class="kwrd">return</span> _fromCurrency;
      }
      set
      {
         <span class="kwrd">if</span> (_fromCurrency == <span class="kwrd">value</span>)
            <span class="kwrd">return</span>;

         _fromCurrency = <span class="kwrd">value</span>;

         RaisePropertyChanged(<span class="str">&quot;FromCurrency&quot;</span>);
      }
   }

   <span class="kwrd">public</span> ICurrency ToCurrency
   {
      get
      {
         <span class="kwrd">return</span> _toCurrency;
      }
      set
      {
         <span class="kwrd">if</span> (_toCurrency == <span class="kwrd">value</span>)
            <span class="kwrd">return</span>;

         _toCurrency = <span class="kwrd">value</span>;

         RaisePropertyChanged(<span class="str">&quot;ToCurrency&quot;</span>);
      }
   }

   <span class="kwrd">public</span> MainViewModel()
   {
      CurrencyExchangeService = <span class="kwrd">new</span> BingCurrencyExchangeService();
      Amount = <span class="str">&quot;100&quot;</span>;
   }

   <span class="kwrd">public</span> <span class="kwrd">event</span> PropertyChangedEventHandler PropertyChanged;

   <span class="kwrd">private</span> <span class="kwrd">void</span> RaisePropertyChanged(<span class="kwrd">string</span> propertyName)
   {
      <span class="kwrd">if</span> (PropertyChanged != <span class="kwrd">null</span>)
         PropertyChanged(<span class="kwrd">this</span>, <span class="kwrd">new</span> PropertyChangedEventArgs(propertyName));
   }
}</pre>
</p>



<p>In order to allow the user to change the FromCurrency and ToCurrency properties, we need to list the available ones; as such, we added a Currencies property to return the ICurrency[] Currencies property of the Model instance.</p>

<p>On the MainViewModel constructor, set the CurrencyExchangeService property to a new BingCurrencyExchangeService instance, making it retrieve “Euro” and “US Dollar” (if available; if not, get the 1<sup>st</sup> and 2<sup>nd</sup> one instead) as the two default exchange currencies, and then set the Amount property to an initial value of “100.”</p>

<p>The PropertyChanged event is a basic implementation of the INotifyPropertyChanged interface, with a helper method called RaisePropertyChanged used to invoke the event.</p>

<p>Now we need to add functionality to request a currency exchange operation and show the results on the user interface:</p>

<p><b>C#
    <br /></b>

  <pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">class</span> MainViewModel : INotifyPropertyChanged
{
    <span class="rem">//remaining code...</span>

    <span class="kwrd">private</span> ICurrencyExchangeResult _result;

    <span class="kwrd">public</span> ICurrencyExchangeResult Result
    {
        get
        {
            <span class="kwrd">return</span> _result;
        }
        <span class="kwrd">protected</span> set
        {
            <span class="kwrd">if</span> (_result == <span class="kwrd">value</span>)
                <span class="kwrd">return</span>;

            _result = <span class="kwrd">value</span>;

            RaisePropertyChanged(<span class="str">&quot;Result&quot;</span>);
            RaisePropertyChanged(<span class="str">&quot;ExchangedCurrency&quot;</span>);
            RaisePropertyChanged(<span class="str">&quot;ExchangedAmount&quot;</span>);
        }
    }

    <span class="kwrd">public</span> <span class="kwrd">string</span> ExchangedCurrency
    {
        get
        {
            <span class="kwrd">if</span> (_result == <span class="kwrd">null</span>)
                <span class="kwrd">return</span> <span class="kwrd">string</span>.Empty;

            <span class="kwrd">return</span> _result.ExchangedCurrency;
        }
    }

    <span class="kwrd">public</span> <span class="kwrd">string</span> ExchangedAmount
    {
        get
        {
            <span class="kwrd">if</span> (_result == <span class="kwrd">null</span>)
                <span class="kwrd">return</span> <span class="kwrd">string</span>.Empty;

            <span class="kwrd">return</span> _result.ExchangedAmount.ToString(<span class="str">&quot;N2&quot;</span>);
        }
    }

    <span class="kwrd">public</span> <span class="kwrd">void</span> ExchangeCurrency()
    {
        _currencyExchangeService.ExchangeCurrency(_amount, _fromCurrency, _toCurrency, CurrencyExchanged);
    }

    <span class="kwrd">private</span> <span class="kwrd">void</span> CurrencyExchanged(ICurrencyExchangeResult result)
    {
        System.Windows.Deployment.Current.Dispatcher.BeginInvoke(() =&gt;
        {
            Result = result;
        });
    }
}</pre>
</p>

<p>The ExchangeCurrency method will be used to request a currency exchange operation on the Model instance, including the entered data. When the operation ends, the CurrencyExchanged method will be invoked and we will then get an ICurrencyExchangeResult instance with the results; this method will be asynchronously called on another thread, so we will need get the current Dispatcher and use it to invoke the changes to the MainViewModel.Result property (so that they are made on the interface thread).</p>

<p>As the Result property gets changed, it will also make property changed notifications to the ExchangedCurrency and ExchangedAmount properties, allowing the user interface to show the returned values.</p>

<h2>The View</h2>

<p>The View that will support our application is really quite simple!</p>

<p>The basic requirements are two ListPicker controls (these are implemented on the Silverlight Toolkit): one for each Currency (the MainViewModel FromCurrency and ToCurrency properties) and a TextBox for the Amount.</p>

<p>We also need two more TextAreas to show the currency exchange results (one for the ExchangedCurrency property and the other for the ExchangedAmount property, both from our MainViewModel).</p>

<p>Using the current MainPage.xaml, start by adding a reference to the Silverlight for Windows Phone Toolkit, like so:</p>

<p><b>XAML
    <br /></b>

  <pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">phone:PhoneApplicationPage</span>
<span class="attr">xmlns:toolkit</span><span class="kwrd">=&quot;clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone.Controls.Toolkit&quot;</span>
&amp;<span class="attr">lt</span>;!<span class="attr">--remaining</span> <span class="attr">code</span>... <span class="attr">--</span><span class="kwrd">&gt;</span></pre>
</p>

<p>Then, I’ll change the default ContentPanel control from a Grid to a StackPanel, and add the required controls to edit the Currencies and the entry Value:</p>

<p><b>XAML
    <br /></b>

  <pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">StackPanel</span> <span class="attr">x:Name</span><span class="kwrd">=&quot;ContentPanel&quot;</span> <span class="attr">Grid</span>.<span class="attr">Row</span><span class="kwrd">=&quot;1&quot;</span> <span class="attr">Margin</span><span class="kwrd">=&quot;12,0&quot;</span><span class="kwrd">&gt;</span>
   <span class="kwrd">&lt;</span><span class="html">TextBlock</span> 
      <span class="attr">Margin</span><span class="kwrd">=&quot;12,0,0,-5&quot;</span> 
      <span class="attr">Style</span><span class="kwrd">=&quot;{StaticResource PhoneTextSubtleStyle}&quot;</span><span class="kwrd">&gt;</span>
      Amount
   <span class="kwrd">&lt;/</span><span class="html">TextBlock</span><span class="kwrd">&gt;</span>
   <span class="kwrd">&lt;</span><span class="html">TextBox</span> 
      <span class="attr">InputScope</span><span class="kwrd">=&quot;TelephoneNumber&quot;</span> 
      <span class="attr">Text</span><span class="kwrd">=&quot;{Binding Amount, Mode=TwoWay, ValidatesOnExceptions=True, NotifyOnValidationError=True}&quot;</span> <span class="kwrd">/&gt;</span>
   <span class="kwrd">&lt;</span><span class="html">TextBlock</span> 
      <span class="attr">Margin</span><span class="kwrd">=&quot;12,10,0,-5&quot;</span> 
      <span class="attr">Style</span><span class="kwrd">=&quot;{StaticResource PhoneTextSubtleStyle}&quot;</span><span class="kwrd">&gt;</span>
         From
   <span class="kwrd">&lt;/</span><span class="html">TextBlock</span><span class="kwrd">&gt;</span>
   <span class="kwrd">&lt;</span><span class="html">toolkit:ListPicker</span> 
      <span class="attr">ItemsSource</span><span class="kwrd">=&quot;{Binding Currencies}&quot;</span> 
      <span class="attr">SelectedItem</span><span class="kwrd">=&quot;{Binding FromCurrency, Mode=TwoWay}&quot;</span> 
      <span class="attr">FullModeHeader</span><span class="kwrd">=&quot;FROM CURRENCY&quot;</span> 
      <span class="attr">Style</span><span class="kwrd">=&quot;{StaticResource CurrencyListPicker}&quot;</span> <span class="kwrd">/&gt;</span>
   <span class="kwrd">&lt;</span><span class="html">TextBlock</span> 
      <span class="attr">Margin</span><span class="kwrd">=&quot;12,10,0,-5&quot;</span> 
      <span class="attr">Style</span><span class="kwrd">=&quot;{StaticResource PhoneTextSubtleStyle}&quot;</span><span class="kwrd">&gt;</span>
      To
   <span class="kwrd">&lt;/</span><span class="html">TextBlock</span><span class="kwrd">&gt;</span>
   <span class="kwrd">&lt;</span><span class="html">toolkit:ListPicker</span> 
      <span class="attr">ItemsSource</span><span class="kwrd">=&quot;{Binding Currencies}&quot;</span> 
      <span class="attr">SelectedItem</span><span class="kwrd">=&quot;{Binding ToCurrency, Mode=TwoWay}&quot;</span> 
      <span class="attr">FullModeHeader</span><span class="kwrd">=&quot;TO CURRENCY&quot;</span> 
      <span class="attr">Style</span><span class="kwrd">=&quot;{StaticResource CurrencyListPicker}&quot;</span> <span class="kwrd">/&gt;</span>
   <span class="kwrd">&lt;</span><span class="html">StackPanel</span><span class="kwrd">&gt;</span>
      <span class="kwrd">&lt;</span><span class="html">TextBlock</span> 
         <span class="attr">Style</span><span class="kwrd">=&quot;{StaticResource PhoneTextGroupHeaderStyle}&quot;</span> 
         <span class="attr">Text</span><span class="kwrd">=&quot;{Binding ExchangedCurrency}&quot;</span> <span class="kwrd">/&gt;</span>
      <span class="kwrd">&lt;</span><span class="html">TextBlock</span> 
         <span class="attr">Margin</span><span class="kwrd">=&quot;25, 0, 0, 0&quot;</span> 
         <span class="attr">Style</span><span class="kwrd">=&quot;{StaticResource PhoneTextTitle1Style}&quot;</span> 
         <span class="attr">Text</span><span class="kwrd">=&quot;{Binding ExchangedAmount}&quot;</span> <span class="kwrd">/&gt;</span>
   <span class="kwrd">&lt;/</span><span class="html">StackPanel</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">StackPanel</span><span class="kwrd">&gt;</span></pre>
</p>

<p>Here’s how it looks right now:</p>

<p><a href="http://ecn.channel9.msdn.com/c4fcontent/images/5e47fc4afcfc_EF39/image_8.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/5e47fc4afcfc_EF39/image_thumb_8.png" width="287" height="292" /></a></p>

<p>Notice the CurrencyListPicker style applied to the two ListPicker controls on the code above? Here it is:</p>

<p><b>XAML
    <br /></b>

  <pre class="csharpcode">&lt;phone:PhoneApplicationPage.Resources&gt;
   &lt;Style x:Key=<span class="str">&quot;CurrencyListPicker&quot;</span> TargetType=<span class="str">&quot;toolkit:ListPicker&quot;</span>&gt;
      &lt;Setter 
         Property=<span class="str">&quot;DisplayMemberPath&quot;</span> 
         Value=<span class="str">&quot;Name&quot;</span> /&gt;
      &lt;Setter 
         Property=<span class="str">&quot;CacheMode&quot;</span> 
         Value=<span class="str">&quot;BitmapCache&quot;</span> /&gt;
      &lt;Setter Property=<span class="str">&quot;FullModeItemTemplate&quot;</span>&gt;
         &lt;Setter.Value&gt;
            &lt;DataTemplate&gt;
               &lt;StackPanel 
                     Orientation=<span class="str">&quot;Horizontal&quot;</span> 
                     Margin=<span class="str">&quot;16 21 0 20&quot;</span>&gt;
                  &lt;TextBlock 
                     Text=<span class="str">&quot;{Binding Name}&quot;</span> 
                     FontSize=<span class="str">&quot;43&quot;</span> 
                     FontFamily=<span class="str">&quot;{StaticResource PhoneFontFamilyLight}&quot;</span>/&gt;
               &lt;/StackPanel&gt;
            &lt;/DataTemplate&gt;
         &lt;/Setter.Value&gt;
      &lt;/Setter&gt;
   &lt;/Style&gt;
&lt;/phone:PhoneApplicationPage.Resources&gt;</pre>
</p>

<p>This style sets the initial values of three properties on the ListPickers: the DisplayMemberPath (it will be binded to the ICurrency.Name property), the CacheMode (for optimization only), and, most importantly, the FullModeItemTemplate, which indicates how to show each item when the ListPicker window pops up.</p>

<p>The next step will be adding the “Exchange” button to the bottom ApplicationBar, like so:</p>

<p><b>XAML
    <br /></b>

  <pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">phone:PhoneApplicationPage.ApplicationBar</span><span class="kwrd">&gt;</span>
   <span class="kwrd">&lt;</span><span class="html">shell:ApplicationBar</span> 
      <span class="attr">IsVisible</span><span class="kwrd">=&quot;True&quot;</span> 
      <span class="attr">IsMenuEnabled</span><span class="kwrd">=&quot;False&quot;</span><span class="kwrd">&gt;</span>
      <span class="kwrd">&lt;</span><span class="html">shell:ApplicationBarIconButton</span> 
         <span class="attr">IconUri</span><span class="kwrd">=&quot;/Images/appbar.money.usd.png&quot;</span> 
         <span class="attr">Text</span><span class="kwrd">=&quot;Exchange&quot;</span> 
         <span class="attr">Click</span><span class="kwrd">=&quot;ExchangeIconButton_Click&quot;</span> <span class="kwrd">/&gt;</span>
   <span class="kwrd">&lt;/</span><span class="html">shell:ApplicationBar</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">phone:PhoneApplicationPage.ApplicationBar</span><span class="kwrd">&gt;</span> </pre>
</p>

<p>Remember to create an Images folder in your project and copy the required “appbar.money.usd.png” image to it (you can find this and other ApplicationBar icons in your “%ProgramFiles%\Microsoft SDKs\Windows Phone\v7.0\Icons\dark”); then, set its “Build” and “Copy to Output Directory” properties to “Content” and “Copy always”, respectively.</p>

<p>On the MainPage.xaml.cs, we’ll add the ExchangeIconButton_Click() method:</p>

<p><b>C#
    <br /></b>

  <pre class="csharpcode"><span class="kwrd">private</span> <span class="kwrd">void</span> ExchangeIconButton_Click(<span class="kwrd">object</span> sender, EventArgs e)
{
   var viewModel = DataContext <span class="kwrd">as</span> MainViewModel;

   <span class="kwrd">if</span> (viewModel == <span class="kwrd">null</span>)
      <span class="kwrd">return</span>;

   Focus();

   Dispatcher.BeginInvoke(() =&gt;
   {
      <span class="kwrd">if</span> (!NetworkInterface.GetIsNetworkAvailable())
      {
         MessageBox.Show(
            <span class="str">&quot;No network connection found!&quot;</span>, 
            <span class="str">&quot;Error&quot;</span>, 
            MessageBoxButton.OK);
         <span class="kwrd">return</span>;
      }

      viewModel.ExchangeCurrency();
   });
}</pre>
</p>

<p>This method will check for a valid MainViewModel set on the DataContext, remove the Focus from any TextBox (thus hiding the on-screen keyboard), check if there is a valid network connection, and then call the MainViewModel.ExchangeCurrency() method.</p>

<h2>Tombstoning</h2>

<p>The final piece to developing this into the perfect Windows Phone 7 application is making it “Tombstoning” aware!</p>

<p>Since WP7 doesn’t allow multitasking, every time an application is deactivated or closed you should save its state and then restore it when the application is reactivated or reopened; this process is called “Tombstoning.”</p>

<p>To do this, we use the System.Runtime.Serialization classes, namely, the DataMemberAttribute to mark all the properties of the MainViewModel we want to save (FromCurrency, ToCurrency, and Amount), and the IgnoreDataMemberAttribute to mark the ones we don’t (CurrencyExchangeService, Currencies, Result, ExchangedCurrency, and ExchangedAmount).</p>

<p>We can’t (or at least, shouldn’t!) directly save the state of the FromCurrency and ToCurrency properties because they have complex values (rather than a base type like Int or String), so we mark these with the IgnoreDataMemberAttribute and add two new properties, one for each, that will get/set the relative index of the Currencies array:</p>

<p><b>C#
    <br /></b>

  <pre class="csharpcode">[DataMember]
<span class="kwrd">public</span> <span class="kwrd">int</span> FromCurrencyIndex
{
    get
    {
        <span class="kwrd">return</span> Array.IndexOf(Currencies, FromCurrency);
    }
    set
    {
        FromCurrency = Currencies[<span class="kwrd">value</span>];
    }
}

[DataMember]
<span class="kwrd">public</span> <span class="kwrd">int</span> ToCurrencyIndex
{
    get
    {
        <span class="kwrd">return</span> Array.IndexOf(Currencies, ToCurrency);
    }
    set
    {
        ToCurrency = Currencies[<span class="kwrd">value</span>];
    }
}</pre>
</p>



<p>Now add the methods to Load and Save the state of the MainViewModel instance; since the Save method has to be called on the App.xaml.cs Application_Deactivated() and Application_Closing() events, the best way is to make our View Model a singleton. To do this, add the following code to the MainViewModel class:</p>

<p><b>C#
    <br /></b>

  <pre class="csharpcode">[IgnoreDataMember]
<span class="kwrd">private</span> <span class="kwrd">const</span> <span class="kwrd">string</span> SettingFileName = <span class="str">&quot;mainviewmodel.dat&quot;</span>;

<span class="kwrd">public</span> <span class="kwrd">static</span> MainViewModel Instance { get; <span class="kwrd">protected</span> set; }

<span class="kwrd">static</span> MainViewModel()
{
    Instance = Load();
}

<span class="kwrd">public</span> <span class="kwrd">static</span> MainViewModel Load()
{
    <span class="kwrd">return</span> StorageHelper.LoadContract&lt;MainViewModel&gt;(SettingFileName, <span class="kwrd">true</span>);
}

<span class="kwrd">public</span> <span class="kwrd">void</span> Save()
{
    StorageHelper.SaveContract(SettingFileName, <span class="kwrd">this</span>, <span class="kwrd">true</span>);
}</pre>
</p>

<p>The StorageHelper class you see here is just a helper used to serialize and deserialize a file on the application’s IsolatedStorage.</p>

<p>Now all we have to do is change the MainPage.xaml.cs constructor so it uses the singleton instead of creating a new MainViewModel instance:</p>

<p><b>C#
    <br /></b>

  <pre class="csharpcode"><span class="kwrd">public</span> MainPage()
{
    InitializeComponent();

    <span class="kwrd">this</span>.DataContext = MainViewModel.Instance;
}</pre>
</p>

<p>Finally, invoke the Save method on the two required events of the App.xaml.cs file:</p>

<p><b>C#
    <br /></b>

  <pre class="csharpcode"><span class="kwrd">private</span> <span class="kwrd">void</span> Application_Deactivated(<span class="kwrd">object</span> sender, DeactivatedEventArgs e)
{
    MainViewModel.Instance.Save();
}

<span class="kwrd">private</span> <span class="kwrd">void</span> Application_Closing(<span class="kwrd">object</span> sender, ClosingEventArgs e)
{
    MainViewModel.Instance.Save();
}</pre>
</p>

<p>And that is it! To test the application, open it, press the windows key so that the Windows Phone main screen appears, wait a couple of seconds, and press the back key to return to the application: you will see a “resuming” message appear when the application state restores!</p>

<p>The application can now be Tombstoned anytime, and when it gets opened again, it will appear as if it never closed!</p>

<h2>Conclusion</h2>

<p>As you see here, you can build simple applications for Windows Phone 7 by using basic MVVM architecture, and still have time to go out and have a coffee with your friends!</p>

<p>Remember: If you want to try this out, the download link for the source code is at the top of the article!</p>

<p>The sample code uses the BingCurrencyExchangeService, but it also has a second provider for MSN Money, the MsnMoneyCurrencyExchangeService, which you can check out!</p>

<h2>About The Author</h2>

<p>Pedro Lamas is a Portuguese .Net Senior Developer on Microsoft’s Partner DevScope, where he works with all the cool stuff that Microsoft .Net has to offer its developers!</p>

<p>He’s also one of the administrators of PocketPT.net, the largest Windows Phone Portuguese community, where his contribution is mostly visible on support for Windows Phone developers, and as a speaker for Windows Phone Development in Microsoft Portugal Events.</p>

<p>You can read his <a href="http://www.pedrolamas.com">blog</a> or contact him via <a href="http://twitter.com/pedrolamas">twitter</a>!</p><div style="clear:both;"></div></div>
					        
        				
			        </div>
			        <div class="abbreviated-post-footer"></div>
		        </li>
	        
		        <li class="content-item">
			        <div class="abbreviated-post-header"></div>
			        <div class="abbreviated-post">
			            <div class="post-application">
		                        <span class="label"></span>
		                        <span class="value"><a class="internal-link view-application" href="/b/coding4fun/"><span></span>Coding4Fun</a></span>
			                </div>
				        <h4 class="post-name"><a class="internal-link view-post" href="/b/coding4fun/archive/2010/11/12/10090364.aspx"><span></span>Windows Phone 7 development for absolute beginners</a></h4>
				        
            <div class="post-date">
		        <span class="label">Posted</span>
		        <span class="value">Fri, Nov 12 2010</span>
	        </div>
                        <div class="post-author">
                            <span class="fiji-post-author-by">by</span>
                            <span class="avatar"><a href="/members/Coding4Fun/"><img src="/resized-image.ashx/__size/32x32/__key/CommunityServer-Components-Avatars/00-00-00-45-39/4TFY486PD44T.png" alt="" style="border-width:0px;" /></a></span>
                            
                            <span class="user-name"><a class="internal-link view-user-profile" href="/members/Coding4Fun/"><span></span>Coding4Fun</a></span>
                            
                        </div>
				        
	                    <div class="post-attributes">
		                        <div class="attribute-list-header"></div>
                                <ul class="attribute-list">
                                    <li class="attribute-item post-reply-count">
                                        <span class="attribute-value">1</span>
                                        <span class="attribute-name">Comments</span>
                                    </li>
                                </ul>
                                <div class="attribute-list-footer"></div>
                            </div>
        				
				        
                                <div class="post-content user-defined-markup"><p><a href="http://ecn.channel9.msdn.com/c4fcontent/images/61e9e2ac3670_B020/WP7_960.png"><img style="background-image: none; border-right-width: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="WP7_960" border="0" alt="WP7_960" src="http://ecn.channel9.msdn.com/c4fcontent/images/61e9e2ac3670_B020/WP7_960_thumb.png" width="550" height="142" /></a></p>  <p>We have just launched an all new series over on Channel9 that teaches beginning developers with little programming experience how to develop applications for Windows Phone 7.&#160; This series assumes that they have absolutely no knowledge of C#, Silverlight, or mobile development.&#160; In just a few hours, they will understand the needed concepts to build applications.</p>  <p><a href="http://r.ch9.ms/BeginnerWP7">Head over to get started!</a></p><div style="clear:both;"></div></div>
					        
        				
			        </div>
			        <div class="abbreviated-post-footer"></div>
		        </li>
	        
		        <li class="content-item">
			        <div class="abbreviated-post-header"></div>
			        <div class="abbreviated-post">
			            <div class="post-application">
		                        <span class="label"></span>
		                        <span class="value"><a class="internal-link view-application" href="/b/coding4fun/"><span></span>Coding4Fun</a></span>
			                </div>
				        <h4 class="post-name"><a class="internal-link view-post" href="/b/coding4fun/archive/2010/11/05/10087029.aspx"><span></span>6 Coding4Fun Windows Phone 7 applications released!</a></h4>
				        
            <div class="post-date">
		        <span class="label">Posted</span>
		        <span class="value">Fri, Nov 5 2010</span>
	        </div>
                        <div class="post-author">
                            <span class="fiji-post-author-by">by</span>
                            <span class="avatar"><a href="/members/Coding4Fun/"><img src="/resized-image.ashx/__size/32x32/__key/CommunityServer-Components-Avatars/00-00-00-45-39/4TFY486PD44T.png" alt="" style="border-width:0px;" /></a></span>
                            
                            <span class="user-name"><a class="internal-link view-user-profile" href="/members/Coding4Fun/"><span></span>Coding4Fun</a></span>
                            
                        </div>
				        
	                    <div class="post-attributes">
		                        <div class="attribute-list-header"></div>
                                <ul class="attribute-list">
                                    <li class="attribute-item post-reply-count">
                                        <span class="attribute-value">4</span>
                                        <span class="attribute-name">Comments</span>
                                    </li>
                                </ul>
                                <div class="attribute-list-footer"></div>
                            </div>
        				
				        
                                <div class="post-content user-defined-markup"><p align="center"><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PDC-2010-and_1218F/99x99.png"><img style="background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="99x99" border="0" alt="99x99" src="http://ecn.channel9.msdn.com/c4fcontent/images/PDC-2010-and_1218F/99x99_thumb.png" width="99" height="99" /></a><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PDC-2010-and_1218F/99x99_3.png"><img style="background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="99x99" border="0" alt="99x99" src="http://ecn.channel9.msdn.com/c4fcontent/images/PDC-2010-and_1218F/99x99_thumb_3.png" width="99" height="99" /></a><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PDC-2010-and_1218F/99x99_4.png"><img style="background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="99x99" border="0" alt="99x99" src="http://ecn.channel9.msdn.com/c4fcontent/images/PDC-2010-and_1218F/99x99_thumb_4.png" width="99" height="99" /></a>&#160; <br /><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PDC-2010-and_1218F/99x99_icon.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="99x99_icon" border="0" alt="99x99_icon" src="http://ecn.channel9.msdn.com/c4fcontent/images/PDC-2010-and_1218F/99x99_icon_thumb.png" width="99" height="99" /></a><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PDC-2010-and_1218F/99x99_icon_3.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="99x99_icon" border="0" alt="99x99_icon" src="http://ecn.channel9.msdn.com/c4fcontent/images/PDC-2010-and_1218F/99x99_icon_thumb_3.png" width="99" height="99" /></a><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PDC-2010-and_1218F/99x99_6.png"><img style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="99x99" border="0" alt="99x99" src="http://ecn.channel9.msdn.com/c4fcontent/images/PDC-2010-and_1218F/99x99_thumb_6.png" width="99" height="99" /></a></p>  <p>What has Coding4Fun been up to for the past few weeks?&#160; We’ve been creating a bunch of neat, free, open source applications for Windows Phone 7!&#160; hey range from simple to complex and each shows off how to do an interesting concept with the phone.</p>  <p>Our current released applications are:</p>  <ol>   <li><strong>Fake Call</strong> by Clint Rutkas </li>    <li><strong>PicFx </strong>by Rene Schulte </li>    <li><strong>Where’s my car </strong>by Arian Kulp </li>    <li><strong>Currency Converter </strong>by Pedro Lamas </li>    <li><strong>Dice Shaker </strong>by Mark Jourdan </li>    <li><strong>How much is this meeting costing us? </strong>by Clint Rutkas </li> </ol>  <p>All will have their source code released, most will have an article associated.</p>  <p>What is even cooler is this is just the tip of iceberg!&#160; We have even more applications being developed by Dan Fernandez, Brian Peek, and others as well!</p><div style="clear:both;"></div></div>
					        
        				
			        </div>
			        <div class="abbreviated-post-footer"></div>
		        </li>
	        
		        <li class="content-item">
			        <div class="abbreviated-post-header"></div>
			        <div class="abbreviated-post">
			            <div class="post-application">
		                        <span class="label"></span>
		                        <span class="value"><a class="internal-link view-application" href="/b/coding4fun/"><span></span>Coding4Fun</a></span>
			                </div>
				        <h4 class="post-name"><a class="internal-link view-post" href="/b/coding4fun/archive/2010/10/19/10077086.aspx"><span></span>PicFx – Windows Phone Picture Effects Application – Part 2</a></h4>
				        
            <div class="post-date">
		        <span class="label">Posted</span>
		        <span class="value">Tue, Oct 19 2010</span>
	        </div>
                        <div class="post-author">
                            <span class="fiji-post-author-by">by</span>
                            <span class="avatar"><a href="/members/Coding4Fun/"><img src="/resized-image.ashx/__size/32x32/__key/CommunityServer-Components-Avatars/00-00-00-45-39/4TFY486PD44T.png" alt="" style="border-width:0px;" /></a></span>
                            
                            <span class="user-name"><a class="internal-link view-user-profile" href="/members/Coding4Fun/"><span></span>Coding4Fun</a></span>
                            
                        </div>
				        
	                    <div class="post-attributes">
		                        <div class="attribute-list-header"></div>
                                <ul class="attribute-list">
                                    <li class="attribute-item post-reply-count">
                                        <span class="attribute-value">0</span>
                                        <span class="attribute-name">Comments</span>
                                    </li>
                                </ul>
                                <div class="attribute-list-footer"></div>
                            </div>
        				
				        
                                <div class="post-content user-defined-markup"><p>This article series explains how to write a Windows Phone 7 photo effects application.    <table border="0" cellspacing="0" cellpadding="0"><tbody>       <tr>         <td valign="top" width="187">           <p>René Schulte              <br />Microsoft Silverlight MVP</p>            <p><a href="http://blog.rene-schulte.info">http://blog.rene-schulte.info</a></p>            <p><a href="http://rene-schulte.info">http://rene-schulte.info</a></p>            <p><a href="http://flavors.me/rschu">http://flavors.me/rschu</a></p>         </td>          <td valign="top" width="452">           <p><b>Code It:</b> <a href="http://picfx.codeplex.com">Download the source code at CodePlex</a>               <br /><b>Watch It:</b> <a href="http://vimeo.com/13587494">Watch the application in action</a></p>            <p><b>Difficulty:</b> Intermediate               <br /><b>Time Required:</b> 6 hours               <br /><b>Cost:</b> FREE, as in free beer!</p>            <p><b>Software Needed:</b> <a href="http://developer.windowsphone.com/windows-phone-7/">Windows Phone developer tools</a></p>            <p><b>Hardware:</b> Computer</p>         </td>       </tr>     </tbody></table> </p>  <h2>Introduction</h2>  <p>The <a href="http://blogs.msdn.com/b/coding4fun/archive/2010/08/09/10048007.aspx">first part</a> of this short series showed how to create the base Windows Phone application and how to implement a Black &amp; White and Sepia effect. The basic Windows Phone picture manipulation workflow was explained, and I showed how to load, resize, take, and save an image. The User Interface with the Pivot control template was introduced and some important Windows Phone development key points were also discussed. We also learned how to implement the Black &amp; White and the Sepia effect with the reusable Tint and Contrast &amp; Brightness modification effects.</p>  <p>In this second, final part of the series, we will learn how to make the application more responsive by offloading the image processing computation to a background thread. Furthermore, how to implement a nice vintage Polaroid-like and a miniature faking (tilt shift) effect will be demonstrated, along with how to brand the finished image with a custom logo.</p>  <h2>The App in Action</h2>  <p>The video below introduces the complete PicFx application features and demonstrates how to use them. It was recorded with the application running in the emulator.</p>  <div align="center">   <div style="padding-bottom: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: none; padding-top: 0px" id="scid:5737277B-5D6D-4f48-ABFC-DD9C333F4C5D:53b060cc-d9d8-4313-a74a-f96c42cc686b" class="wlWriterEditableSmartContent"><div><object width="368" height="680"><param name="allowfullscreen" value="true" /><param name="allowscriptaccess" value="always" /><param name="movie" value="http://vimeo.com/moogaloop.swf?clip_id=13599999&amp;server=vimeo.com&amp;show_title=1&amp;show_byline=1&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" /><embed src="http://vimeo.com/moogaloop.swf?clip_id=13599999&amp;server=vimeo.com&amp;show_title=1&amp;show_byline=1&amp;show_portrait=0&amp;color=00adef&amp;fullscreen=1&amp;autoplay=0&amp;loop=0" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="368" height="680"></embed></object></div></div> </div>  <p align="center">Background music is “<a href="http://softphase.org/netlabel/releases/sfp12">A Silent Goodbye</a>” by NCThompson</p>  <h2>How it works</h2>  <p>In the <a href="http://blogs.msdn.com/b/coding4fun/archive/2010/08/09/10048007.aspx">last article</a>, we drilled down from the UI Crust with the Pivot control template and the Windows Phone Application Bar through the UI Mantle with the UI functionality until we finally reached the Effects Core with the image processing algorithms. </p>  <p><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image.png"><img style="background-image: none; border-right-width: 0px; margin: ; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_thumb.png" width="220" height="234" /></a></p>  <h2>The User Interface</h2>  <p>As in the first part, we again start our journey on the surface of the application.</p>  <p><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_3.png"><img style="background-image: none; border-right-width: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_thumb_3.png" width="221" height="234" /></a></p>  <p>Some things have changed on the surface of the app—it still uses the Windows Phone <a href="http://msdn.microsoft.com/en-us/library/microsoft.phone.shell.applicationbar(VS.92).aspx%5e">Application Bar</a>, but the <a href="http://phone.codeplex.com">open source Pivot control implementation from CodePlex</a> was replaced by the <a href="http://developer.windowsphone.com/windows-phone-7/">official control</a> from Microsoft. The WrapPanel from the official <a href="http://silverlight.codeplex.com/">Silverlight for Windows Phone Toolkit</a> is now also used. As you can see in Figure 1, thumbnails of the two new effects are shown on the second Pivot page.</p>  <p align="center"><a name="_Ref267513928"></a><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_4.png"><img style="background-image: none; border-right-width: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_thumb_5.png" width="509" height="529" /></a><a name="_Ref267513952"><font color="#000000"><strong>Figure </strong></font></a><font color="#000000"><strong>1: The Pivot layout of the extented PicFx application</strong></font></p>  <p>The current MainPage.xaml:<b></b></p>  <p><b>XAML      <br /></b></p>  <pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">phoneCtrls:Pivot</span> <span class="attr">Name</span><span class="kwrd">=&quot;PivotCtrl&quot;</span> <span class="attr">Title</span><span class="kwrd">=&quot;PicFx&quot;</span> <span class="kwrd">&gt;</span>

   <span class="kwrd">&lt;</span><span class="html">phoneCtrls:PivotItem</span> <span class="attr">Name</span><span class="kwrd">=&quot;PivotItemPic&quot;</span> <span class="attr">Header</span><span class="kwrd">=&quot;Pic&quot;</span> <span class="kwrd">&gt;</span>
      <span class="kwrd">&lt;</span><span class="html">Grid</span> <span class="attr">Height</span><span class="kwrd">=&quot;510&quot;</span> <span class="attr">VerticalAlignment</span><span class="kwrd">=&quot;Top&quot;</span> <span class="kwrd">&gt;</span>
         <span class="kwrd">&lt;</span><span class="html">Image</span> <span class="attr">Name</span><span class="kwrd">=&quot;Viewport&quot;</span> <span class="attr">Stretch</span><span class="kwrd">=&quot;Uniform&quot;</span> <span class="kwrd">/&gt;</span>
         <span class="kwrd">&lt;</span><span class="html">ProgressBar</span> <span class="attr">Name</span><span class="kwrd">=&quot;ProgessBar&quot;</span> 
             <span class="attr">IsIndeterminate</span><span class="kwrd">=&quot;True&quot;</span> 
             <span class="attr">Height</span><span class="kwrd">=&quot;20&quot;</span> <span class="attr">Width</span><span class="kwrd">=&quot;200&quot;</span> 
                     <span class="attr">Visibility</span><span class="kwrd">=&quot;Collapsed&quot;</span> 
                     <span class="attr">HorizontalAlignment</span><span class="kwrd">=&quot;Center&quot;</span> 
                     <span class="attr">VerticalAlignment</span><span class="kwrd">=&quot;Center&quot;</span> 
                     <span class="kwrd">/&gt;</span>
      <span class="kwrd">&lt;/</span><span class="html">Grid</span><span class="kwrd">&gt;</span>
   <span class="kwrd">&lt;/</span><span class="html">phoneCtrls:PivotItem</span><span class="kwrd">&gt;</span>

   <span class="kwrd">&lt;</span><span class="html">phoneCtrls:PivotItem</span>  <span class="attr">Name</span><span class="kwrd">=&quot;PivotItemFx&quot;</span> <span class="attr">Header</span><span class="kwrd">=&quot;Effects&quot;</span> <span class="kwrd">&gt;</span>
      <span class="kwrd">&lt;</span><span class="html">phoneCtrls:PivotItem.Resources</span><span class="kwrd">&gt;</span>
         <span class="kwrd">&lt;</span><span class="html">vm:EffectItems</span> <span class="attr">x:Key</span><span class="kwrd">=&quot;effects&quot;</span><span class="kwrd">/&gt;</span>
      <span class="kwrd">&lt;/</span><span class="html">phoneCtrls:PivotItem.Resources</span><span class="kwrd">&gt;</span>
      <span class="kwrd">&lt;</span><span class="html">ListBox</span> <span class="attr">Name</span><span class="kwrd">=&quot;ListBoxEffects&quot;</span> <span class="attr">SelectionMode</span><span class="kwrd">=&quot;Single&quot;</span> 
                              <span class="attr">ItemsSource</span><span class="kwrd">=&quot;{StaticResource effects}&quot;</span> 
                              <span class="attr">SelectionChanged</span><span class="kwrd">=&quot;ListBox_SelectionChanged&quot;</span> <span class="kwrd">&gt;</span>
         <span class="kwrd">&lt;</span><span class="html">ListBox.ItemsPanel</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">ItemsPanelTemplate</span><span class="kwrd">&gt;</span>
               <span class="kwrd">&lt;</span><span class="html">controlsToolkit:WrapPanel</span> <span class="attr">Width</span><span class="kwrd">=&quot;480&quot;</span> <span class="kwrd">/&gt;</span>
            <span class="kwrd">&lt;/</span><span class="html">ItemsPanelTemplate</span><span class="kwrd">&gt;</span>
         <span class="kwrd">&lt;/</span><span class="html">ListBox.ItemsPanel</span><span class="kwrd">&gt;</span>
         <span class="kwrd">&lt;</span><span class="html">ListBox.ItemTemplate</span><span class="kwrd">&gt;</span>
           <span class="kwrd">&lt;</span><span class="html">DataTemplate</span><span class="kwrd">&gt;</span>
              <span class="kwrd">&lt;</span><span class="html">StackPanel</span> <span class="attr">Orientation</span><span class="kwrd">=&quot;Vertical&quot;</span> <span class="attr">Margin</span><span class="kwrd">=&quot;14&quot;</span> <span class="kwrd">&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">Image</span> <span class="attr">Source</span><span class="kwrd">=&quot;{Binding Thumbnail}&quot;</span> <span class="attr">Width</span><span class="kwrd">=&quot;128&quot;</span> <span class="attr">Height</span><span class="kwrd">=&quot;128&quot;</span> <span class="kwrd">/&gt;</span>
                <span class="kwrd">&lt;</span><span class="html">TextBlock</span> <span class="attr">Text</span><span class="kwrd">=&quot;{Binding Name}&quot;</span> 
                          <span class="attr">FontSize</span><span class="kwrd">=&quot;{StaticResource PhoneFontSizeNormal}&quot;</span> 
                          <span class="attr">VerticalAlignment</span><span class="kwrd">=&quot;Center&quot;</span> 
                           <span class="attr">HorizontalAlignment</span><span class="kwrd">=&quot;Center&quot;</span> <span class="kwrd">/&gt;</span>
               <span class="kwrd">&lt;/</span><span class="html">StackPanel</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;/</span><span class="html">DataTemplate</span><span class="kwrd">&gt;</span>
         <span class="kwrd">&lt;/</span><span class="html">ListBox.ItemTemplate</span><span class="kwrd">&gt;</span>
      <span class="kwrd">&lt;/</span><span class="html">ListBox</span><span class="kwrd">&gt;</span>
   <span class="kwrd">&lt;/</span><span class="html">phoneCtrls:PivotItem</span><span class="kwrd">&gt;</span>
         
<span class="kwrd">&lt;/</span><span class="html">phoneCtrls:PivotControl</span><span class="kwrd">&gt;</span></pre>


<p>An <a href="http://msdn.microsoft.com/en-us/library/system.windows.controls.progressbar.isindeterminate(v=VS.95).aspx">Indeterminate</a> <a href="http://msdn.microsoft.com/en-us/library/system.windows.controls.progressbar(VS.95).aspx">ProgressBar</a> was added to the first Pivot item overlaying the <a href="http://msdn.microsoft.com/en-us/library/system.windows.controls.image(VS.95).aspx">Image</a>, which shows the selected picture. The ProgressBar is hidden by default and only made visible when the picture with the full resolution is processed and saved.</p>

<p>The <a href="http://msdn.microsoft.com/en-us/library/system.windows.controls.listbox(VS.95).aspx">ListBox</a> with the thumbnails of the effects (see Figure 1) is still data-bound to the StaticResource “effects,” an instance of the EffectItems class that consists of EffectItem elements:</p>

<p><b>C# 
    <br /></b></p>

<pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">class</span> EffectItems : ObservableCollection&lt;EffectItem&gt;
{
   <span class="kwrd">public</span> EffectItems()
   {
      Add(
            <span class="kwrd">new</span> EffectItem(<span class="kwrd">new</span> BlackWhiteEffect(), 
               <span class="str">&quot;data/icons/BlackWhite.png&quot;</span>));
      Add(
         <span class="kwrd">new</span> EffectItem(<span class="kwrd">new</span> SepiaEffect(), 
            <span class="str">&quot;data/icons/Sepia.png&quot;</span>));
      Add(
         <span class="kwrd">new</span> EffectItem(<span class="kwrd">new</span> TiltShiftEffect(), 
            <span class="str">&quot;data/icons/TiltShift.png&quot;</span>));
      Add(
         <span class="kwrd">new</span> EffectItem(<span class="kwrd">new</span> PolaroidEffect(), 
            <span class="str">&quot;data/icons/PolaYellow.png&quot;</span>, <span class="str">&quot;Pola&quot;</span>));
   }
}</pre>

<p>The two new EffectItems are added and the vintage Polaroid-like effect gets a custom display name—“Pola”—to avoid a mix-up with the original <a href="http://en.wikipedia.org/wiki/Polaroid_Corporation">Polaroid brand</a>.</p>

<p>I also added Clint Rutkas’ Coding4Fun About control as an Application Bar menu item. This control is a typical about page which provides some information about the app and Coding4Fun.</p>

<p><b>XAML 
    <br /></b></p>

<pre class="csharpcode"><span class="kwrd">&lt;</span><span class="html">phone:PhoneApplicationPage.ApplicationBar</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;</span><span class="html">shell:ApplicationBar</span> <span class="attr">IsVisible</span><span class="kwrd">=&quot;True&quot;</span><span class="kwrd">&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">shell:ApplicationBarIconButton</span> 
            <span class="attr">Text</span><span class="kwrd">=&quot;Choose&quot;</span> 
            <span class="attr">IconUri</span><span class="kwrd">=&quot;/data/appbar/appbar.folder.rest.png&quot;</span> 
            <span class="attr">Click</span><span class="kwrd">=&quot;ApplicationBarIconFolderButton_Click&quot;</span><span class="kwrd">/&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">shell:ApplicationBarIconButton</span> 
            <span class="attr">Text</span><span class="kwrd">=&quot;Take&quot;</span> 
            <span class="attr">IconUri</span><span class="kwrd">=&quot;/data/appbar/appbar.feature.camera.rest.png&quot;</span> 
            <span class="attr">Click</span><span class="kwrd">=&quot;ApplicationBarIconCameraButton_Click&quot;</span><span class="kwrd">/&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">shell:ApplicationBarIconButton</span> 
            <span class="attr">Text</span><span class="kwrd">=&quot;Save&quot;</span> 
            <span class="attr">IconUri</span><span class="kwrd">=&quot;/data/appbar/appbar.save.rest.png&quot;</span> 
            <span class="attr">Click</span><span class="kwrd">=&quot;ApplicationBarIconSaveButton_Click&quot;</span><span class="kwrd">/&gt;</span>
        <span class="kwrd">&lt;</span><span class="html">shell:ApplicationBar.MenuItems</span><span class="kwrd">&gt;</span>
            <span class="kwrd">&lt;</span><span class="html">shell:ApplicationBarMenuItem</span> 
               <span class="attr">Text</span><span class="kwrd">=&quot;About&quot;</span> 
               <span class="attr">Click</span><span class="kwrd">=&quot;ApplicationBarMenuItemAbout_Click&quot;</span> <span class="kwrd">/&gt;</span>
        <span class="kwrd">&lt;/</span><span class="html">shell:ApplicationBar.MenuItems</span><span class="kwrd">&gt;</span>
    <span class="kwrd">&lt;/</span><span class="html">shell:ApplicationBar</span><span class="kwrd">&gt;</span>
<span class="kwrd">&lt;/</span><span class="html">phone:PhoneApplicationPage.ApplicationBar</span><span class="kwrd">&gt;</span></pre>

<h2>The Code Behind</h2>

<p>The <a href="http://blogs.msdn.com/b/coding4fun/archive/2010/08/09/10048007.aspx">first part</a> introduced the Windows Phone picture manipulation workflow and explained how to load, resize, take, and save an image. This section will show how to keep the UI responsive by performing the image processing asynchronously. </p>

<p><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_5.png"><img style="background-image: none; border-right-width: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_thumb_6.png" width="228" height="234" /></a></p>

<p>The two new effects introduced in this article are more computationally expensive. If these would be applied to the original sized picture, the UI thread would get blocked for a few seconds. This is a No Go for a professional application and in order to pass the Marketplace validation, an app has to be responsive and needs to avoid hang-ups. This and other important requirements are defined in the official <a href="http://go.microsoft.com/?linkid=9730558">Windows Phone 7 Application Certification Requirements</a> document. </p>

<h3>Asynchronous Processing</h3>

<p>To achieve a good responsiveness of the application, the work has to be offloaded from the UI thread to a background thread. Here is where Silverlight’s multi-threading strength comes into play. </p>

<p>There is only one problem—due to its base classes, the <a href="http://msdn.microsoft.com/en-us/library/system.windows.media.imaging.writeablebitmap(VS.95).aspx">WriteableBitmap</a> can’t be used in a non-UI thread. As we know from the <a href="http://blogs.msdn.com/b/coding4fun/archive/2010/08/09/10048007.aspx">first article</a>, the <a href="http://msdn.microsoft.com/en-us/library/system.windows.media.imaging.writeablebitmap%28VS.95%29.aspx">WriteableBitmap</a> uses the <a href="http://en.wikipedia.org/wiki/Rgb">RGB color space</a> to represent the pixels. It’s actually just a 32-bit integer array that stores the alpha, red, green, and blue (ARGB) byte components for all the pixels in a 1D array, and stores the width and the height as integer properties. This leads us to the natural solution: perform the whole cascade of image processing effects with an integer array (pixels) along with the width and height and only copy the final result back to WriteableBitmap on the UI thread.</p>

<p>No sooner said than done, the following code is executed when the user hits the Save button:</p>

<p><b>C# 
    <br /></b></p>

<pre class="csharpcode"><span class="kwrd">if</span> (ListBoxEffects.SelectedItem == <span class="kwrd">null</span>)
{
   <span class="kwrd">return</span>;
}

<span class="rem">// Set Save.. state and get UI parameters</span>
Viewport.Opacity = 0.2;
ProgessBar.Visibility = Visibility.Visible;
var effect = ((EffectItem)ListBoxEffects.SelectedItem).Effect;
var dispatcher = Dispatcher;

ThreadPool.QueueUserWorkItem((state) =&gt;
{
   <span class="kwrd">try</span>
   {
      <span class="rem">// Apply Effect on int[] since WriteableBitmap </span>
      <span class="rem">// can't be used in background thread</span>
      var width = original.PixelWidth;
      var height = original.PixelHeight;
      var resultPixels = effect.Process(original.Pixels, width, height);

      <span class="rem">// Convert int[] to WriteabelBitmap</span>
      <span class="rem">// WriteableBitmap ctor has to be invoked on the UI thread</span>
      dispatcher.BeginInvoke(() =&gt;
      {
         <span class="rem">// Turbo copy the pixels to the WriteableBitmap</span>
         var result = <span class="kwrd">new</span> WriteableBitmap(width, height);
         Buffer.BlockCopy(resultPixels, 
        0, 
        result.Pixels, 
        0, 
        resultPixels.Length * 4);
         
         <span class="rem">// Save WriteableBitmap</span>
         var name = String.Format(
        <span class="str">&quot;PicFx_{0:yyyy-MM-dd_hh-mm-ss-tt}.jpg&quot;</span>, 
        DateTime.Now);
         result.SaveToMediaLibrary(name);
      });
   }
   <span class="kwrd">finally</span>
   {
      <span class="rem">// Set controls to initial state</span>
      dispatcher.BeginInvoke(() =&gt;
      {
         ProgessBar.Visibility = Visibility.Collapsed;
         Viewport.Opacity = 1;
      });
   }
});</pre>

<p>The ProgressBar is shown during the asynchronous processing and the <a href="http://msdn.microsoft.com/en-us/library/system.windows.uielement.opacity(v=VS.95).aspx">Opacity</a> of the Image control is reduced (Figure 2). The actual image processing with the selected effect is performed on a background thread. Using the <a href="http://msdn.microsoft.com/en-us/library/system.threading.threadpool(VS.95).aspx">ThreadPool</a> class and its <a href="http://msdn.microsoft.com/en-us/library/system.threading.threadpool.queueuserworkitem(v=VS.95).aspx">QueueUserWorkItem</a> method accomplishes this. The ThreadPool provides a pool of <a href="http://en.wikipedia.org/wiki/Thread_(computer_science)">threads</a> and the QueueUserWorkItem is used to queue a work operation for processing. The main benefit is that resources aren’t unnecessarily hogged—the creation of a thread takes some time and each thread needs certain resources such as its own memory stack. Also note that, for common computational scenarios, it’s best to keep a balance between threads and processor cores. A thread pool avoids the creation overhead through a certain amount of threads that are kept alive and all the queued work is executed one after another by these threads.</p>

<p>The IEffect’s new Process method overload with the pixels integer array and size parameters is used inside the background thread processing. Read more about the IEffect interface change below.</p>

<p>After the effects processing chain is done, a new WriteableBitmap is then instantiated on the UI thread with the use of the Page’s <a href="http://msdn.microsoft.com/en-us/library/ms615907(v=VS.95).aspx">Dispatcher</a>, which executes code on the UI thread. Then the integer pixels array is copied to the WriteableBitmap’s <a href="http://msdn.microsoft.com/en-us/library/system.windows.media.imaging.writeablebitmap.pixels(v=VS.95).aspx">Pixels</a> property with the fast <a href="http://msdn.microsoft.com/en-us/library/system.buffer.blockcopy(v=VS.95).aspx">BlockCopy</a>. The BlockCopy method copies a block of bytes in one single operation in memory, just like the good ol’ <a href="http://msdn.microsoft.com/en-us/library/dswaw1wk(VS.71).aspx">memcpy</a>.</p>

<p>The final bitmap is then saved to the picture library/photo album with the SaveToMediaLibrary extension method that was introduced in the <a href="http://blogs.msdn.com/b/coding4fun/archive/2010/08/09/10048007.aspx">first part</a>. Finally, the ProgessBar is again hidden and the Image’s opacity is restored.</p>

<p><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_6.png"><img style="background-image: none; border-right-width: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_thumb_7.png" width="289" height="531" /></a></p>

<h5></h5>

<p align="center"><a name="_Ref269158321"><font color="#000000"><strong>Figure </strong></font></a><font color="#000000"><strong>2: Saving a picure shows the ProgressBar over the semi-transparent Image</strong></font></p>

<h5></h5>

<h2>The Effects</h2>

<p>Now that we made the image processing asynchronous and the UI is responsive even when complex computations are performed, it’s time to leverage this feature for some advanced effects.</p>

<p><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_7.png"><img style="background-image: none; border-right-width: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_thumb_8.png" width="221" height="234" /></a></p>

<p>The IEffect interface had to be changed for the asynchronous WriteableBitmap-less processing. The new Process method overload expects the pixels as ARGB32 integer array, and the width and height of the bitmap as parameters. The return value is the processed bitmap as integer pixel array of the same size.</p>

<p align="center"><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_8.png"><img style="background-image: none; border-right-width: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_thumb_9.png" width="331" height="186" /></a><a name="_Ref267596083"><strong><font color="#000000">Figure </font></strong></a><strong><font color="#000000">3: The changed IEffect interface</font></strong></p>

<p>As we learned in the <a href="http://blogs.msdn.com/b/coding4fun/archive/2010/08/09/10048007.aspx">first part</a>, the end user effects are called composite effects (outer core), which are made out of various, reusable base effects (inner core).</p>

<h2>The Vintage Polaroid-like Effect</h2>

<p>This composite effect gives a picture an old-touch so it looks like it was taken with an old, Polaroid-like camera.</p>

<p><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_9.png"><img style="background-image: none; border-right-width: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_thumb_10.png" width="289" height="531" /></a></p>

<p align="center"><strong>Figure 4: Vintage Polaroid-like effect applied to the sample picture</strong></p>

<p>The Polaroid-like composite effect uses three internal base effects: a Gaussian blur, an effect that adds a black vignette, and the Tint base effects introduced in the <a href="http://blogs.msdn.com/b/coding4fun/archive/2010/08/09/10048007.aspx">first part</a> (Figure 5). </p>

<p><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_10.png"><img style="background-image: none; border-right-width: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_thumb_11.png" width="619" height="312" /></a></p>

<p align="center"><a name="_Ref267598560"><strong><font color="#000000">Figure </font></strong></a><strong><font color="#000000">5: The class diagram of the PolaroidEffect</font></strong></p>

<p>Old photos weren’t as sharp as modern photos and therefore the Blurriness property defines how much the picture will be blurred. The Vignette property controls the size of the round vignette. Additionally, the amount of tinting and the tint color can be changed with properties.</p>

<p><b>C# 
    <br /></b></p>

<pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">class</span> PolaroidEffect : IEffect
{
   <span class="kwrd">readonly</span> GaussianBlurEffect blurFx;
   <span class="kwrd">readonly</span> VignetteEffect vignetteFx;
   <span class="kwrd">readonly</span> TintEffect tintFx;
   <span class="kwrd">readonly</span> BitmapMixer mixer;

   <span class="kwrd">public</span> <span class="kwrd">string</span> Name { get { <span class="kwrd">return</span> <span class="str">&quot;Vintage&quot;</span>; } }

   <span class="kwrd">public</span> <span class="kwrd">float</span> Blurriness 
   {
      get { <span class="kwrd">return</span> blurFx.Sigma; }
      set { blurFx.Sigma = <span class="kwrd">value</span>; }
   }

   <span class="kwrd">public</span> <span class="kwrd">float</span> Vignette
   {
      get { <span class="kwrd">return</span> vignetteFx.Size; }
      set { vignetteFx.Size = <span class="kwrd">value</span>; }
   }

   <span class="kwrd">public</span> <span class="kwrd">float</span> Tinting
   {
      get { <span class="kwrd">return</span> mixer.Mixture; }
      set { mixer.Mixture = <span class="kwrd">value</span>; }
   }

   <span class="kwrd">public</span> Color TintColor
   {
      get { <span class="kwrd">return</span> tintFx.Color; }
      set { tintFx.Color = <span class="kwrd">value</span>; }
   }

   <span class="kwrd">public</span> PolaroidEffect()
   {
      blurFx = <span class="kwrd">new</span> GaussianBlurEffect { Sigma = 0.15f };
      vignetteFx = <span class="kwrd">new</span> VignetteEffect();
      tintFx = TintEffect.Sepia;
      mixer = <span class="kwrd">new</span> BitmapMixer { Mixture = 0.5f };
   }

   <span class="kwrd">public</span> WriteableBitmap Process(WriteableBitmap input)
   {
      var width = input.PixelWidth;
      var height = input.PixelHeight;
      <span class="kwrd">return</span> Process(input.Pixels, width, height)
          .ToWriteableBitmap(width, height);
   }

   <span class="kwrd">public</span> <span class="kwrd">int</span>[] Process(<span class="kwrd">int</span>[] inputPixels, <span class="kwrd">int</span> width, <span class="kwrd">int</span> height)
   {
      var resultPixels = blurFx.Process(inputPixels, width, height);
      resultPixels = vignetteFx.Process(resultPixels, width, height);
      var tintedPixels = tintFx.Process(resultPixels, width, height);
      <span class="kwrd">return</span> mixer.Mix(resultPixels, tintedPixels, width, height);
   }
}</pre>

<p>First the input is blurred and the vignette is added. Afterward, a new Sepia-tinted version of the processed image is created. In the last processing step, the non-tinted and the tinted bitmap are mixed together with the use of the new BitmapMixer class. This results in a slight Sepia tint rather than the full Sepia tone.</p>

<h2>The New Base Effects</h2>

<p>The vintage Polaroid-like effect uses three base effects and a mixer to achieve the old look. Now it’s time to see how its Inner Core effects work.</p>

<p><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_11.png"><img style="background-image: none; border-right-width: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_thumb_12.png" width="221" height="234" /></a></p>

<h3>The Blur Effect</h3>

<p>There are several different available <a href="http://en.wikipedia.org/wiki/Blur">blur</a> algorithms, and one of the most common is the <a href="http://en.wikipedia.org/wiki/Gaussian_blur">Gaussian blur</a>. The Gaussian blur applies a <a href="http://en.wikipedia.org/wiki/Gaussian_function">Gaussian function</a> to an image in order to smooth it and reduce details. The naïve implementation uses a <a href="http://homepages.inf.ed.ac.uk/rbf/HIPR2/kernel.htm">convolution kernel</a>, which is basically a 2D array of <i>n</i> x <i>n</i> elements. In the case of a Gaussian filter the kernel values represent a discrete 2D <a href="http://en.wikipedia.org/wiki/Gaussian_function">Gaussian function</a>, which has the typical <a href="http://en.wikipedia.org/wiki/Gaussian_filter">bell shape</a>. The usual kernel has a size of 5 x 5, though other kernels range from 7 x 7 on up.</p>

<p align="center"><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_12.png"><img style="background-image: none; border-right-width: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_thumb_13.png" width="304" height="332" /></a><font color="#000000"><strong>Figure 6: Gaussian blur applied to the sample image</strong></font></p>

<p>During the actual image processing, a pixel of the input image is multiplied with all of the kernel elements. The products of the pixel-kernel-element multiplication are summed and divided, and then the result is assigned as the output pixel. This is done for all the pixels of the input image. </p>

<p>The disadvantage of this approach is that the computation time increases when the blurring is increased. In order to blur the image more, the kernel size is usually enlarged, thus meaning <i>n</i> x <i>n</i> multiplications need to be performed for each pixel. Fortunately, in 1995 Ian T. Young and Lucas J. van Vliet invented a better algorithm that is independent of the width. They describe the method in detail in their paper, “<a href="http://www.bing.com/search?q=%22Recursive+implementation+of+the+Gaussian+filter%22">Recursive implementation of the Gaussian filter</a>.”</p>

<p>It gets even better—<a href="http://www.planetmarshall.co.uk/about/">Andrew Marshall</a> already implemented the recursive Gaussian filter in C# for his <a href="http://www.planetmarshall.co.uk/2010/01/silverlight-and-cuda-interop/">Silverlight and CUDA interop</a> blog post and allowed me the use it. As you can imagine, the implementation is quite complex and could make up an article on its own. In fact, Young &amp; van Vliet already wrote this article by writing their paper. Please read it if you want to know the mathematical details behind the GaussianBlurEffect class.</p>

<h5></h5>

<h3>The Vignette Effect</h3>

<p>The effect of <a href="http://en.wikipedia.org/wiki/Vignetting">vignetting</a> reduces the brightness of the pixels towards the edges. This is done by computing the pixel’s distance to the center and multiplying this with the pixel color. This generates the vignette effect as a fadeout to black towards the edges.</p>

<p><b></b></p>

<p align="center"><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_13.png"><img style="background-image: none; border-right-width: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_thumb_14.png" width="308" height="335" /></a><strong>Figure 7: A black vignette</strong></p>

<p>The Process method of the VignetteEffect implements the vignetting.</p>

<p><b>C# 
    <br /></b></p>

<pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">int</span>[] Process(<span class="kwrd">int</span>[] inputPixels, <span class="kwrd">int</span> width, <span class="kwrd">int</span> height)
{
   <span class="rem">// Prepare some variables</span>
   var resultPixels = <span class="kwrd">new</span> <span class="kwrd">int</span>[inputPixels.Length];
   var ratio = width &gt; height ? 
      height * 32768 / width : 
      width * 32768 / height;

   <span class="rem">// Calculate center, min and max</span>
   var cx = width &gt;&gt; 1;
   var cy = height &gt;&gt; 1;
   var max = cx * cx + cy * cy;
   var min = (<span class="kwrd">int</span>)(max * (1 - Size));
   var diff = max - min;

   var index = 0;
   <span class="kwrd">for</span> (<span class="kwrd">int</span> y = 0; y &lt; height; y++)
   {
      <span class="kwrd">for</span> (<span class="kwrd">int</span> x = 0; x &lt; width; x++)
      {
         var c = inputPixels[index];

         <span class="rem">// Extract color components</span>
         var a = (<span class="kwrd">byte</span>)(c &gt;&gt; 24);
         var r = (<span class="kwrd">byte</span>)(c &gt;&gt; 16);
         var g = (<span class="kwrd">byte</span>)(c &gt;&gt; 8);
         var b = (<span class="kwrd">byte</span>)(c);

         <span class="rem">// Calculate distance to center </span>
         <span class="rem">// and adapt aspect ratio</span>
         var dx = cx - x;
         var dy = cy - y;
         <span class="kwrd">if</span> (width &gt; height)
         {
            dx = (dx * ratio) &gt;&gt; 15;
         }
         <span class="kwrd">else</span>
         {
            dy = (dy * ratio) &gt;&gt; 15;
         }
         <span class="kwrd">int</span> distSq = dx * dx + dy * dy;

         <span class="kwrd">if</span> (distSq &gt; min)
         {
            <span class="rem">// Calculate vignette</span>
            var v = ((max - distSq) &lt;&lt; 8) / diff;
            v *= v;

            <span class="rem">// Apply vignette</span>
            var ri = (r * v) &gt;&gt; 16;
            var gi = (g * v) &gt;&gt; 16;
            var bi = (b * v) &gt;&gt; 16;

            <span class="rem">// Check bounds</span>
            r = (<span class="kwrd">byte</span>)(ri &gt; 255 ? 
              255 : 
              (ri &lt; 0 ? 0 : ri));
            g = (<span class="kwrd">byte</span>)(gi &gt; 255 ? 
              255 : 
              (gi &lt; 0 ? 0 : gi));
            b = (<span class="kwrd">byte</span>)(bi &gt; 255 ? 
              255 : 
              (bi &lt; 0 ? 0 : bi));

            <span class="rem">// Combine components</span>
            c = (a &lt;&lt; 24) | 
               (r &lt;&lt; 16) | 
               (g &lt;&lt; 8) | 
               b;
         }

         resultPixels[index] = c;
         index++;
      }
   }

   <span class="kwrd">return</span> resultPixels;
}</pre>



<p>The x and y coordinate of the image’s center and the aspect ratio are calculated. As you can see, only fast integer operations are used again. </p>

<p>Inside the loop, the color components of each input pixel are extracted and the distance vector to the center is calculated with respect to the picture’s aspect ratio. The squared length of the distance vector is tested against the minimum vignette size. If the pixel falls within the range, the scaled distance length is multiplied with each color component. The result is an adapted brightness as described above. The last step ensures that the color components are in the byte range and then combines these to the result integer pixel color.</p>

<h5></h5>

<h3>The BitmapMixer</h3>

<p>As the name might imply, the purpose of the BitmapMixer class is to mix two images. The Mix method mixes two ARGB32 integer bitmaps of the same size and returns the mixed bitmap. This is actually an <a href="http://en.wikipedia.org/wiki/Alpha_compositing">alpha blending</a> operation where the Mixture property defines the opacity of the input2 image. A Mixture value of 0 means input1 is fully visible and a value of 1 means that input2 is shown—everything in between is a mix of both.</p>

<p><b>C# 
    <br /></b></p>

<pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">float</span> Mixture { get; set; }

<span class="kwrd">public</span> <span class="kwrd">int</span>[] Mix(<span class="kwrd">int</span>[] inputPixels1, 
   <span class="kwrd">int</span>[] inputPixels2, 
   <span class="kwrd">int</span> width, 
   <span class="kwrd">int</span> height)
{
   <span class="rem">// Prepare some variables</span>
   var resultPixels = <span class="kwrd">new</span> <span class="kwrd">int</span>[inputPixels1.Length];
   var m = Mixture;
   var mi = 1 - m;

   <span class="kwrd">for</span> (var i = 0; i &lt; inputPixels1.Length; i++)
   {
      <span class="rem">// Extract color components</span>
      var c1 = inputPixels1[i];
      var a1 = (<span class="kwrd">byte</span>)(c1 &gt;&gt; 24);
      var r1 = (<span class="kwrd">byte</span>)(c1 &gt;&gt; 16);
      var g1 = (<span class="kwrd">byte</span>)(c1 &gt;&gt; 8);
      var b1 = (<span class="kwrd">byte</span>)(c1);

      var c2 = inputPixels2[i];
      var a2 = (<span class="kwrd">byte</span>)(c2 &gt;&gt; 24);
      var r2 = (<span class="kwrd">byte</span>)(c2 &gt;&gt; 16);
      var g2 = (<span class="kwrd">byte</span>)(c2 &gt;&gt; 8);
      var b2 = (<span class="kwrd">byte</span>)(c2);

      <span class="rem">// Mix it!</span>
      var d = ((<span class="kwrd">byte</span>)(a1 * mi + a2 * m) &lt;&lt; 24) |
              ((<span class="kwrd">byte</span>)(r1 * mi + r2 * m) &lt;&lt; 16) |
              ((<span class="kwrd">byte</span>)(g1 * mi + g2 * m) &lt;&lt; 8) |
              ((<span class="kwrd">byte</span>)(b1 * mi + b2 * m));

      <span class="rem">// Set result color</span>
      resultPixels[i] = d;
   }

   <span class="kwrd">return</span> resultPixels;
}</pre>



<p>The color components of the two input images are extracted. Each color component of input2 is then multiplied with the Mixture factor and input2 is multiplied with the inverse of the Mixture. Then, both color component products are added and the new values are combined to form the new integer output pixel.</p>

<h3>The Tilt Shift Effect</h3>

<p>Now that we’ve learned the details of some of the new Inner Core effects, it’s time to use some of them in a different combination and make an interesting Outer Core effect.</p>

<p><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_14.png"><img style="background-image: none; border-right-width: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_thumb_15.png" width="221" height="234" /></a></p>

<p>The digital <a href="http://en.wikipedia.org/wiki/Tilt-shift_photography">tilt shift</a> effect lets a scene look like a miniature scale model. It’s quite popular nowadays and you might have seen it applied to video in some ads. It’s commonly called <a href="http://en.wikipedia.org/wiki/Miniature_faking">miniature faking</a> and produces a nice result if it’s applied to a photo that was taken from a high angle.</p>

<p>&#160;</p>

<p align="center"><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_15.png"><strong><img style="background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: ; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_thumb_16.png" width="289" height="526" /></strong></a><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_16.png"><strong><img style="background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: ; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_thumb_17.png" width="209" height="155" /></strong></a></p>

<p align="center"><strong>Figure 8: The tilt shift Effect applied to a photo of Dresden that I have taken from a Ferris wheel</strong></p>

<p>In the first processing stage the TiltShiftEffect increases the contrast of the image with the BrightnessContrastModification effect, which was introduced in the <a href="http://blogs.msdn.com/b/coding4fun/archive/2010/08/09/10048007.aspx">first part</a>. Afterward, the picture gets blurred with the GaussianBlurEffect. The blurred version is then combined with the non-blurred to produce the shallow <a href="http://en.wikipedia.org/wiki/Depth_of_field">depth of field</a> of a close-up shot.</p>

<p align="center"><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_17.png"><img style="background-image: none; border-right-width: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_thumb_18.png" width="619" height="438" /></a><strong>Figure 9: The class diagram of the TiltShiftEffect</strong></p>

<p>The UpperFallOff property defines the relative y coordinate where the depth of field (camera focus) is completely faded out. The LowerFadeOff defines the lower focus counterpart:</p>

<p><b>C# 
    <br /></b></p>

<pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">float</span> UpperFallOff { get; set; }
<span class="kwrd">public</span> <span class="kwrd">float</span> LowerFallOff { get; set; }

<span class="kwrd">private</span> <span class="kwrd">int</span>[] contrastedPixels;
<span class="kwrd">private</span> <span class="kwrd">int</span>[] blurredPixels;

<span class="kwrd">public</span> <span class="kwrd">int</span>[] Process(
   <span class="kwrd">int</span>[] inputPixels, 
   <span class="kwrd">int</span> width, 
   <span class="kwrd">int</span> height)
{
   <span class="rem">// Increase contrast</span>
   CreateBlurredBitmap(inputPixels, width, height);

   <span class="rem">// Mix the fade off</span>
   <span class="kwrd">return</span> ProcessOnlyFocusFadeOff(
      inputPixels, 
      width, 
      height);
}

<span class="kwrd">private</span> <span class="kwrd">void</span> CreateBlurredBitmap(
   <span class="kwrd">int</span>[] inputPixels, 
   <span class="kwrd">int</span> width, 
   <span class="kwrd">int</span> height)
{
   <span class="rem">// Increase contrast</span>
   contrastedPixels = contrastFx.Process(
      inputPixels, 
      width, 
      height);

   <span class="rem">// Blur </span>
   blurredPixels = blurFx.Process(
                              contrastedPixels, 
                              width, 
                              height);
}

<span class="kwrd">public</span> <span class="kwrd">int</span>[] ProcessOnlyFocusFadeOff(
   <span class="kwrd">int</span>[] inputPixels, 
   <span class="kwrd">int</span> width, 
   <span class="kwrd">int</span> height)
{
   <span class="rem">// Check if the cache is empty</span>
   <span class="kwrd">if</span> (contrastedPixels == <span class="kwrd">null</span> || blurredPixels == <span class="kwrd">null</span>)
   {
      CreateBlurredBitmap(inputPixels, width, height);
   }

   var resultPixels = blurredPixels;

   <span class="rem">// If not fully blurred?</span>
   <span class="kwrd">if</span> (UpperFallOff &lt; LowerFallOff)
   {
      <span class="rem">// Prepare some variables</span>
      resultPixels = <span class="kwrd">new</span> <span class="kwrd">int</span>[inputPixels.Length];

      <span class="rem">// Calculate fade area</span>
      var uf = (<span class="kwrd">int</span>)(UpperFallOff * height);
      var lf = (<span class="kwrd">int</span>)(LowerFallOff * height);
      var fo = ((lf - uf) &gt;&gt; 1);
      var mf = uf + fo;
      var mfu = mf;
      var mfl = mf;

      <span class="rem">// Limit fall off and calc inverse</span>
      <span class="kwrd">if</span> (fo &gt; height * MaxFallOffFactor)
      {
         fo = (<span class="kwrd">int</span>)(height * MaxFallOffFactor);
         mfu = uf + fo;
         mfl = lf - fo;
      }
      var ifo = 1f / fo;


      <span class="rem">// Blend</span>
      var index = 0;
      <span class="kwrd">for</span> (var y = 0; y &lt; height; y++)
      {
         <span class="kwrd">for</span> (var x = 0; x &lt; width; x++)
         {
            var c2 = contrastedPixels[index];

            <span class="rem">// Above or below the fading area</span>
            <span class="kwrd">if</span> (y &lt; mfu || y &gt; mfl)
            {
               var c = blurredPixels[index];

               <span class="rem">// Inside the fading area, </span>
               <span class="rem">// but not in the focused area</span>
               <span class="kwrd">if</span> (y &gt; uf || y &lt; lf)
               {
                  <span class="rem">// Extract color components</span>
                  var a1 = (<span class="kwrd">byte</span>)(c &gt;&gt; 24);
                  var r1 = (<span class="kwrd">byte</span>)(c &gt;&gt; 16);
                  var g1 = (<span class="kwrd">byte</span>)(c &gt;&gt; 8);
                  var b1 = (<span class="kwrd">byte</span>)(c);

                  var a2 = (<span class="kwrd">byte</span>)(c2 &gt;&gt; 24);
                  var r2 = (<span class="kwrd">byte</span>)(c2 &gt;&gt; 16);
                  var g2 = (<span class="kwrd">byte</span>)(c2 &gt;&gt; 8);
                  var b2 = (<span class="kwrd">byte</span>)(c2);

                  <span class="rem">// Calculate blending</span>
                  <span class="kwrd">float</span> m = y &lt; mf ? (mfu - y) : (y - mfl);
                  m *= ifo;
                  <span class="kwrd">if</span> (m &gt; 1)
                  {
                     m = 1f;
                  }
                  var mi = 1 - m;

                  <span class="rem">// Mix it!</span>
                  c = ((<span class="kwrd">byte</span>)(a1 * m + a2 * mi) &lt;&lt; 24) |
                        ((<span class="kwrd">byte</span>)(r1 * m + r2 * mi) &lt;&lt; 16) |
                        ((<span class="kwrd">byte</span>)(g1 * m + g2 * mi) &lt;&lt; 8) |
                        ((<span class="kwrd">byte</span>)(b1 * m + b2 * mi));
               }

               <span class="rem">// Set result color</span>
               resultPixels[index] = c;
            }
            <span class="kwrd">else</span>
            {
               resultPixels[index] = c2;
            }
            index++;
         }
      }
   }

   <span class="kwrd">return</span> resultPixels;
}</pre>

<p>As you can see, the processing is split into three methods and two member variables are used to cache both the contrast-increased result and the blurred result. This is useful when only the FallOff properties are changed interactively in real-time, which is described below.</p>

<p align="center"><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_18.png"><img style="background-image: none; border-right-width: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_thumb_19.png" width="306" height="332" /></a><a name="_Ref269324444"><font color="#000000"><strong>Figure </strong></font></a><font color="#000000"><strong>10: The simulated depth of field fade out</strong></font></p>

<p>The actual processing mixes the contrast-increased image and the blurred image by using a linear fading function. Figure 10 illustrates this. The red color represents the blurred version and the gray stands for the contrast-increased image. </p>

<p>This fading uses the FallOff properties, converts these properties into absolute values, and calculates some y coordinates, which are needed for the fade in/out. Inside the loop, the color components of both bitmaps are extracted and the mixture factor is computed. Then the color components are multiplied with the factors like in the BitmapMixer’s Mix method. The last step combines the component results and sets the integer pixel of the result image.</p>

<h2>Multitouch Focus Fade Out Manipulation</h2>

<p>The Windows Phone is a nice multitouch device with very good usability. Its multitouch power is used in the PicFx app to let the user interactively change the FallOff properties of the TiltShiftEffect; therefore, the focused area can be altered in an intuitive way.</p>

<p><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_19.png"><img style="background-image: none; border-right-width: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_thumb_20.png" width="228" height="234" /></a></p>

<p>Silverlight and the Windows Phone Silverlight version provide the static <a href="http://msdn.microsoft.com/en-us/library/system.windows.input.touch(VS.95).aspx">Touch</a> class, which has only one member, the <a href="http://msdn.microsoft.com/en-us/library/system.windows.input.touch.framereported(v=VS.95).aspx">FrameReported</a> event. This event is fired each time a set of touch points is registered. </p>

<p>An event handler is attached in the Initialize method of the MainPage. Please note that one would actually encapsulate the following code in a separate class like ViewModel for the effect, but I decided to leave this out to keep the code simpler and focused on the nitty gritty.</p>

<p><b>C# 
    <br /></b></p>

<pre class="csharpcode"><span class="kwrd">private</span> <span class="kwrd">void</span> Initialize()
{
   <span class="rem">// Attach touch event handler</span>
   Touch.FrameReported += Touch_FrameReported;
   <span class="rem">// ...</span>
}

<span class="kwrd">private</span> <span class="kwrd">void</span> Touch_FrameReported(
   <span class="kwrd">object</span> sender, 
   TouchFrameEventArgs e)
{
   SetTiltShiftFocus(e.GetTouchPoints(Viewport));
}

<span class="kwrd">private</span> <span class="kwrd">void</span> SetTiltShiftFocus(IList&lt;TouchPoint&gt; points)
{
   IEffect effect = <span class="kwrd">null</span>;
   <span class="kwrd">if</span> (ListBoxEffects != <span class="kwrd">null</span>)
   {
      var item = ListBoxEffects.SelectedItem <span class="kwrd">as</span> EffectItem;
      <span class="kwrd">if</span> (item != <span class="kwrd">null</span>)
      {
         effect = item.Effect;
      }
   }

   var tiltFx = effect <span class="kwrd">as</span> TiltShiftEffect;
   <span class="kwrd">if</span> (tiltFx == <span class="kwrd">null</span>)
   {
      <span class="kwrd">return</span>;
   }
   var result = Viewport.Source;
   var isManipulating = points.Any(
      p =&gt; p.Action == TouchAction.Down
                  || p.Action == TouchAction.Move);
   <span class="kwrd">if</span> (isManipulating)
   {
      <span class="kwrd">if</span> (points.Count &gt; 1)
      {
         var y1 = (<span class="kwrd">int</span>)points[0].Position.Y;
         var y2 = (<span class="kwrd">int</span>)points[1].Position.Y;

         <span class="rem">// FallOff is expected as relative coordinate</span>
         var ih = 1f / resized.PixelHeight;

         <span class="rem">// Topmost point is upper FallOff</span>
         <span class="kwrd">if</span> (y1 &lt; y2)
         {
            tiltFx.UpperFallOff = y1 * ih;
            tiltFx.LowerFallOff = y2 * ih;
         }
         <span class="kwrd">else</span>
         {
            tiltFx.UpperFallOff = y2 * ih;
            tiltFx.LowerFallOff = y1 * ih;
         }

         <span class="rem">// Apply selected effect</span>
         var processed = 
            tiltFx.ProcessOnlyFocusFadeOff(resized);

         <span class="rem">// Add FallOff marker lines</span>
         <span class="kwrd">const</span> <span class="kwrd">int</span> markerHeight = 4;
         processed.FillRectangle(
            0, 
            y1 - markerHeight,
            resized.PixelWidth,
            y1 + markerHeight,
            Colors.LightGray);

         processed.FillRectangle(
            0, 
            y2 - markerHeight, 
            resized.PixelWidth, 
            y2 + markerHeight, 
            Colors.LightGray);

         result = processed;
      }
   }
   <span class="kwrd">else</span>
   {
      <span class="rem">// Apply selected effect</span>
      result = tiltFx.Process(resized);
   }

   <span class="rem">// Show the result</span>
   ShowImage(result);
}</pre>



<p>Every time the multitouch event is fired, the SetTiltShiftFocus method gets called. This method converts the absolute coordinates into relative and assigns the values to the appropriate properties. The topmost point is always interpreted as UpperFallOff.</p>

<p>Two small, gray rectangles are drawn at the position of the FallOff values to give the user some feedback. This is done with the <a href="http://writeablebitmapex.codeplex.com/">WriteableBitmapEx</a>’ FillRectangle extension method. To keep the UI responsive, the ProcessOnlyFocusFadeOff method of the TiltShiftEffect is called, and this method uses the cached contrast-increased and blurred images by mixing them. This speeds the process up a lot up. </p>

<h2>The Watermark</h2>

<p>Now it’s time to brand our final image with a custom logo before it gets saved. This watermark is useful to customize or add information to a photo.</p>

<p align="center"><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_20.png"><img style="background-image: none; border-right-width: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_thumb_21.png" width="309" height="334" /></a><strong>Figure 11: Watermark logo applied to the sample image</strong></p>

<p>The Watermarker class has the Watermark property, which represents a WriteableBitmap that is used as watermark logo. The RelativeSize defines the size of the logo relative to the size of the input bitmap it should get applied to:</p>

<p><b>C# 
    <br /></b></p>

<pre class="csharpcode"><span class="kwrd">public</span> <span class="kwrd">class</span> Watermarker
{
   <span class="kwrd">public</span> WriteableBitmap Watermark { get; <span class="kwrd">private</span> set; }
   <span class="kwrd">public</span> <span class="kwrd">float</span> RelativeSize { get; set; }

   <span class="kwrd">public</span> Watermarker(<span class="kwrd">string</span> relativeResourcePath)
   {
      Watermark = <span class="kwrd">new</span> WriteableBitmap(0, 0)
         .FromResource(relativeResourcePath);

      RelativeSize = 0.4f;
   }

   <span class="kwrd">public</span> WriteableBitmap Apply(WriteableBitmap input)
   {
      <span class="rem">// Resize watermark</span>
      var w = Watermark.PixelWidth;
      var h = Watermark.PixelHeight;
      var ratio = (<span class="kwrd">float</span>) w / h;
      h = (<span class="kwrd">int</span>) (input.PixelHeight * RelativeSize);
      w = (<span class="kwrd">int</span>) (h * ratio);
      var watermark = Watermark.Resize(
         w, 
         h, 
         WriteableBitmapExtensions.Interpolation.Bilinear);

      <span class="rem">// Blit watermark into copy of the input </span>
      <span class="rem">// Bottom right corner</span>
      var result = input.Clone();
      var position = <span class="kwrd">new</span> Rect(
         input.PixelWidth - w, 
         input.PixelHeight - h, 
         w, 
         h);

      result.Blit(position, watermark, <span class="kwrd">new</span> Rect(0, 0, w, h));

      <span class="kwrd">return</span> result;
   }
}</pre>



<p>The constructor provides an easy way to pass a bitmap from the resource stream. In the Apply method, the watermark bitmap is scaled with the use of the <a href="http://writeablebitmapex.codeplex.com/">WriteableBitmapEx</a>’ Resize method. After this the position is calculated, the watermark logo is <a href="http://en.wikipedia.org/wiki/Bit_blit">blitted</a> into the bottom right corner of the input image and the result is returned. Note that the <a href="http://writeablebitmapex.codeplex.com/">WriteableBitmapEx</a>’ Blit method is used here.</p>

<p>An instance of the Watermarker class is created in the MainPage.xaml.cs.</p>

<p><b>C# 
    <br /></b></p>

<pre class="csharpcode"><span class="kwrd">private</span> <span class="kwrd">void</span> Initialize()
{
   watermarker = <span class="kwrd">new</span> Watermarker(<span class="str">&quot;data/watermark.png&quot;</span>);
   <span class="rem">// ...</span>
}

<span class="kwrd">private</span> <span class="kwrd">void</span> ApplySelectedEffectAndSaveAsync()
{
   <span class="rem">// ...</span>
      <span class="rem">// Turbo copy the pixels to the WriteableBitmap</span>
      var result = <span class="kwrd">new</span> WriteableBitmap(width, height);
      Buffer.BlockCopy(
         resultPixels, 
         0, 
         result.Pixels, 
         0, 
         resultPixels.Length * 4);
      
      <span class="rem">// Apply logo</span>
      result = watermarker.Apply(result);

      <span class="rem">// Save WriteableBitmap</span>
      var name = String.Format(
         <span class="str">&quot;PicFx_{0:yyyy-MM-dd_hh-mm-ss-tt}.jpg&quot;</span>, 
         DateTime.Now);
      result.SaveToMediaLibrary(name);
   <span class="rem">// ...</span>
}</pre>



<p>The watermark is applied after the image processing was performed and before the picture gets saved to the media library.</p>

<h3>Conclusion</h3>

<p>In the <a href="http://blogs.msdn.com/b/coding4fun/archive/2010/08/09/10048007.aspx">first part</a> we drilled down from the UI Crust with the Pivot control template and the Windows Phone Application Bar through the UI Mantle. Finally we reached the Effects Core with the Black &amp; White, Sepia, BrightnessContrast, and Tint effects.</p>

<p>In this second part, we again journeyed to the core, starting on the surface in order to learn how to keep the UI responsive with asynchronous processing. We then entered the core and l explained the Polaroid-like vintage, its Gaussian blur, the Vignette effects, and the BitmapMixer. I also demonstrated the miniature faking Tilt Shift effect, including the multitouch manipulation of its parameters. The last step showed how to add a custom logo watermark to the final picture. </p>

<p><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_21.png"><img style="background-image: none; border-right-width: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_thumb_22.png" width="220" height="234" /></a></p>

<p>This short series, or two articles, if you will, has come to end. Yep, it’s over now—BUT Coding4Fun has released this development stage of the PicFx app for free on the Marketplace! Furthermore, I continued my work on this project and shipped it with enhanced effects, without watermark, but with extra features and a bunch of new effects, including essential ones like auto adjust, soften and many more. Check out the app called <a href="http://twitter.com/PicturesLab">Pictures Lab</a> aimed to be nothing less than THE image effects addition to the Windows Phone Pictures Hub.</p>

<h2>About The Author</h2>

<p><a href="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_22.png"><img style="background-image: none; border-right-width: 0px; margin: 0px; padding-left: 0px; padding-right: 0px; display: inline; float: right; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" title="image" border="0" alt="image" align="right" src="http://ecn.channel9.msdn.com/c4fcontent/images/PicFx--Windows-Phone-Picture-Effects-App_A590/image_thumb_23.png" width="140" height="140" /></a>René Schulte is a .Net, Silverlight and Windows Phone developer and Microsoft <a href="http://mvp.support.microsoft.com/profile/Rene.Schulte">Silverlight MVP</a> passionate about real-time computer graphics, physics, AI, and algorithms. He loves C#, Shaders, Augmented Reality, and computer vision. He started the <a href="http://SLARToolkit.codeplex.com">SLARToolkit</a>, the <a href="http://WriteableBitmapEx.codeplex.com">WriteableBitmapEx</a>, and the <a href="http://Matrix3DEx.codeplex.com">Matrix3DEx</a> Silverlight open source projects, and he has a <a href="http://rene-schulte.info">Silverlight website</a> powered by real time soft body physics. He is also a regular author for Microsoft's Coding4Fun. Contact information can be found on his <a href="http://rene-schulte.info">Silverlight website</a>, his <a href="http://blog.rene-schulte.info">blog</a>, or via <a href="http://twitter.com/rschu">Twitter</a>.</p><div style="clear:both;"></div></div>
					        
        				
			        </div>
			        <div class="abbreviated-post-footer"></div>
		        </li>
	        
		        <li class="content-item">
			        <div class="abbreviated-post-header"></div>
			        <div class="abbreviated-post">
			            <div class="post-application">
		                        <span class="label"></span>
		                        <span class="value"><a class="internal-link view-application" href="/b/coding4fun/"><span></span>Coding4Fun</a></span>
			                </div>
				        <h4 class="post-name"><a class="internal-link view-post" href="/b/coding4fun/archive/2010/10/16/10076709.aspx"><span></span>TweeVo 1.1 is now available</a></h4>
				        
            <div class="post-date">
		        <span class="label">Posted</span>
		        <span class="value">Sat, Oct 16 2010</span>
	        </div>
                        <div class="post-author">
                            <span class="fiji-post-author-by">by</span>
                            <span class="avatar"><a href="/members/Coding4Fun/"><img src="/resized-image.ashx/__size/32x32/__key/CommunityServer-Components-Avatars/00-00-00-45-39/4TFY486PD44T.png" alt="" style="border-width:0px;" /></a></span>
                            
                            <span class="user-name"><a class="internal-link view-user-profile" href="/members/Coding4Fun/"><span></span>Coding4Fun</a></span>
                            
                        </div>
				        
	                    <div class="post-attributes">
		                        <div class="attribute-list-header"></div>
                                <ul class="attribute-list">
                                    <li class="attribute-item post-reply-count">
                                        <span class="attribute-value">0</span>
                                        <span class="attribute-name">Comments</span>
                                    </li>
                                </ul>
                                <div class="attribute-list-footer"></div>
                            </div>
        				
				        
                                <div class="post-content user-defined-markup"><p><a href="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/2335.image_5F00_68AA9D8C.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: ; padding-left: 0px; padding-right: 0px; display: inline; float: right; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" alt="image" src="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/7041.image_5F00_thumb_5F00_3495FE39.png" align="right" border="0" height="94" width="94" /></a>Users of <a href="http://www.brianpeek.com/" target="_blank">Brian Peek</a>&rsquo;s <a href="http://www.tweevo.org/" target="_blank">TweeVo</a> application have obviously noticed that the application hasn&rsquo;t been working since early September.&nbsp; Twitter forced all applications to use the <a href="http://en.wikipedia.org/wiki/Oauth" target="_blank">OAuth</a> authentication scheme, and now TweeVo has been updated to work with this new requirement.&nbsp; You can download the new version with source code over at <a href="http://tweevo.codeplex.com/" target="_blank">CodePlex</a>.&nbsp; A big thanks to <a href="http://anotherlab.rajapet.net/" target="_blank">Chris Miller</a> for getting things up and running again.</p><div style="clear:both;"></div></div>
					        
        				
			        </div>
			        <div class="abbreviated-post-footer"></div>
		        </li>
	        
		        <li class="content-item">
			        <div class="abbreviated-post-header"></div>
			        <div class="abbreviated-post">
			            <div class="post-application">
		                        <span class="label"></span>
		                        <span class="value"><a class="internal-link view-application" href="/b/coding4fun/"><span></span>Coding4Fun</a></span>
			                </div>
				        <h4 class="post-name"><a class="internal-link view-post" href="/b/coding4fun/archive/2010/10/12/10075033.aspx"><span></span>Adobe Illustrator To HTML5 Canvas tool</a></h4>
				        
            <div class="post-date">
		        <span class="label">Posted</span>
		        <span class="value">Tue, Oct 12 2010</span>
	        </div>
                        <div class="post-author">
                            <span class="fiji-post-author-by">by</span>
                            <span class="avatar"><a href="/members/Coding4Fun/"><img src="/resized-image.ashx/__size/32x32/__key/CommunityServer-Components-Avatars/00-00-00-45-39/4TFY486PD44T.png" alt="" style="border-width:0px;" /></a></span>
                            
                            <span class="user-name"><a class="internal-link view-user-profile" href="/members/Coding4Fun/"><span></span>Coding4Fun</a></span>
                            
                        </div>
				        
	                    <div class="post-attributes">
		                        <div class="attribute-list-header"></div>
                                <ul class="attribute-list">
                                    <li class="attribute-item post-reply-count">
                                        <span class="attribute-value">0</span>
                                        <span class="attribute-name">Comments</span>
                                    </li>
                                </ul>
                                <div class="attribute-list-footer"></div>
                            </div>
        				
				        
                                <div class="post-content user-defined-markup"><p><a href="http://ecn.channel9.msdn.com/c4fcontent/images/4d157b8dd808_E11D/image.png"><img style="background-image: none; border-bottom: 0px; border-left: 0px; margin: 0px auto; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top: 0px; border-right: 0px; padding-top: 0px" title="image" border="0" alt="image" src="http://ecn.channel9.msdn.com/c4fcontent/images/4d157b8dd808_E11D/image_thumb.png" width="500" height="149" /></a>The guys over at VisitMix created a new tool that converts Adobe Illustrator files to HTML5 canvas elements that can be rendered to any browser that supports the canvas element like IE9.&#160; They even have a Windows and OS X version of the tool.&#160; </p>  <p>Find out more at <a title="http://visitmix.com/labs/ai2canvas/" href="http://visitmix.com/labs/ai2canvas/">http://visitmix.com/labs/ai2canvas/</a> and they have a introductory video at <a title="http://visitmix.com/labs/ai2canvas/introduction.html" href="http://visitmix.com/labs/ai2canvas/introduction.html">http://visitmix.com/labs/ai2canvas/introduction.html</a></p><div style="clear:both;"></div></div>
					        
        				
			        </div>
			        <div class="abbreviated-post-footer"></div>
		        </li>
	        
		        <li class="content-item">
			        <div class="abbreviated-post-header"></div>
			        <div class="abbreviated-post">
			            <div class="post-application">
		                        <span class="label"></span>
		                        <span class="value"><a class="internal-link view-application" href="/b/coding4fun/"><span></span>Coding4Fun</a></span>
			                </div>
				        <h4 class="post-name"><a class="internal-link view-post" href="/b/coding4fun/archive/2010/10/04/10070953.aspx"><span></span>Developer Review - Four ASP.NET MVC View Engines</a></h4>
				        
            <div class="post-date">
		        <span class="label">Posted</span>
		        <span class="value">Mon, Oct 4 2010</span>
	        </div>
                        <div class="post-author">
                            <span class="fiji-post-author-by">by</span>
                            <span class="avatar"><a href="/members/Coding4Fun/"><img src="/resized-image.ashx/__size/32x32/__key/CommunityServer-Components-Avatars/00-00-00-45-39/4TFY486PD44T.png" alt="" style="border-width:0px;" /></a></span>
                            
                            <span class="user-name"><a class="internal-link view-user-profile" href="/members/Coding4Fun/"><span></span>Coding4Fun</a></span>
                            
                        </div>
				        
	                    <div class="post-attributes">
		                        <div class="attribute-list-header"></div>
                                <ul class="attribute-list">
                                    <li class="attribute-item post-reply-count">
                                        <span class="attribute-value">5</span>
                                        <span class="attribute-name">Comments</span>
                                    </li>
                                </ul>
                                <div class="attribute-list-footer"></div>
                            </div>
        				
				        
                                <div class="post-content user-defined-markup"><h1><span style="font-family: Cambria;"><span style="color: #365f91; font-size: 14pt;"><span style="font-weight: bold;">Introduction</span></span></span></h1>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">In this Developer Review, we evaluate four view engines available for use with ASP.NET MVC. First, we discuss the role a view engine plays in a website built with ASP.NET MVC, then we provide details about the four view engines in order to help you decide which one suits your needs. </p>
<table cellpadding="0" cellspacing="0" border="0">
<tbody>
<tr>
<td width="183" valign="top">
<p>Jason Haley</p>
<p><a href="http://jasonhaley.com/blog/" title="http://jasonhaley.com/blog/">http://jasonhaley.com/blog/</a></p>
</td>
<td width="455" valign="top">
<p><b>Source Code:</b> <a href="http://nerddinner.codeplex.com/">Download</a> in Branches/Playground directory</p>
<p><b>&nbsp;</b></p>
</td>
</tr>
</tbody>
</table>
<h1 style="line-height: 16pt; margin: 24pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #365f91; font-size: 14pt;"><span style="font-weight: bold;">What Does a View Engine Do?</span></span></span></h1>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">When we refer to a view engine in ASP.NET MVC, we are talking about three pieces of functionality:</p>
<p class="MsoListParagraphCxSpFirst" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 0pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>A template locator/provider (implementation of IViewEngine)</p>
<p class="MsoListParagraphCxSpMiddle" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 0pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>A template that can render itself (implementation of IView)</p>
<p class="MsoListParagraphCxSpLast" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 10pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>A template engine that can parse and compile the view file syntax into executable code</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Combining these three pieces, a view engine provides your controllers with the ability to translate views into Html.</p>
<h1 style="line-height: 16pt; margin: 24pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #365f91; font-size: 14pt;"><span style="font-weight: bold;">Why Use an Alternate View Engine?</span></span></span></h1>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Though the view engine that ships with ASP.NET MVC has all the functionality you need to create views for just about any website project, it is also easily replaced. </p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">As with choosing a programming language in .Net, there are many reasons why you may choose one view engine over another:</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b>Syntax <br /></b>ASP.NET MVC&rsquo;s default view syntax is sometimes described as &ldquo;tag soup.&rdquo; This is due to the mix of all the&nbsp; <span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00;">&lt;%</span></span> &hellip; <span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00;">%&gt;</span></span> tags along with the Html markup and causes some developers to feel like the view is messy. </p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b>Skillset/background <br /></b>Many developers have already used the Castle Monorail MVC framework and are experiences with the view engines provided for that framework. Accordingly, it makes sense to leverage that experience by using a similar view engine in ASP.NET MVC.</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b>Productivity <br /></b>For you, productivity may mean quick and easy to learn syntax or it may mean terse and less code. Depending on which is right for you, you may choose a different view engine.&nbsp; </p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b>Specialized Problem Domains <br /></b>Some view engines use a DSL-like-language to represent the view, which may fit well within your environment.&nbsp; </p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b>Testability <br /></b>View engin<a name="_GoBack"></a>es that don&rsquo;t depend on the System.Web.UI.Page are easier to test than the default ASP.NET MVC view engine, which uses Page for a base class of its view implementation.</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b>Division of labor <br /></b>If you have designers working on the views, or just want minimal logic in your views, you should choose a view engine that easily mixes with Html.</p>
<h1 style="line-height: 16pt; margin: 24pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #365f91; font-size: 14pt;"><span style="font-weight: bold;">Feature Comparison</span></span></span></h1>
<table cellpadding="0" cellspacing="0" border="1" class="auto-style1" style="border-bottom: #4f81bd 1pt solid; border-collapse: collapse; border-top: #4f81bd 1pt solid; mso-border-top-alt: solid #4f81bd 1.0pt; mso-border-top-themecolor: accent1; mso-border-bottom-alt: solid #4f81bd 1.0pt; mso-border-bottom-themecolor: accent1; mso-yfti-tbllook: 1184; mso-padding-alt: 0in 5.4pt 0in 5.4pt">
<tbody>
<tr style="height: 14.6pt; mso-yfti-irow: -1; mso-yfti-firstrow: yes;">
<td colspan="5" width="741" valign="top" height="19" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: #4f81bd 1pt solid; border-right: medium none; padding-top: 0in; mso-border-top-themecolor: accent1; mso-border-bottom-themecolor: accent1">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span style="mso-themecolor: accent1; mso-themeshade: 191"><span style="color: #365f91; font-size: 11pt;">View Language Features</span></span></b><span style="mso-themecolor: accent1; mso-themeshade: 191; mso-bidi-font-weight: bold"></span></p>
</td>
</tr>
<tr style="height: 14.6pt; mso-yfti-irow: 0;">
<td width="181" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in; mso-background-themecolor: accent1; mso-background-themetint: 63">
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span style="mso-themecolor: accent1; mso-themeshade: 191"><span style="color: #365f91; font-size: 11pt;">Feature</span></span></b><span style="mso-themecolor: accent1; mso-themeshade: 191; mso-bidi-font-weight: bold"></span></p>
</td>
<td width="156" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in; mso-background-themecolor: accent1; mso-background-themetint: 63">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b style="mso-bidi-font-weight: normal"><span style="mso-themecolor: accent1; mso-themeshade: 191"><span style="color: #365f91; font-size: 11pt;">WebFormViewEngine</span></span></b></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in; mso-background-themecolor: accent1; mso-background-themetint: 63">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b style="mso-bidi-font-weight: normal"><span style="mso-themecolor: accent1; mso-themeshade: 191"><span style="color: #365f91; font-size: 11pt;">Spark</span></span></b></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in; mso-background-themecolor: accent1; mso-background-themetint: 63">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b style="mso-bidi-font-weight: normal"><span style="mso-themecolor: accent1; mso-themeshade: 191"><span style="color: #365f91; font-size: 11pt;">NHaml</span></span></b></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in; mso-background-themecolor: accent1; mso-background-themetint: 63">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b style="mso-bidi-font-weight: normal"><span style="mso-themecolor: accent1; mso-themeshade: 191"><span style="color: #365f91; font-size: 11pt;">Razor</span></span></b></p>
</td>
</tr>
<tr style="height: 14.6pt; mso-yfti-irow: 1;">
<td width="181" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span style="mso-themecolor: accent1; mso-themeshade: 191"><span style="color: #365f91; font-size: 11pt;">Multi Line Code Blocks</span></span></b></p>
</td>
<td width="156" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
</tr>
<tr style="height: 14.6pt;">
<td width="181" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Inline Expression</span></span></b></p>
</td>
<td width="156" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
</tr>
<tr style="height: 14.6pt;">
<td width="181" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Local Functions</span></span></b></p>
</td>
<td width="156" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr style="height: 14.6pt;">
<td width="181" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Local Variables</span></span></b></p>
</td>
<td width="156" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
</tr>
<tr style="height: 14.6pt;">
<td width="181" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Global variables</span></span></b></p>
</td>
<td width="156" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr style="height: 14.6pt;">
<td width="181" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Conditional Output</span></span></b></p>
</td>
<td width="156" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
</tr>
<tr style="height: 14.6pt;">
<td width="181" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Support for Multiple Level Conditions</span></span></b></p>
</td>
<td width="156" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
</tr>
<tr style="height: 14.6pt;">
<td width="181" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Loops</span></span></b></p>
</td>
<td width="156" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in"><span>
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</span></td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in"><span>
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</span></td>
</tr>
<tr style="height: 14.6pt;">
<td width="181" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Html Encoding Shortcuts</span></span></b></p>
</td>
<td width="156" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><span style="color: #365f91; font-size: 11pt;">(ASP.NET 4.0)</span></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr style="height: 14.6pt;">
<td width="181" valign="top" height="19" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Global Setting for Html Encoding</span></span></b></p>
</td>
<td width="156" valign="top" height="19" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span><span style="color: #365f91; font-size: 11pt;"> </span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><span style="color: #365f91; font-size: 11pt;">Limited Escape to prevent Html Encoding</span></span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">&nbsp;</p>
<table cellpadding="0" cellspacing="0" border="1" class="auto-style1" style="border-bottom: #4f81bd 1pt solid; border-collapse: collapse; border-top: #4f81bd 1pt solid">
<tbody>
<tr style="height: 14.6pt;">
<td colspan="5" valign="top" height="19" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: #4f81bd 1pt solid; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">View Language Convenience Features</span></span></b><span></span></p>
</td>
</tr>
<tr style="height: 14.6pt;">
<td width="181" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Feature</span></span></b><span></span></p>
</td>
<td width="156" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">WebFormViewEngine</span></span></b></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Spark</span></span></b></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">NHaml</span></span></b></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Razor</span></span></b></p>
</td>
</tr>
<tr style="height: 14.6pt;">
<td width="181" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Global Namespace Imports</span></span></b></p>
</td>
<td width="156" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
</tr>
<tr style="height: 14.6pt;">
<td width="181" valign="top" height="19" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Import Namespaces</span></span></b></p>
</td>
<td width="156" valign="top" height="19" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">&nbsp;</p>
<table cellpadding="0" cellspacing="0" border="1" class="auto-style1" style="border-bottom: #4f81bd 1pt solid; border-collapse: collapse; border-top: #4f81bd 1pt solid">
<tbody>
<tr style="height: 14.6pt;">
<td colspan="5" valign="top" height="19" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: #4f81bd 1pt solid; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Master Page Features</span></span></b><span></span></p>
</td>
</tr>
<tr style="height: 14.6pt;">
<td width="181" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Feature</span></span></b><span></span></p>
</td>
<td width="156" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">WebFormViewEngine</span></span></b></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Spark</span></span></b></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">NHaml</span></span></b></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Razor</span></span></b></p>
</td>
</tr>
<tr style="height: 14.6pt;">
<td width="181" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Single View Master Page</span></span></b></p>
</td>
<td width="156" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
</tr>
<tr style="height: 14.6pt;">
<td width="181" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Global Master Page</span></span></b></p>
</td>
<td width="156" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
</tr>
<tr style="height: 14.6pt;">
<td width="181" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Content Placeholders</span></span></b></p>
</td>
<td width="156" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
</tr>
<tr style="height: 14.6pt;">
<td width="181" valign="top" height="19" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Special Syntax for Partial Views</span></span></b></p>
</td>
<td width="156" valign="top" height="19" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">&nbsp;</p>
<table cellpadding="0" cellspacing="0" border="1" class="auto-style1" style="border-bottom: #4f81bd 1pt solid; border-collapse: collapse; border-top: #4f81bd 1pt solid">
<tbody>
<tr style="height: 14.6pt;">
<td colspan="5" valign="top" height="19" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: #4f81bd 1pt solid; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Other Features</span></span></b><span></span></p>
</td>
</tr>
<tr style="height: 14.6pt;">
<td width="181" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Feature</span></span></b><span></span></p>
</td>
<td width="156" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">WebFormViewEngine</span></span></b></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Spark</span></span></b></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">NHaml</span></span></b></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Razor</span></span></b></p>
</td>
</tr>
<tr style="height: 14.6pt;">
<td width="181" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Support for Editor Templates</span></span></b></p>
</td>
<td width="156" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
</tr>
<tr style="height: 14.6pt;">
<td width="181" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Visual Studio Integration</span></span></b></p>
</td>
<td width="156" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><span style="color: #365f91; font-size: 11pt;">VS 2008/VS 2010 Built in</span></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><span style="color: #365f91; font-size: 11pt;">VS 2008/VS 2010Addins</span></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><span style="color: #365f91; font-size: 11pt;">VS 2008 Addin</span></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><span style="color: #365f91; font-size: 11pt;">VS 2010 - More coming soon</span></span></p>
</td>
</tr>
<tr style="height: 14.6pt;">
<td width="181" valign="top" height="19" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b><span><span style="color: #365f91; font-size: 11pt;">Supports MonoRail</span></span></b></p>
</td>
<td width="156" valign="top" height="19" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
<td width="134" valign="top" height="19" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><span><strong><span style="color: #365f91; font-size: 11pt;">X</span></strong></span></p>
</td>
</tr>
</tbody>
</table>
<h1 style="line-height: 16pt; margin: 24pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #365f91; font-size: 14pt;"><span style="font-weight: bold;">Desired Features</span></span></span></h1>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">I created the following list of features after porting the views from the NerdDinner (<a href="http://nerddinner.codeplex.com/"><span style="color: #0000ff;">http://nerddinner.codeplex.com/</span></a>) example to Spark, NHaml, and Razor. The features mentioned are&nbsp; the different features I had to learn in order to convert the views to the different view engines. I&rsquo;ve grouped the features into four areas: view language, view language convenience, master page features, and&nbsp;&nbsp; miscellaneous features.</p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">View Language Features</span></span></span></h2>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Multi Line Code Blocks</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Allows you to write multiple lines of code in your views. A related feature is local variables.</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Inline Expression</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">An Inline Expression allows you to put a code expression inside static content in the view.</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Local Functions</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Local Functions provide the ability to create functions&nbsp; that can be called in multiple view locations.&nbsp; A related feature is Multi Line Code Blocks.</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Local Variables</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Provide a variable that is scoped to the view.</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Global Variables</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Allows you to provide variables available to all views in your site.</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Conditional Output</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Allows you to use if/else statements to control the output.</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Support for Multiple Level Conditionals</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Provides the ability to nest if/then statements.&nbsp; Conditional output is a related feature.</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Loops</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Allows you to use loop structures to provide repetitive data output.</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Html Encoding Shortcuts</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Provides shortcuts to ensuring returned output is HtmlEncoded. </p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Global Setting for Html Encoding</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Provides the ability to automatically HtmlEncode returned content. </p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">View Language Convenience Features</span></span></span></h2>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Import Namespaces</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Allows you to import a namespace for a given view so you don&rsquo;t need to type the fully qualified name of your objects..</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Global Namespace Imports</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Ability to set a namespace import for all views in one location.</p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Master Page Features</span></span></span></h2>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Single View Master Page</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Provides the ability to set a master page for a single view.</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Global Master Page</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Ability to have a master page that is used for all views by default.</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Content Placeholders</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">This feature has two parts. One part allows you to put placeholders in your master page. The second part allows you to specify the content to put in those placeholders. This means a view can optionally populate multiple content placeholders in the master page.</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Special Syntax for Partial Views</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Provides view language syntax to indicate where a partial view should be output. This is an alternative&nbsp; to the MVC&rsquo;s framework Html helper extension (Html.RenderPartial).</p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Other Features</span></span></span></h2>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Support for Editor Templates</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Editor Templates are an MVC 2 feature and allow you to declare what editor template you want loaded on your model classes. Editor Templates are a feature of the ASP.NET MVC framework and are not a feature of the view engine. Not all view engines, however, are able to parse the syntax used to make this work.</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Visual Studio Integration</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Visual Studio integration includes tooling for creating views, as well as IntelliSense and keyword coloring&mdash;things we take for granted most of the time.</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Support of Other MVC Frameworks</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Ability to use the same view engine with other .NET MVC Frameworks (like Castle&rsquo;s MonoRail).</p>
<h1 style="line-height: 16pt; margin: 24pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #365f91; font-size: 14pt;"><span style="font-weight: bold;">View Engines Evaluated in this Developer Review</span></span></span></h1>
<h2 align="center" style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: "><span style="font-family: Verdana;"><span style="font-size: 13pt;"><span style="font-weight: bold;">ASP.NET MVC Default View Engine (WebFormViewEngine)</span></span></span></span></h2>
<table cellpadding="0" cellspacing="0" border="1" class="LightShading-Accent11" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: #4f81bd 1pt solid; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Website</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: #4f81bd 1pt solid; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><a href="http://www.asp.net/mvc"><span style="color: #800080; font-size: 11pt;"><strong>http://www.asp.net/mvc</strong></span></a></span></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Download site</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><a href="http://www.asp.net/downloads"><span style="color: #0000ff; font-size: 11pt;">http://www.asp.net/downloads</span></a></span></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">License</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">Microsoft Public License (MS-PL)</span></span></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Last Release</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">MVC 2.0 (Last Release), MVC 3 Preview 1</span></span></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Creator(s)</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">ASP.NET MVC Team at Microsoft</span></span></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Support Forum</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><a href="http://forums.asp.net/1146.aspx"><span style="color: #0000ff; font-size: 11pt;">http://forums.asp.net/1146.aspx</span></a></span></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Languages Supported</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">C#, Visual Basic</span></span></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: #4f81bd 1pt solid; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">ASP.NET MVC Versions</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">1.0, 2.0, 3 (Preview 1)</span></span></p>
</td>
</tr>
</tbody>
</table>
<h2 align="center" style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: "><span style="font-family: Verdana;"><span style="font-size: 13pt;"><span style="font-weight: bold;">Spark View Engine</span></span></span></span></h2>
<table cellpadding="0" cellspacing="0" border="1" class="LightShading-Accent11" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: #4f81bd 1pt solid; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Website</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: #4f81bd 1pt solid; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">http://sparkviewengine.com/</span></span></b></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Download site</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">http://sparkviewengine.codeplex.com/</span></span></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">License</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">Apache License, Version 2.0</span></span></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Last Release</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">Spark v1.1 (March 11, 2010)</span></span></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Creator(s)</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">Louis DeJardin</span></span></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Support Forum</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><a href="http://groups.google.com/group/spark-dev?pli=1"><span style="color: #0000ff; font-size: 11pt;">http://groups.google.com/group/spark-dev?pli=1</span></a></span></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Languages Supported</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">C#, Visual Basic, Iron Python, Iron Ruby</span></span></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: #4f81bd 1pt solid; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">ASP.NET MVC Versions</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">1.0, 2.0 </span></span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">&nbsp;</p>
<h2 align="center" style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: "><span style="font-family: Verdana;"><span style="font-size: 13pt;"><span style="font-weight: bold;">NHaml View Engine</span></span></span></span></h2>
<table cellpadding="0" cellspacing="0" border="1" class="LightShading-Accent11" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: #4f81bd 1pt solid; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Website</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: #4f81bd 1pt solid; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">http://code.google.com/p/nhaml/</span></span></b></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Download site</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">http://code.google.com/p/nhaml/downloads/list</span></span></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">License</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">MIT License</span></span></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Last Release</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">Nhaml-2.0-beta-4 (August, 20, 2010)</span></span></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Creator(s)</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">Andrew Peters</span></span></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Support Forum</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">http://groups.google.com/group/nhaml-users</span></span></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Languages Supported</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">C#, Visual Basic, Iron Ruby, Boo, F#</span></span></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: #4f81bd 1pt solid; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">ASP.NET MVC Versions</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">1.0, 2.0</span></span></p>
</td>
</tr>
</tbody>
</table>
<h2 align="center" style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: "><span style="font-family: Verdana;"><span style="font-size: 13pt;"><span style="font-weight: bold;">Razor</span></span></span></span></h2>
<table cellpadding="0" cellspacing="0" border="1" class="LightShading-Accent11" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: #4f81bd 1pt solid; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Website</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: #4f81bd 1pt solid; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><a href="http://www.asp.net/mvc"><span style="color: #800080; font-size: 11pt;"><strong>http://www.asp.net/mvc</strong></span></a><strong><span style="color: #365f91; font-size: 11pt;"> and http://www.asp.net/WebMatrix</span></strong></span></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">License</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Last Release</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">Pre-releases: WebMatrix Beta and MVC 3 Preview 1</span></span></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Creator(s)</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">ASP.NET MVC Team at Microsoft</span></span></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Support Forum</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">http://forums.asp.net/1146.aspx</span></span></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: medium none; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Languages Supported</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">C#, Visual Basic</span></span></p>
</td>
</tr>
<tr>
<td width="175" valign="top" style="border-bottom: #4f81bd 1pt solid; border-left: #4f81bd 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">ASP.NET MVC Version</span></span></b></p>
</td>
<td width="463" valign="top" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: #4f81bd 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">3 (Preview 1)</span></span></p>
</td>
</tr>
</tbody>
</table>
<h1 style="line-height: 16pt; margin: 24pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #365f91; font-size: 14pt;"><span style="font-weight: bold;">ASP.NET MVC Default View Engine (aka WebFormViewEngine)</span></span></span></h1>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">If you&rsquo;ve written any views in MVC, you&rsquo;ve used the WebFormViewEngine view engine at one point or another. The syntax for writing views with this engine is the same syntax ASP.NET Web Forms uses for .aspx pages.</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">The default view engine used by ASP.NET MVC is powerful, mature and can do everything you need to do in a view &ndash; after all it stands on the shoulders of ASP.NET. Due to its IViewEngine implementation being in the class named WebFormViewEngine, the ASP.Net MVC default view engine is sometimes called the WebFormViewEngine. </p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">The WebFormViewEngine is different than the other view engines in this review in that it extends ASP.NET&rsquo;s Page class for its views. This allows the view engine to use a lot of the ASP.NET infrastructure to do the heavy lifting of parsing and compiling the view content.</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">The file extensions used are also borrowed from ASP.NET: .aspx for views, .ascx for partial views (and editor templates), and .master for master pages.&nbsp; </p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">The following is a screen shot of a view written with the default ASP.NET MVC view engine:</p>
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><a href="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/6758.image_5F00_2.png"><img height="440" width="500" src="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/2548.image_5F00_thumb.png" alt="image" border="0" title="image" style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; margin-left: auto; border-left-width: 0px; margin-right: auto; padding-top: 0px" /></a> <br /><strong>Screenshot 1.&nbsp; NerdDinners Dinner/Index Views using default view engine</strong></p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">&nbsp;</p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">History</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">The WebFormViewEngine&rsquo;s history starts with ASP.NET MVC, which hit CTP in December 2007. Currently, it is the only view engine that ships with ASP.NET MVC.&nbsp; This view engine extends ASP.NET&rsquo;s Page object to provide the view abstraction to MVC.&nbsp; This allows views to be written in the same web forms syntax used in ASP.NET web pages. The server-side escape syntax used by the view engine (<span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00;">&lt;%</span></span> &hellip; <span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00;">%&gt;</span></span>) dates back to Classic ASP (that is, before .Net).&nbsp; </p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">The base classes used by the WebFormViewEngine&mdash;ViewPage, ViewMasterPage, and ViewUserControl&mdash;are derived from the ASP.NET relatives Page, MasterPage, and UserControl, respectively, thus providing a mature rendering capability to the view.</p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Key Features</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">The WebFormViewEngine supports fourteen&nbsp; desired features.</p>
<table cellpadding="0" cellspacing="0" border="1" class="LightShading-Accent11" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: #548dd4 1pt solid; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Feature</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: #548dd4 1pt solid; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Notes</span></span></b></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: #548dd4 1pt solid; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Multi Line Code Blocks</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: #548dd4 1pt solid; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Inline Expression</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Local Functions</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Local Variables</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Conditional Output</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Support for Multiple Level Conditionals</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Loops</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Html Encoding Shortcut</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">Only when using ASP.NET 4.0</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Global Namespace Import</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">Add in the web.config</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Import Namespace</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Single View Master Page</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">2 Options: Page Directive or Change in the Controller</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Content Placeholders</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Support for Editor Templates</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Visual Studio Integration</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">Best support of all view engines</span></span></p>
</td>
</tr>
</tbody>
</table>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Getting Started</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">If you have ASP.NET MVC installed, you already have the WebFormViewEngine installed (if needed, download the ASP.NET MVC framework from <a href="http://www.asp.net/downloads"><span style="color: #0000ff;">http://www.asp.net/downloads</span></a>).</p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Dependencies</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">The WebFormViewEngine is included in the System.Web.Mvc.dll, so the view engine is versioned with the ASP.NET MVC framework you reference. However, some of the features of the WebFormViewEngine are dependent on the version of the .Net framework/ASP.NET you are using. For example, if you are using .Net 3.5, to Html encode an output value you need to use syntax like the following:</p>
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><a href="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/1464.image_5F00_4.png"><strong><img height="49" width="374" src="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/8306.image_5F00_thumb_5F00_1.png" alt="image" border="0" title="image" style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" /></strong></a> <br /><strong>Figure 1.&nbsp; ASP.NET Html Encode</strong> </p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">If you are using .Net 4.0, you can use the new &ldquo;Code Nugget&rdquo; syntax to do the same thing:</p>
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><a href="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/8802.image_5F00_6.png"><strong><img height="50" width="259" src="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/6266.image_5F00_thumb_5F00_2.png" alt="image" border="0" title="image" style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" /></strong></a> <br /><strong>Figure 2. ASP.NET 4.0 Html Encoding Syntax</strong></p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Feature Syntax</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Since syntax is one of the main reasons you may want to use an alternative view engine, I have included some examples of the corresponding key features. This is not meant to be a language reference; rather, it is included to help you get a feel for how you may implement a view using the different view engines:</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of a Multi-Line Code Block</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<pre style="margin: 0in 0in 0pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%"><span style="background-color: #ffff00; font-family: Consolas; font-size: 10pt;">&lt;%</span></span><span style="font-family: "><span style="font-size: 10pt;">

<span style="font-family: Consolas;">           </span></span><span style="font-family: Consolas;"><span><span style="color: #0000ff; font-size: 10pt;">string</span></span><span style="font-size: 10pt;"> message = </span><span><span style="color: #a31515; font-size: 10pt;">"The time is: {0}"</span></span></span><span style="font-family: Consolas;"><span style="font-size: 10pt;">;

           </span><span><span style="color: #0000ff; font-size: 10pt;">string</span></span><span style="font-size: 10pt;"> timeString = </span><span><span style="color: #2b91af; font-size: 10pt;">DateTime</span></span></span><span style="font-family: Consolas;"><span style="font-size: 10pt;">.Now.ToShortTimeString();

           </span><span><span style="color: #0000ff; font-size: 10pt;">string</span></span><span style="font-size: 10pt;"> output = </span><span><span style="color: #0000ff; font-size: 10pt;">string</span></span></span><span style="font-family: Consolas;"><span style="font-size: 10pt;">.Format(message, timeString);

  </span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">%&gt;</span></span></span><span style="font-size: 10pt;">

<span style="font-family: Consolas;">&nbsp; The result from serverside code is: </span></span><span style="font-family: Consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">&lt;%</span></span><span><span style="color: #0000ff; font-size: 10pt;">=</span></span><span style="font-size: 10pt;">output </span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">%&gt;</span></span></span></span></pre>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 1. Mult-Line Code Block - ASPX</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Inline Expression</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<pre style="margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="color: #0000ff; font-size: 10pt;">&nbsp;</span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 10pt;">&lt;</span></span><span style="font-family: "><span style="color: #800000; font-size: 10pt;">script</span></span><span style="font-family: "><span style="font-size: 10pt;">&nbsp;</span><span><span style="color: #ff0000; font-size: 10pt;">src</span></span><span><span style="color: #0000ff; font-size: 10pt;">="</span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">&lt;%</span></span><span><span style="color: #0000ff; font-size: 10pt;">=</span></span><span style="font-size: 10pt;">Url.Content("~/Scripts/MSAjaxHistoryBundle.js")</span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">%&gt;</span></span><span><span style="color: #0000ff; font-size: 10pt;">"</span></span><span style="font-size: 10pt;">&nbsp;</span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 10pt;">    </span><span><span style="color: #ff0000; font-size: 10pt;">type</span></span><span><span style="color: #0000ff; font-size: 10pt;">="text/javascript"&gt;&lt;/</span></span><span><span style="color: #800000; font-size: 10pt;">script</span></span><span><span style="color: #0000ff; font-size: 10pt;">&gt;</span></span></span></span></pre>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 2.&nbsp; Inline C# Code - ASPX</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of a Local Function</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<pre style="margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 10pt;">&lt;</span></span><span style="font-family: "><span style="color: #800000; font-size: 10pt;">script</span></span></span><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 10pt;">&nbsp;</span><span><span style="color: #ff0000; font-size: 10pt;">runat</span></span><span><span style="color: #0000ff; font-size: 10pt;">="server"&gt;</span></span></span><span style="font-size: 10pt;">

<span style="font-family: Consolas;">  </span></span><span><span style="font-family: Consolas; color: #0000ff; font-size: 10pt;">    string</span></span><span style="font-family: Consolas;"><span style="font-size: 10pt;"> FunctionCallOnServerSide()

    {

           </span><span><span style="color: #0000ff; font-size: 10pt;">return</span></span><span style="font-size: 10pt;">&nbsp;</span><span><span style="color: #a31515; font-size: 10pt;">"Hello World!"</span></span></span><span style="font-family: Consolas;"><span style="font-size: 10pt;">;

    }

  </span><span><span style="color: #0000ff; font-size: 10pt;">&lt;/</span></span><span><span style="color: #800000; font-size: 10pt;">script</span></span><span><span style="color: #0000ff; font-size: 10pt;">&gt;</span></span></span><span style="font-size: 10pt;">

<span style="font-family: Consolas;">&nbsp; </span></span><span style="font-family: Consolas;"><span><span style="color: #0000ff; font-size: 10pt;">&lt;</span></span><span><span style="color: #800000; font-size: 10pt;">div</span></span><span><span style="color: #0000ff; font-size: 10pt;">&gt;</span></span></span><span style="font-size: 10pt;">

<span style="font-family: Consolas;">    This is client side html

    Server Says: </span></span><span style="font-family: Consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">&lt;%</span></span><span><span style="color: #0000ff; font-size: 10pt;">=</span></span><span style="font-size: 10pt;">FunctionCallOnServerSide() </span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">%&gt;</span></span></span><span style="font-size: 10pt;">

<span style="font-family: Consolas;">    and more client side html

  </span></span><span style="font-family: Consolas;"><span><span style="color: #0000ff; font-size: 10pt;">&lt;/</span></span><span><span style="color: #800000; font-size: 10pt;">div</span></span><span><span style="color: #0000ff; font-size: 10pt;">&gt;</span></span></span></span></pre>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 3.&nbsp; Local Function - ASPX</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of a Local Variable</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<pre style="margin: 0in 0in 0pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%"><span style="background-color: #ffff00; font-family: Consolas; font-size: 10pt;">&lt;%</span></span><span style="font-family: "><span style="font-size: 10pt;">

<span style="font-family: Consolas;">           </span></span><span style="font-family: Consolas;"><span><span style="color: #0000ff; font-size: 10pt;">string</span></span><span style="font-size: 10pt;"> message = </span><span><span style="color: #a31515; font-size: 10pt;">"Hello World"</span></span><span style="font-size: 10pt;">;</span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%"><span style="background-color: #ffff00; font-family: Consolas; font-size: 10pt;">%&gt;</span></span><span style="font-family: "><span style="font-size: 10pt;">

<span style="font-family: Consolas;">&nbsp; The result message is: </span></span><span style="font-family: Consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">&lt;%</span></span><span><span style="color: #0000ff; font-size: 10pt;">= </span></span><span style="font-size: 10pt;">message </span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">%&gt;</span></span></span></span></pre>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 4. Local Variable Usage - ASPX</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Conditional Output</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<pre style="margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 10pt;">&lt;</span></span><span style="font-family: "><span style="color: #800000; font-size: 10pt;">strong</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 10pt;">&gt;</span></span></span><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 10pt;">Who's Coming:</span><span><span style="color: #0000ff; font-size: 10pt;">&lt;/</span></span><span><span style="color: #800000; font-size: 10pt;">strong</span></span><span><span style="color: #0000ff; font-size: 10pt;">&gt;</span></span></span><span style="font-size: 10pt;">

<span style="font-family: Consolas;">  </span></span><span style="font-family: Consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">&lt;% </span></span><span><span style="color: #0000ff; font-size: 10pt;">if</span></span><span style="font-size: 10pt;"> (Model.RSVPs.Count == 0){</span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">%&gt;</span></span></span><span style="font-size: 10pt;">

<span style="font-family: Consolas;">    </span></span><span style="font-family: Consolas;"><span><span style="color: #0000ff; font-size: 10pt;">&lt;</span></span><span><span style="color: #800000; font-size: 10pt;">span</span></span><span><span style="color: #0000ff; font-size: 10pt;">&gt;</span></span><span style="font-size: 10pt;">No one has registered.</span><span><span style="color: #0000ff; font-size: 10pt;">&lt;/</span></span><span><span style="color: #800000; font-size: 10pt;">span</span></span><span><span style="color: #0000ff; font-size: 10pt;">&gt;</span></span></span><span style="font-size: 10pt;">

<span style="font-family: Consolas;">  </span></span><span style="font-family: Consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">&lt;%</span></span><span style="font-size: 10pt;"> } </span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">%&gt;</span></span></span></span></pre>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 5.&nbsp; Conditional Output - ASPX</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Multi Level Condition Output</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<pre style="margin: 0in 0in 0pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%"><span style="background-color: #ffff00; font-family: Consolas; font-size: 10pt;">&lt;%</span></span><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 10pt;">&nbsp;</span><span><span style="color: #0000ff; font-size: 10pt;">if</span></span><span style="font-size: 10pt;"> (Request.IsAuthenticated) { </span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">%&gt;</span></span></span><span style="font-size: 10pt;">

<span style="font-family: Consolas;">  </span></span><span style="font-family: Consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">&lt;%</span></span><span style="font-size: 10pt;">&nbsp;</span><span><span style="color: #0000ff; font-size: 10pt;">if</span></span><span style="font-size: 10pt;"> (Model.IsHostedBy(Context.User.Identity.Name)) { </span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">%&gt;</span></span></span><span style="font-size: 10pt;">

<span style="font-family: Consolas;">    </span></span><span style="font-family: Consolas;"><span><span style="color: #0000ff; font-size: 10pt;">&lt;</span></span><span><span style="color: #800000; font-size: 10pt;">p</span></span><span><span style="color: #0000ff; font-size: 10pt;">&gt;</span></span><span style="font-size: 10pt;">You are the host for this event!</span><span><span style="color: #0000ff; font-size: 10pt;">&lt;/</span></span><span><span style="color: #800000; font-size: 10pt;">p</span></span><span><span style="color: #0000ff; font-size: 10pt;">&gt;</span></span></span><span style="font-size: 10pt;">

<span style="font-family: Consolas;">&nbsp; </span></span><span style="font-family: Consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">&lt;%</span></span><span style="font-size: 10pt;"> } </span><span><span style="color: #0000ff; font-size: 10pt;">else</span></span><span style="font-size: 10pt;"> { (Model.IsUserRegistered(Context.User.Identity.Name)) { </span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">%&gt;</span></span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"></span></span><span style="font-family: Consolas;"><span style="font-size: 10pt;">&nbsp;&nbsp;&nbsp; </span><span><span style="color: #0000ff; font-size: 10pt;">&lt;</span></span><span><span style="color: #800000; font-size: 10pt;">p</span></span><span><span style="color: #0000ff; font-size: 10pt;">&gt;</span></span><span style="font-size: 10pt;">You are registered for this event!</span><span><span style="color: #0000ff; font-size: 10pt;">&lt;/</span></span><span><span style="color: #800000; font-size: 10pt;">p</span></span><span><span style="color: #0000ff; font-size: 10pt;">&gt;</span></span><span style="font-size: 10pt;">&nbsp;&nbsp; </span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 10pt;">&nbsp; </span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">&lt;%</span></span><span style="font-size: 10pt;"> } </span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">%&gt;</span></span></span><span style="font-family: Consolas;"><span style="font-size: 10pt;">&nbsp;&nbsp; </span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">&lt;%</span></span><span style="font-size: 10pt;"> } </span><span><span style="color: #0000ff; font-size: 10pt;">else</span></span><span style="font-size: 10pt;"> { </span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">%&gt;</span></span></span><span style="font-size: 10pt;">

<span style="font-family: Consolas;">&nbsp; </span></span><span style="font-family: Consolas;"><span><span style="color: #0000ff; font-size: 10pt;">&lt;</span></span><span><span style="color: #800000; font-size: 10pt;">strong</span></span><span><span style="color: #0000ff; font-size: 10pt;">&gt;</span></span><span style="font-size: 10pt;">RSVP for this event:</span><span><span style="color: #0000ff; font-size: 10pt;">&lt;/</span></span><span><span style="color: #800000; font-size: 10pt;">strong</span></span><span><span style="color: #0000ff; font-size: 10pt;">&gt;</span></span></span><span style="font-size: 10pt;">

<span style="font-family: Consolas;">  </span></span><span style="font-family: Consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">&lt;%</span></span><span style="font-size: 10pt;"> } </span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">%&gt;</span></span></span></span></pre>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 6.&nbsp; Multi-Level Condition Output - ASPX</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of For Loop</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<pre style="margin: 0in 0in 0pt"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%"><span style="background-color: #ffff00; font-family: Consolas; font-size: 10pt;">&lt;%</span></span><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 10pt;">&nbsp;</span><span><span style="color: #0000ff; font-size: 10pt;">foreach</span></span><span style="font-size: 10pt;"> (</span><span><span style="color: #0000ff; font-size: 10pt;">var</span></span><span style="font-size: 10pt;"> dinner </span><span><span style="color: #0000ff; font-size: 10pt;">in</span></span><span style="font-size: 10pt;"> Model) { </span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">%&gt;</span></span></span><span style="font-size: 10pt;">
<span style="font-family: Consolas;">  </span></span><span style="font-family: Consolas;"><span><span style="color: #0000ff; font-size: 10pt;">&lt;</span></span><span><span style="color: #800000; font-size: 10pt;">li</span></span><span><span style="color: #0000ff; font-size: 10pt;">&gt;</span></span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;"><span style="background-color: #ffffff;">    </span>&lt;%</span></span><span><span style="color: #0000ff; font-size: 10pt;">:</span></span><span style="font-size: 10pt;"> Html.ActionLink(dinner.Title, </span><span><span style="color: #a31515; font-size: 10pt;">"Details"</span></span><span style="font-size: 10pt;">, </span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: x-small;">           <span><span style="color: #0000ff; font-size: 10pt;">new</span></span><span style="font-size: 10pt;"> { id=dinner.DinnerID }) </span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">%&gt;</span></span></span></span><span style="font-size: 10pt;">
<span style="font-family: Consolas;">&nbsp; </span></span><span style="font-family: Consolas;"><span><span style="color: #0000ff; font-size: 10pt;">&lt;/</span></span><span><span style="color: #800000; font-size: 10pt;">li</span></span><span><span style="color: #0000ff; font-size: 10pt;">&gt;</span></span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span></span></span><span style="font-family: Consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">&lt;%</span></span><span style="font-size: 10pt;"> } </span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">%&gt;</span></span></span></span></pre>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 7.&nbsp; For Loop - ASPX</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Html Encoding Shortcut</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 9.5pt;">&lt;%</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">:</span></span><span style="font-family: "><span style="font-size: 9.5pt;"> dinner.Address + </span><span><span style="color: #a31515; font-size: 9.5pt;">" "</span></span><span style="font-size: 9.5pt;"> + dinner.Country </span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 9.5pt;">%&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Code Sample 8.&nbsp; Html Encoding Shortcut</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Global Namespace Import in Web.Config</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">pages</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">controlRenderingCompatibilityVersion</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">3.5</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span><span style="color: #ff0000; font-size: 9.5pt;">clientIDMode</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">AutoID</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">namespaces</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">namespace</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">System.Web.Mvc</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> /&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">namespace</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">System.Web.Mvc.Ajax</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> /&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 9.&nbsp; Global Namespace Import - ASPX</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Importing a Namespace in a View</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 9.5pt;">&lt;%</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">@</span></span><span style="font-family: "><span style="font-size: 9.5pt;"> </span><span><span style="color: #800000; font-size: 9.5pt;">Import</span></span><span style="font-size: 9.5pt;"> </span><span><span style="color: #ff0000; font-size: 9.5pt;">Namespace</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">=&rdquo;NerdDinner.Helpers"</span></span><span style="font-size: 9.5pt;"> </span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 9.5pt;">%&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 10. Namespace Import - ASPX</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Setting Master Page in View&rsquo;s Page Directive</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<pre style="margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; font-family: ; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">&lt;%</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 10pt;">@</span></span><span style="font-family: "><span style="font-size: 10pt;">&nbsp;</span><span><span style="color: #800000; font-size: 10pt;">Page</span></span><span style="font-size: 10pt;">&nbsp;</span><span><span style="color: #ff0000; font-size: 10pt;">Language</span></span><span><span style="color: #0000ff; font-size: 10pt;">="C#"</span></span><span style="font-size: 10pt;">&nbsp;</span><span><span style="color: #ff0000; font-size: 10pt;">MasterPageFile</span></span><span><span style="color: #0000ff; font-size: 10pt;">="~/Views/Shared/Site.Master"</span></span><span style="font-size: 10pt;">&nbsp;</span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 10pt;">  </span><span><span style="color: #ff0000; font-size: 10pt;">Inherits</span></span><span><span style="color: #0000ff; font-size: 10pt;">="System.Web.Mvc.ViewPage"</span></span><span style="font-size: 10pt;">&nbsp;</span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">%&gt;</span></span></span></span></pre>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 11.&nbsp; Setting MasterPageFile attribute in Page Directive - ASPX</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Changing Master Page in Controller:</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<pre style="margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas; color: #0000ff; font-size: 10pt;">public</span></span><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 10pt;">&nbsp;</span><span><span style="color: #2b91af; font-size: 10pt;">ActionResult</span></span></span><span style="font-family: Consolas;"><span style="font-size: 10pt;"> About() {
 </span><span><span style="color: #0000ff; font-size: 10pt;">  var</span></span></span><span style="font-family: Consolas;"><span style="font-size: 10pt;"> result = View();
   result.MasterName = </span><span><span style="color: #a31515; font-size: 10pt;">"AlternateMaster"</span></span></span><span style="font-family: Consolas;"><span style="font-size: 10pt;">;&nbsp;&nbsp; </span><span><span style="color: #0000ff; font-size: 10pt;">  </span></span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span><span style="color: #0000ff; font-size: 10pt;">   return</span></span><span style="font-size: 10pt;"> result;
}</span></span></span></pre>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 12.&nbsp; Setting MasterName Property of a View - ASPX</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Master Page with Content Placeholders</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<pre style="margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 10pt;">&lt;</span></span><span style="font-family: "><span style="color: #800000; font-size: 10pt;">head</span></span></span><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 10pt;">&nbsp;</span><span><span style="color: #ff0000; font-size: 10pt;">id</span></span><span><span style="color: #0000ff; font-size: 10pt;">="Head1"</span></span><span style="font-size: 10pt;">&nbsp;</span><span><span style="color: #ff0000; font-size: 10pt;">runat</span></span><span><span style="color: #0000ff; font-size: 10pt;">="server"&gt;</span></span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas; color: #0000ff; font-size: x-small;"><span>   </span></span><span style="font-family: Consolas;"><span><span style="color: #0000ff; font-size: 10pt;">&lt;</span></span><span><span style="color: #800000; font-size: 10pt;">title</span></span><span><span style="color: #0000ff; font-size: 10pt;">&gt;</span></span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span><span style="color: #0000ff; font-size: 10pt;">      &lt;</span></span><span><span style="color: #800000; font-size: 10pt;">asp</span></span><span><span style="color: #0000ff; font-size: 10pt;">:</span></span><span><span style="color: #800000; font-size: 10pt;">ContentPlaceHolder</span></span><span style="font-size: 10pt;">&nbsp;</span><span><span style="color: #ff0000; font-size: 10pt;">ID</span></span><span><span style="color: #0000ff; font-size: 10pt;">="TitleContent"</span></span><span style="font-size: 10pt;">&nbsp;</span><span><span style="color: #ff0000; font-size: 10pt;">runat</span></span><span><span style="color: #0000ff; font-size: 10pt;">="server"</span></span><span style="font-size: 10pt;">&nbsp;</span><span><span style="color: #0000ff; font-size: 10pt;">/&gt;</span></span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span><span style="color: #0000ff; font-size: 10pt;">   &lt;/</span></span><span><span style="color: #800000; font-size: 10pt;">title</span></span><span><span style="color: #0000ff; font-size: 10pt;">&gt;</span></span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span><span style="color: #0000ff; font-size: 10pt;">   &lt;</span></span><span><span style="color: #800000; font-size: 10pt;">asp</span></span><span><span style="color: #0000ff; font-size: 10pt;">:</span></span><span><span style="color: #800000; font-size: 10pt;">ContentPlaceHolder</span></span><span><span style="color: #ff0000; font-size: 10pt;"> ID</span></span><span><span style="color: #0000ff; font-size: 10pt;">="HeadContent" </span></span><span><span style="color: #ff0000; font-size: 10pt;">runat</span></span><span><span style="color: #0000ff; font-size: 10pt;">="server"</span></span><span style="font-size: 10pt;">&nbsp;</span><span><span style="color: #0000ff; font-size: 10pt;">/&gt;</span></span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span></span></span><span style="font-family: Consolas;"><span><span style="color: #0000ff; font-size: 10pt;">&lt;/</span></span><span><span style="color: #800000; font-size: 10pt;">head</span></span><span><span style="color: #0000ff; font-size: 10pt;">&gt;</span></span><span style="font-size: 10pt;">&nbsp;&nbsp;&nbsp; </span></span></span></pre>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 13.&nbsp; Master Page with ContentPlaceholders - ASPX</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of View with Multiple Content Elements</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<pre style="margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 10pt;">&lt;</span></span><span style="font-family: "><span style="color: #800000; font-size: 10pt;">asp</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 10pt;">:</span></span><span style="font-family: "><span style="color: #800000; font-size: 10pt;">Content</span></span></span><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 10pt;">&nbsp;</span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: x-small;">   <span><span style="color: #ff0000; font-size: 10pt;">ID</span></span><span><span style="color: #0000ff; font-size: 10pt;">="TitleArea"</span></span><span style="font-size: 10pt;">&nbsp;</span></span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: x-small;">   <span><span style="color: #ff0000; font-size: 10pt;">ContentPlaceHolderID</span></span><span><span style="color: #0000ff; font-size: 10pt;">="TitleContent"</span></span><span style="font-size: 10pt;">&nbsp;</span></span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: x-small;">   <span><span style="color: #ff0000; font-size: 10pt;">runat</span></span><span><span style="color: #0000ff; font-size: 10pt;">="server"&gt;</span></span></span></span><span style="font-size: 10pt;">
<span style="font-family: Consolas;">&nbsp;&nbsp;&nbsp;&nbsp; About
</span></span><span style="font-family: Consolas;"><span><span style="color: #0000ff; font-size: 10pt;">&lt;/</span></span><span><span style="color: #800000; font-size: 10pt;">asp</span></span><span><span style="color: #0000ff; font-size: 10pt;">:</span></span><span><span style="color: #800000; font-size: 10pt;">Content</span></span><span><span style="color: #0000ff; font-size: 10pt;">&gt;</span></span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span></span></span><span style="font-family: Consolas;"><span><span style="color: #0000ff; font-size: 10pt;">&lt;</span></span><span><span style="color: #800000; font-size: 10pt;">asp</span></span><span><span style="color: #0000ff; font-size: 10pt;">:</span></span><span><span style="color: #800000; font-size: 10pt;">Content</span></span><span style="font-size: 10pt;">&nbsp;</span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: x-small;">   <span><span style="color: #ff0000; font-size: 10pt;">ID</span></span><span><span style="color: #0000ff; font-size: 10pt;">="HeadArea"</span></span><span style="font-size: 10pt;">&nbsp;</span></span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: x-small;">   <span><span style="color: #ff0000; font-size: 10pt;">ContentPlaceHolderID</span></span><span><span style="color: #0000ff; font-size: 10pt;">="HeadContent"</span></span><span style="font-size: 10pt;">&nbsp;</span></span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: x-small;">   <span><span style="color: #ff0000; font-size: 10pt;">runat</span></span><span><span style="color: #0000ff; font-size: 10pt;">="server"&gt;</span></span></span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="color: #0000ff; font-size: x-small;"><span>   </span></span></span><span style="font-family: Consolas;"><span><span style="color: #0000ff; font-size: 10pt;">&lt;</span></span><span><span style="color: #800000; font-size: 10pt;">script</span></span><span style="font-size: 10pt;">&nbsp;</span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: x-small;">     <span><span style="color: #ff0000; font-size: 10pt;">src</span></span><span><span style="color: #0000ff; font-size: 10pt;">="</span></span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">&lt;%</span></span><span><span style="color: #0000ff; font-size: 10pt;">=</span></span><span style="font-size: 10pt;">Url.Content("~/Scripts/jquery-1.4.1.min.js")</span><span style="background-image: none; background-attachment: scroll; background-repeat: repeat; background-position: 0% 0%"><span style="background-color: #ffff00; font-size: 10pt;">%&gt;</span></span><span><span style="color: #0000ff; font-size: 10pt;">"</span></span><span style="font-size: 10pt;">&nbsp;</span></span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #ff0000; font-size: 10pt;">     type</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 10pt;">="text/javascript"&gt;&lt;/</span></span><span style="font-family: "><span style="color: #800000; font-size: 10pt;">script</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 10pt;">&gt;</span></span></span></pre>
<pre style="margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "></span></span><span style="font-family: "><span style="font-family: Consolas;"><span><span style="color: #0000ff; font-size: 10pt;"><span style="font-size: 10pt;"></span>&lt;/</span></span><span><span style="color: #800000; font-size: 10pt;">asp</span></span><span><span style="color: #0000ff; font-size: 10pt;">:</span></span><span><span style="color: #800000; font-size: 10pt;">Content</span></span><span><span style="color: #0000ff; font-size: 10pt;">&gt;</span></span></span></span></pre>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 14. View with Content Elements - ASPX</i></p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Visual Studio Integration</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Being the first view engine for ASP.NET MVC also means that the WebFormViewEngine has an advantage over other view engines when it comes to Visual Studio tooling and support.&nbsp;&nbsp; Once you install ASP.NET MVC, you have the default view engine integrated into Visual Studio &ndash; which provides a lot of tooling for your views. </p>
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><a href="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/3034.image_5F00_8.png"><strong><img height="441" width="447" src="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/5287.image_5F00_thumb_5F00_3.png" alt="image" border="0" title="image" style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" /></strong></a> <br /><strong>Figure 1.&nbsp; Add View Dialog</strong></p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">The Visual Studio tooling provides an <b>Add View Dialog</b> (shown above) when you create a new view, which provides the following features:</p>
<p class="MsoListParagraphCxSpFirst" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 0pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>Ability to specify whether the view is a partial view or normal view</p>
<p class="MsoListParagraphCxSpMiddle" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 0pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>Choice of the type of view model you want</p>
<p class="MsoListParagraphCxSpMiddle" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 0pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>Option to choose a T4 template for generating the view content or just create an empty view</p>
<p class="MsoListParagraphCxSpLast" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 10pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>Option to use a master page and set the content placeholder for the view&rsquo;s content</p>
<h4 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;"><em>IntelliSense Support</em></span></span></span></h4>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Visual Studio provides complete IntelliSense support for views using the WebFormViewEngine, including support for the directives used at the top of the page (page settings, namespace imports, etc.) and usage documentation as you type, as well as all other .aspx and .ascx productivity enhancements added by Visual Studio over the years, including ASP.NET MVC, HTML markup, and JavaScript Snippets (new in VS 2010).</p>
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><a href="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/1464.image_5F00_10.png"><em><strong></strong></em><a></a><a></a> <br /><em><strong>Figure 2. Page Directive IntelliSense </strong></em></a><a href="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/0407.image_5F00_10.png"><img height="214" width="348" src="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/7737.image_5F00_thumb_5F00_4.png" alt="image" border="0" title="image" style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" /></a></p>
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><a href="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/2045.image_5F00_16.png"><em><strong></strong></em><a></a><a></a> <br /><em><strong>Figure 3. Usage Documentation IntelliSense</strong></em></a><a href="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/2538.image_5F00_16.png"><img height="113" width="458" src="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/3122.image_5F00_thumb_5F00_7.png" alt="image" border="0" title="image" style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" /></a></p>
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><a href="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/2047.image_5F00_14.png"><em><strong></strong></em><a></a><a></a> <br /><em><strong>Figure 4.&nbsp; ASP.NET MVC Snippet for Action Link Start</strong></em></a><a href="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/5277.image_5F00_14.png"><img height="167" width="500" src="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/2626.image_5F00_thumb_5F00_6.png" alt="image" border="0" title="image" style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" /></a></p>
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><a href="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/3034.image_5F00_18.png"><em><strong></strong></em><a></a><a></a> <br /><em><strong>Figure 5. ASP.NET MVC Snippet for Action Link Result</strong></em></a><a href="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/7737.image_5F00_18.png"><img height="51" width="373" src="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/3531.image_5F00_thumb_5F00_8.png" alt="image" border="0" title="image" style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" /></a></p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Getting Support</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">The WebFormViewEngine is part of the ASP.NET MVC framework and is supported the same way as the framework. The primary support forum for the ASP.NET MVC framework can be found at: <a href="http://forums.asp.net/1146.aspx"><span style="color: #0000ff;">http://forums.asp.net/1146.aspx</span></a></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">ASP.Net Default View Engine Strengths</span></span></span></h3>
<p class="MsoListParagraphCxSpFirst" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 0pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>It is included with ASP.NET MVC</p>
<p class="MsoListParagraphCxSpMiddle" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 0pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>It is supported along with the ASP.NET MVC framework</p>
<p class="MsoListParagraphCxSpMiddle" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 0pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>It is easy to learn</p>
<p class="MsoListParagraphCxSpLast" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 10pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>Web Form developers can utilize their web form development experience to get started with MVC views</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">ASP.Net Default View Engine Weaknesses</span></span></span></h3>
<p class="MsoListParagraphCxSpFirst" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 0pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>Hard to test due to a dependency on Page</p>
<p class="MsoListParagraphCxSpLast" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 10pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>The syntax can lead to views becoming &ldquo;tag soup&rdquo;</p>
<h1 style="line-height: 16pt; margin: 24pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #365f91; font-size: 14pt;"><span style="font-weight: bold;">Spark View Engine</span></span></span></h1>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">The Spark view engine was designed to mix the code into the flow of the html, which leads to nicer looking views without all the escape syntax that dominates the WebFormViewEngine&rsquo;s syntax.</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Spark has been around for more than two years now and has a lot of features you won&rsquo;t find in the default view engine. Unlike the WebFormViewEngine, Spark has its own view class and doesn&rsquo;t extend the ASP.NET Page class. Spark also works with both ASP.NET MVC and Castle MonoRail MVC Framework.</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">The Spark view engine differs from the other view engines because it mixes its language syntax in with the elements of your view. The language constructs exist mostly as elements and attributes. For example, there is an &lt;if&gt; element and a &lt;for&gt; element, and partial views can also be represented as an element.</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">The file extension used for views, partial views, and layouts (master pages) is .spark </p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Below is a screen shot of a view written using the Spark view engine:</p>
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><a href="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/0878.image_5F00_20.png"><strong></strong></a><a href="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/0882.image_5F00_20.png"><img height="500" width="500" src="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/0878.image_5F00_thumb_5F00_9.png" alt="image" border="0" title="image" style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" /></a><a></a><a></a></p>
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><strong></strong></p>
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><strong>Screenshot 2.&nbsp; NerdDinners Dinner/Index View in Spark</strong></p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">History</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Louis DeJardin began developing the Spark view engine in May 2008, soon after reading a blog entry by Phil Haack (<a href="http://haacked.com/archive/2008/05/03/code-based-repeater-for-asp.net-mvc.aspx#67581"><span style="color: #0000ff;">Code Based Repeater for ASP.NET MVC</span></a>). Louis designed and wrote the view engine from ground up (it is not a port of another view engine or language) in order to build a view syntax able to seamlessly mix the code into the Html.</p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Key Features</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Spark is the only view engine of the four that supports all of the features on my desired feature list.</p>
<table cellpadding="0" cellspacing="0" border="1" class="LightShading-Accent11" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: #548dd4 1pt solid; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Feature</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: #548dd4 1pt solid; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Notes</span></span></b></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: #548dd4 1pt solid; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Multi Line Code Blocks</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: #548dd4 1pt solid; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Inline Expression</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Local Functions</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">Called &lsquo;Macros&rsquo;, limited to functions that return strings</span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">Also supports global functions.</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Local Variables</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Global Variables</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Conditional Output</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Support for Multiple Level Conditionals</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Loops</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Html Encoding Shortcut</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Global Setting for Html Encoding</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Import Namespaces</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Global Namespace Imports</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">Add in the web.config or _global.spark file</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Single View Master Page</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Global Master Page</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Content Placeholders</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Special Syntax for Partial Views</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">If partial view file begins with &lsquo;_&rsquo; can use the name as an element in the view. </span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Support for Editor Templates</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Visual Studio Integration</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">Add-ins exist for VS 2008 and VS 2010</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Support for Other MVC Frameworks</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">&nbsp;</p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Getting Started</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Spark is available for download at <a href="http://sparkviewengine.codeplex.com/"><span style="color: #0000ff;">http://sparkviewengine.codeplex.com/</span></a>. After you have downloaded and extracted the binaries, add Spark as a view engine in your ASP.NET MVC project by performing the following steps:</p>
<p class="MsoListParagraphCxSpFirst" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 0pt 0.5in">1.<span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span>Set a reference to the Spark.dll and Spark.Web.Mvc.dll libraries included in the release download.</p>
<p class="MsoListParagraphCxSpLast" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 10pt 0.5in">2.<span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span>Open the Global.asax.cs file and add a new SparkViewFactory to the ViewEngines.Engines collection:</p>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">void</span></span><span style="font-family: "><span style="font-size: 9.5pt;"> Application_Start()</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">{</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RegisterRoutes(</span><span><span style="color: #2b91af; font-size: 9.5pt;">RouteTable</span></span><span style="font-size: 9.5pt;">.Routes);</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span><span style="color: #2b91af; font-size: 9.5pt;">ViewEngines</span></span><span style="font-size: 9.5pt;">.Engines.Add(</span><span><span style="color: #0000ff; font-size: 9.5pt;">new</span></span><span style="font-size: 9.5pt;"> </span><span><span style="color: #2b91af; font-size: 9.5pt;">SparkViewFactory</span></span><span style="font-size: 9.5pt;">());</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">}</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoListParagraph" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 10pt 0.5in">3.<span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span>In your web.config file, add a section to your configSections for the SparkSectionHandler as shown below:</p>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">configuration</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">configSections</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">section</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">name</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">spark</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span><span style="color: #ff0000; font-size: 9.5pt;">type</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">Spark.Configuration.SparkSectionHandler, Spark</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">/&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoListParagraph" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 10pt 0.5in">4.<span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span>Add the &lt;spark&gt; section to your web.config file. I put mine just after the &lt;/connectionStrings&gt; element. Below is the configuration section I used to port the NerdDinner project to Spark.</p>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">spark</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">compilation</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">debug</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">true</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span><span style="color: #ff0000; font-size: 9.5pt;">defaultLanguage</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">CSharp</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> /&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">pages</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">automaticEncoding</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">true</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> &gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">namespaces</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">namespace</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">System</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">/&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">namespace</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">System.Collections.Generic</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">/&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">namespace</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">System.Linq</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">/&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">namespace</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">System.Web</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">/&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">namespace</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">System.Web.Mvc</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">/&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">namespace</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">System.Web.Mvc.Html</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">/&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">namespaces</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; &lt;/</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">pages</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp; &lt;/</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">spark</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoListParagraph" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 10pt 0.5in">5.<span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span>Change the settings as necessary (<a href="http://sparkviewengine.com/documentation/configuring"><span style="color: #0000ff;">check the documentation </span></a>for the options that apply to you). </p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Dependencies</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">For Spark to work as a view engine in your ASP.NET MVC project, you need references to the Spark.dll and Spark.Web.Mvc.dll</p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Feature Syntax</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">The following are examples for the key features listed above:</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example Using the # Statement for Escaping Multiple Lines of Code</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string message = "The time is: {0}";</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string timeString = DateTime.Now.ToShortTimeString();</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string output = string.Format(message, timeString);</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">The result from serverside code is: ${output}</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 15. Using the # Statement to Escape Code -Spark</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example Using ${ } for an Inline Expression </span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">script</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">src</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">${ Url.Content(</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #ff0000; font-size: 9.5pt;">~</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">/</span></span><span style="font-size: 9.5pt;">Scripts/MSAjaxHistoryBundle.js") }" </span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; type="text/javascript"&gt;</span><span><span style="color: #0000ff; font-size: 9.5pt;">&lt;/</span></span><span><span style="color: #a31515; font-size: 9.5pt;">script</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 16. Using Inline Escape -Spark</i></p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">One drawback to using the ${} syntax is that it will fail if the expression returns null. In order to protect against the possibility of an expression returning null, you can use the $!{} expression. </p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example Using !${} to Output an Expression that May Return Null</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">span</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">class</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">fn nickname</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span><span style="font-size: 9.5pt;">$!{ Model.RSVPs.FirstOrNull() }</span><span><span style="color: #0000ff; font-size: 9.5pt;">&lt;/</span></span><span><span style="color: #a31515; font-size: 9.5pt;">span</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 17. Using Inline Escape When Expression Maybe Null -Spark</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of a Local Function (Macro) in Spark:</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">macro</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">name</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">FunctionCallOnServerSide</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span><span style="color: #ff0000; font-size: 9.5pt;">message</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">string</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">b</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span><span style="font-family: "><span style="font-size: 9.5pt;">${message}</span><span><span style="color: #0000ff; font-size: 9.5pt;">&lt;/</span></span><span><span style="color: #a31515; font-size: 9.5pt;">b</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;&nbsp;&nbsp;&nbsp; </span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;/</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">macro</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">div</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; This is client side html</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Server Says: ${ FunctionCallOnServerSide("OutputMessage") }</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; and more client side html</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;/</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">div</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 18. Declaring and Using a Macro -Spark</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Creating and Using a Local Variable</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">var</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">RSVPs</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> = </span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">Model.RSVPs.Reverse()</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">/&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">${RSVPs.Count().ToString() }</span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 19. Local Variable Usage -Spark</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Creating and Using a Global Variable</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #800000; font-size: 9.5pt;">global</span></span><span style="font-family: "><span style="font-size: 9.5pt;"> </span><span><span style="color: #ff0000; font-size: 9.5pt;">version</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">="0.01F"</span></span><span style="font-size: 9.5pt;"> </span><span><span style="color: #ff0000; font-size: 9.5pt;">type</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">="float"</span></span><span style="font-size: 9.5pt;"> </span><span><span style="color: #0000ff; font-size: 9.5pt;">/&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">${version + 1}</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 20. Global Variable Usage -Spark</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Conditional Output - If/Else Element</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">strong</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span><span style="font-family: "><span style="font-size: 9.5pt;">Who's Coming:</span><span><span style="color: #0000ff; font-size: 9.5pt;">&lt;/</span></span><span><span style="color: #a31515; font-size: 9.5pt;">strong</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">if</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">condition</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">Model.RSVPs.Count == 0</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">span</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span><span style="font-family: "><span style="font-size: 9.5pt;">No one has registered.</span><span><span style="color: #0000ff; font-size: 9.5pt;">&lt;/</span></span><span><span style="color: #a31515; font-size: 9.5pt;">span</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;/</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">if</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">else</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; ... other markup here ...</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;/</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">else</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 21. If/Else Element Usage-Spark</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Conditional Output - if Attribute</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">strong</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span><span style="font-family: "><span style="font-size: 9.5pt;">Who's Coming:</span><span><span style="color: #0000ff; font-size: 9.5pt;">&lt;/</span></span><span><span style="color: #a31515; font-size: 9.5pt;">strong</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">span if</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">Model.RSVPs.Count == 0</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span><span style="font-size: 9.5pt;">No one has registered.</span><span><span style="color: #0000ff; font-size: 9.5pt;">&lt;/</span></span><span><span style="color: #a31515; font-size: 9.5pt;">span</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">else</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; ... other markup here ...</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;/</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">else</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 22. If Attribute Usage -Spark</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Multi Level Condition Output</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">if</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">condition</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">Request.IsAuthenticated</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">if</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">condition</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">Model.IsHostedBy(Context.User.Identity.Name)</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">p</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span><span style="font-family: "><span style="font-size: 9.5pt;">You are the host for this event!</span><span><span style="color: #0000ff; font-size: 9.5pt;">&lt;/</span></span><span><span style="color: #a31515; font-size: 9.5pt;">p</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp; &lt;/</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">if</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">else</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">if</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">Model.IsUserRegistered(Context.User.Identity.Name)</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt; </span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">p</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span><span style="font-family: "><span style="font-size: 9.5pt;">You are registered for this event!</span><span><span style="color: #0000ff; font-size: 9.5pt;">&lt;/</span></span><span><span style="color: #a31515; font-size: 9.5pt;">p</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp; &lt;/</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">else</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">else</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">strong</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span><span style="font-family: "><span style="font-size: 9.5pt;">RSVP for this event:</span><span><span style="color: #0000ff; font-size: 9.5pt;">&lt;/</span></span><span><span style="color: #a31515; font-size: 9.5pt;">strong</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;/</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">else</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 23. Multi-Level Condition Output - Spark</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Loop - For Element </span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">ul</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">class</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">upcomingdinners</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">for</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">each</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">var dinner in Model</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">li</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; !{ Html.ActionLink(dinner.Title, "Details", new { id=dinner.DinnerID }) }</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">li</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; &lt;/</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">for</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;/</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">ul</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 24. For Element Usage -Spark</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Loop -&nbsp; each Attribute</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">ul</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">class</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">upcomingdinners</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">li</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">each</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">var dinner in Model</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; !{ Html.ActionLink(dinner.Title, "Details", new { id=dinner.DinnerID }) }</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span><span><span style="color: #0000ff; font-size: 9.5pt;">&lt;/</span></span><span><span style="color: #a31515; font-size: 9.5pt;">li</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;/</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">ul</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 25.&nbsp; Each Attribute Usage -Spark</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Global Html Encoding Setting</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">For html cncoding you can set the <span style="line-height: 11pt; font-family: "><span style="font-family: Consolas;"><span style="color: #ff0000; font-size: 9.5pt;">automaticEncoding</span></span></span> flag in the spark section of your web.config file to turn html encoding on by default. This will cause every ${expr} expression evaluation to be Html encoded.&nbsp; </p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">If you need to specify an expression to not be Html encoded, use the !{ expr } syntax.</p>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">spark</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">compilation</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">debug</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">true</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span><span style="color: #ff0000; font-size: 9.5pt;">defaultLanguage</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">CSharp</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> /&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">pages</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">automaticEncoding</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">false</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> &gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 26.&nbsp; AutomaticEncoding Attribute Set in Web.Config -Spark</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Html Encoding Inline</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Spark provides a utility method that will Html Encode expressions called H( ). However, I recommend having automaticEncoding on via the global setting and using the !{ } syntax for when you don&rsquo;t want to include Html Encoding.</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Global Namespace Import in Web.Config</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">spark</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">compilation</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">debug</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">true</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span><span style="color: #ff0000; font-size: 9.5pt;">defaultLanguage</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">CSharp</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> /&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">pages</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">automaticEncoding</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">false</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> &gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">namespaces</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">namespace</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">System</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">/&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">namespace</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">System.Collections.Generic</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">/&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 27. Global Namespace Import -Spark</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Importing&nbsp; a Namespace</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">use</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">namespace</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">NerdDinner.Helpers</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> /&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 28. Adding a Namespace Import - Spark</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Global Master Page Support</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Spark includes a site-wide master page (or layout), which allows you to have all views use a master page without having to specify the name for each of the views.</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">In order to create a global master page/layout, create an Application.spark file in the Views/Layouts folder or the Views/Shared folder.</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">You can also create a layout for a specific controller. To do so, create a layout with the same name as the controller.</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Setting Master Page in a View</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">use</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">master</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"AlternateMaster"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> /&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 29. Master Layout Assignment -Spark</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Master Layout with Multiple Content Elements</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="color: #800000; font-size: 9.5pt;">&lt;head&gt;</span></span></span><span style="font-family: "> <br /></span><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #800000; font-size: 9.5pt;">title</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;&lt;</span></span><span style="font-family: "><span style="color: #800000; font-size: 9.5pt;">use</span></span><span style="font-family: "><span style="font-size: 9.5pt;"> </span><span><span style="color: #ff0000; font-size: 9.5pt;">content</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">="TitleContent"</span></span><span style="font-size: 9.5pt;"> </span><span><span style="color: #0000ff; font-size: 9.5pt;">/&gt;&lt;/</span></span><span><span style="color: #800000; font-size: 9.5pt;">title</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #800000; font-size: 9.5pt;">use</span></span><span style="font-family: "><span style="font-size: 9.5pt;"> </span><span><span style="color: #ff0000; font-size: 9.5pt;">content</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">="HeadContent"</span></span><span style="font-size: 9.5pt;"> </span><span><span style="color: #0000ff; font-size: 9.5pt;">/&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #800000; font-size: 9.5pt;">&lt;/head&gt;</span></span><span style="font-family: "><span style="font-size: 11pt;">&nbsp;&nbsp;&nbsp; </span></span></span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 30. Master Layout with Content Elements -Spark</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of a View with Multiple Content Elements </span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">content</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">name</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">TitleContent</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp; Upcoming Nerd Dinners</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;/</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">content</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">content</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">name</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">HeadContent</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp; # Html.RenderPartial("Masthead", false); </span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;/</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">content</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">This text will be in the view's main content &hellip; notice this is not in a content element.</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 31.&nbsp; View with Multiple Content Elements -Spark</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Special Partial View Syntax</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Spark provides a special partial view syntax that,flows better than the HtmlHelper syntax.&nbsp; </p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">If the name of your partial view file begins with an underscore character, you can use an element in your content to represent the partial view (minus the underscore) . For example, in my NerdDinner Spark port, there is a layout named _LoginStatus.spark. This allows me to use the element &lt;LoginStatus /&gt; to represent the output location I want for the contents of that partial view.&nbsp; </p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Visual Studio Integration</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Since Spark is a third party view engine, the Visual Studio tooling isn&rsquo;t as good as the WebFormViewEngine. This means that you currently don&rsquo;t get the functionality provided by the Add View dialog described in the WebFormViewEngine section and so are stuck working with text or html looking files.</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">IntelliSense Support</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">For Visual Studio 2008, there is an msi installer included for the 3-9-2009 Build available on the <a href="http://sparkviewengine.com/download"><span style="color: #0000ff;">http://sparkviewengine.com/download</span></a> site.</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">For Visual Studio 2010, there is a Visual Studio Addin available in Visual Studio Gallery: <a href="http://visualstudiogallery.msdn.microsoft.com/en-us/ef944259-fc8a-42e0-838e-f397957e1d11"><span style="color: #0000ff;">SparkSense</span></a>.</p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Getting Support</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">For an open source project, Spark is pretty well documented. The documentation can be found on the project site at <a href="http://sparkviewengine.com/documentation"><span style="color: #0000ff;">http://sparkviewengine.com/documentation</span></a>.</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">The Spark View Engine also has a Google Group where you can get answers to your questions. Check it out at <a href="http://groups.google.com/group/spark-dev"><span style="color: #0000ff;">http://groups.google.com/group/spark-dev</span></a>.</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">The Issue Tracker is available on the on the CodePlex site: <a href="http://sparkviewengine.codeplex.com/workitem/list/basic"><span style="color: #0000ff;">http://sparkviewengine.codeplex.com/workitem/list/basic</span></a>.</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Spark View Engine Strengths</span></span></span></h3>
<p class="MsoListParagraphCxSpFirst" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 0pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>Syntax produces clean views</p>
<p class="MsoListParagraphCxSpMiddle" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 0pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>Views don&rsquo;t use the Page class and so are easier to test</p>
<p class="MsoListParagraphCxSpMiddle" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 0pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>Well documented with a lot of samples included in the download</p>
<p class="MsoListParagraphCxSpLast" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 10pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>Supports other MVC frameworks</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Spark View Engine Weaknesses</span></span></span></h3>
<p class="MsoListParagraphCxSpFirst" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 0pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>Visual Studio tooling isn&rsquo;t as good as the default view engine</p>
<p class="MsoListParagraphCxSpLast" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 10pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>Advanced usage of some features can make the views harder for a developer to follow</p>
<h1 style="line-height: 16pt; margin: 24pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #365f91; font-size: 14pt;"><span style="font-weight: bold;">NHaml View Engine</span></span></span></h1>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">The NHaml (pronounced enamel) view engine is an implementation of the Rails Haml view engine, and its syntax is an abstraction of usual tag based XHTML syntax used by most view engines.&nbsp; As you can see in the screen shot below, it takes only 19 lines in NHaml to create the same view created with 42 lines in the WebFormViewEngine and Spark view engines. A couple of other differences are that the syntax is white space sensitive and you don&rsquo;t have to set the type of the view model (it figures it out for you).</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">The file extension used for views, partial views and layouts (master pages) is .haml</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Below is a screen shot of a view written using the NHaml view engine:</p>
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><a href="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/5661.image_5F00_22.png"><strong></strong></a><a href="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/1067.image_5F00_22.png"><img height="210" width="500" src="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/6254.image_5F00_thumb_5F00_10.png" alt="image" border="0" title="image" style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" /></a><a></a><a></a></p>
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><strong></strong></p>
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><strong>Screenshot 3.&nbsp; NerdDinners Dinner/Index View in NHaml</strong></p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">History</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Haml was started in May 2006 by Hampton Catlin and from what I can find on the internet, Andrew Peters introduced NHaml to the world in December 2007.&nbsp; The syntax is pretty much the same as Haml, but the parsing/compiling was all written from the ground up.&nbsp; Like Spark, NHaml does not use the ASP.NET&rsquo;s Page for its view, it has its own implementation.</p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Key Features</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">NHaml supports 14 features from the desired feature list.</p>
<table cellpadding="0" cellspacing="0" border="1" class="LightShading-Accent11" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: #548dd4 1pt solid; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Feature</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: #548dd4 1pt solid; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Notes</span></span></b></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: #548dd4 1pt solid; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Multi Line Code Blocks</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: #548dd4 1pt solid; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Inline Expression</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Local Variables</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Global Variables</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Conditional Output</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Support for Multiple Level Conditionals</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Loops</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Html Encoding Shortcut</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Global Setting for Html Encoding</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Global Namespace Imports</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">Have to add all namespace imports to the web.config</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Global Master Page</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Special Syntax for Partial Views</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Visual Studio Integration</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">Add-in exist for VS 2008</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Support for Other MVC Frameworks</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
</tbody>
</table>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Getting Started</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">NHaml is available for download from the project&rsquo;s website at <a href="http://code.google.com/p/nhaml/downloads/list"><span style="color: #0000ff;">http://code.google.com/p/nhaml/downloads/list</span></a>. After you have downloaded the release package and extracted its contents, you can add the NHaml view engine to your ASP.NET MVC project by performing the following steps:</p>
<p class="MsoListParagraphCxSpFirst" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 0pt 0.5in">1.<span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span>Set a reference to the NHaml.dll and NHaml.Web.Mvc.dll libraries included in the release download.</p>
<p class="MsoListParagraphCxSpLast" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 10pt 0.5in">2.<span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span>Open the Global.asax.cs file and add a new NHaml.Web.NHamlMvcViewEngine to the ViewEngines.Engines collection:</p>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">void</span></span><span style="font-family: "><span style="font-size: 9.5pt;"> Application_Start()</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">{</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; RegisterRoutes(</span><span><span style="color: #2b91af; font-size: 9.5pt;">RouteTable</span></span><span style="font-size: 9.5pt;">.Routes);</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span><span><span style="color: #2b91af; font-size: 9.5pt;">ViewEngines</span></span><span style="font-size: 9.5pt;">.Engines.Add(</span><span><span style="color: #0000ff; font-size: 9.5pt;">new</span></span><span style="font-size: 9.5pt;"> NHaml.Web.Mvc.</span><span><span style="color: #2b91af; font-size: 9.5pt;">NHamlMvcViewEngine</span></span><span style="font-size: 9.5pt;">());</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">}</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoListParagraph" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 10pt 0.5in">3.<span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span>In your web.config file, add a section to your configSections for the NHamlConfigurationSection handler as shown below:</p>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">configuration</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">configSections</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span><span><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span><span style="color: #a31515; font-size: 9.5pt;">section</span></span><span><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span><span style="color: #ff0000; font-size: 9.5pt;">name</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">nhaml</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span><span style="color: #ff0000; font-size: 9.5pt;">type</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">NHaml.Configuration.NHamlConfigurationSection, NHaml</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">/&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoListParagraph" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 10pt 0.5in">4.<span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span>Add the &lt;nhaml&gt; section to your web.config file. As mentioned in the Spark setup, I put mine right after the &lt;/connectionStrings&gt; element. Below is the section I used to port the NerdDinner project to NHaml&mdash;notice it has more assemblies and namespace declarations than the one provided in the Spark setup:</p>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">nhaml</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">autoRecompile</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">true</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span><span style="color: #ff0000; font-size: 9.5pt;">templateCompiler</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">CSharp4</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span><span style="color: #ff0000; font-size: 9.5pt;">encodeHtml</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">true</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span><span style="color: #ff0000; font-size: 9.5pt;">useTabs</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">true</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span><span style="color: #ff0000; font-size: 9.5pt;">indentSize</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">4</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">assemblies</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">clear</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">/&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">assembly</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">System, Version=2.0.0.0, Culture=neutral, PublicKeyToken=B77A5C561934E089</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">/&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">assembly</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">NerdDinner, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">/&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">assembly</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">DDay.iCal, Version=0.80.0.0, Culture=neutral, PublicKeyToken=1790ba318ebc5d56</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> /&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">assembly</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">Elmah, Version=1.0.10617.0, Culture=neutral, PublicKeyToken=null</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> /&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">assembly</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">DotNetOpenAuth, Version=3.4.4.10162, Culture=neutral, PublicKeyToken=2780ccd10d57b246</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> /&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">assembly</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">OpenSearchToolkit, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">/&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">assemblies</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">namespaces</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">clear</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">/&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">namespace</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">System.Collections</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">/&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">namespace</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">NerdDinner</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> /&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">namespace</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">NerdDinner.Helpers</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> /&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">namespace</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">NerdDinner.Models</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> /&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">namespace</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">DotNetOpenAuth.OpenId.RelyingParty</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> /&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">namespace</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">DotNetOpenAuth.Mvc</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> /&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">namespace</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">System.Web.Mvc.Html</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> /&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">namespace</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">System.Web.Mvc</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> /&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">namespace</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">System.Globalization</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> /&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">namespace</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">System.Web.Mvc.Ajax</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> /&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">namespace</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">System.Linq</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> /&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">namespaces</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp; &lt;/</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">nhaml</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoListParagraph" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 10pt 0.5in">5.<span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span>Check the configuration documentation at <a href="http://code.google.com/p/nhaml/wiki/Configuration"><span style="color: #0000ff;">http://code.google.com/p/nhaml/wiki/Configuration</span></a> to determine your project needs.</p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Dependencies</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">In order to be used, the NHaml view engine requires that the following two dll&rsquo;s be referenced in your MVC project: NHaml.dll and NHaml.Web.Mvc.dll.</p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Feature Syntax</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Whitespace is important and represents the hierarchy of the final XHTML document being marked up in the view in addition to the scoping of things such as for loops and if statements.</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of a Multi-Line Code Block</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">- string message = "The time is: {0}";</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">- string timeString = DateTime.Now.ToShortTimeString();</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">- string output = string.Format(message, timeString);</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">The result from serverside code is: </span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =output</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 32. Using CodeBlocks - NHaml</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Inline Expression</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">To indicate which code should be evaluated in NHaml, you use either universal interpolation or evaluate output. The Universal Interpolation allows you to leave expressions to be evaluated in the middle of a line even though the evaluate output is typically at the beginning of a line.</p>
<h4 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;"><em>Example of the #{ } Syntax to Evaluate Inline Code</em></span></span></span></h4>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">%a { class="feed" href=#{Url.Action("iCalFeed", "Services", null, "webcal")} }</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 33. Using Inline Expression - NHaml</i></p>
<h4 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;"><em>Example of the = Syntax to Evaluate and Output Code</em></span></span></span></h4>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">=dinner.Address + " " + dinner.Country</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 34. Using Inline Expression2- NHaml</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Creating and Using a Local Variable</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">- string message = "The time is a message";</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">The result from serverside code is: </span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; =message</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 35. Local Variable Usage - NHaml</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of a Creating and Using Global Variable</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">^ string PageTitle = "";</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp; - if (PageTitle != "")</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; %title=PageTitle</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 36. Global Variable Usage - NHaml</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Conditional Output</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">%strong Who's Coming:</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">- if (Model.RSVPs.Count == 0)</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; No one has registered.</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 37. Conditional Output - NHaml</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Multi Level Condition Output</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">- if (HttpContext.Current.Request.IsAuthenticated)</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp; - if (Model.IsHostedBy(HttpContext.Current.User.Identity.Name))</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; %p You are the host for this event!</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp; - else if (Model.IsUserRegistered(HttpContext.Current.User.Identity.Name))</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; %p You are registered for this event!</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">- else </span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp; %strong RSVP for this event:</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 38. Multi-Level Condition Output - NHaml</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Loop - foreach</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">- foreach (var dinner in Model)</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp; %li</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; !=Html.ActionLink(dinner.Title, "Details", new { id=dinner.DinnerID })</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 39. Loop ForEach - NHaml</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Global Html Encoding Setting in Web.Config</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">nhaml</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">autoRecompile</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">true</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span><span style="color: #ff0000; font-size: 9.5pt;">templateCompiler</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">CSharp4</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span><span style="color: #ff0000; font-size: 9.5pt;">encodeHtml</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">true</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span><span style="color: #ff0000; font-size: 9.5pt;">useTabs</span></span><span><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">true</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> </span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">indentSize</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">4</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 40. Global HtmlEncoding Setting&nbsp; - NHaml</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Html Encoding Inline</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&amp;= dinner.Address + " " + dinner.Country</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;</span></span></span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 41. Html Encoding Inline - NHaml</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Global Master Page Support</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">NHaml has the concept of a site-wide master page (or layout) named Application.haml. In the layout, the view&rsquo;s contents have a special placeholder &lsquo;_&rsquo;.</p>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">!!!</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">%html</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %head</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _ TitleContent</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _ HeadArea</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %body</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 42. Global Master Page - NHaml</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Special Partial View Syntax</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">In NHaml, partial views use a &lsquo;_&rsquo; as the first character in their file names. This allows you to place the contents of a partial view in another view (or layout) by using the special syntax of _ &lt;viewname&gt;.</p>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; _ LoginStatus</span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 43. Special Syntax for Partial Views - NHaml</i></p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Visual Studio Integration</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Like Spark, NHaml is a third party view engine started by one person, so the Visual Studio tooling isn&rsquo;t as good as the default view engine, though a few addins have been created by the community. Dave Newman created a syntax highlighting add-in for Visual Studio 2008: <a href="http://github.com/snappycode/hamleditor"><span style="color: #0000ff;">http://github.com/snappycode/hamleditor</span></a></p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">There is also an Intellisense project for NHaml created by sztupy and available at: <a href="http://github.com/sztupy/nhamlsense%20for%20Visual%20Studio%202008"><span style="color: #0000ff;">http://github.com/sztupy/nhamlsense for Visual Studio 2008</span></a>.</p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Getting Support</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Although NHaml has been around for a little longer than Spark, it isn&rsquo;t quite as well documented (less reference material and less samples).&nbsp; </p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">A pretty good language reference can be found on the project&rsquo;s site at: <a href="http://code.google.com/p/nhaml/wiki/NHamlLanguageReference"><span style="color: #0000ff;">http://code.google.com/p/nhaml/wiki/NHamlLanguageReference</span></a> </p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">NHaml also has a Google Group where you can get answers to your questions: <a href="http://groups.google.com/group/nhaml-users"><span style="color: #0000ff;">http://groups.google.com/group/nhaml-users</span></a> </p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">As with Spark (don&rsquo;t forget it is Open Source), you can look at the code and attempt to figure out how things work on your own without using any documentation or support.</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Strengths</span></span></span></h3>
<p class="MsoListParagraphCxSpFirst" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 0pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>Terse syntax that creates views with less code</p>
<p class="MsoListParagraphCxSpMiddle" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 0pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>Has a lot of features that help create html</p>
<p class="MsoListParagraphCxSpMiddle" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 0pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>Views don&rsquo;t use the Page Class and so are easier to test</p>
<p class="MsoListParagraphCxSpLast" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 10pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>Supports languages other than C# and Visual Basic</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Weaknesses</span></span></span></h3>
<p class="MsoListParagraphCxSpFirst" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 0pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>The syntax results in a greater learning curve</p>
<p class="MsoListParagraphCxSpMiddle" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 0pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>Poorly documented with hard to find samples</p>
<p class="MsoListParagraphCxSpLast" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 10pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>Error messages make it difficult to decipher syntax errors</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">&nbsp;</p>
<h1 style="line-height: 16pt; margin: 24pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #365f91; font-size: 14pt;"><span style="font-weight: bold;">Razor </span></span></span></h1>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Razor is a new view engine still under development at Microsoft. The initial pre-release of the view engine became available with the MVC 3 Preview 1 release.&nbsp; </p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">The Razor view engine is being designed to mix the code and markup together&mdash;not in the same sense as Spark (there aren&rsquo;t any elements to represent functionality), but in the sense that the code and markup play well together with minimal control characters. Unlike the WebFormViewEngine, Razor doesn&rsquo;t extend the System.Web.Page class.</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">The file extension currently used for views, partial views and layouts (master pages) is .cshtml and also in the future .vbhtml for VisualBasic support.</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Below is a screenshot of a view written using the Razor view engine.</p>
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><a href="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/5684.image_5F00_24.png"><strong></strong></a><a href="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/4113.image_5F00_24.png"><img height="419" width="500" src="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/2548.image_5F00_thumb_5F00_11.png" alt="image" border="0" title="image" style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: inline; border-top-width: 0px; border-bottom-width: 0px; border-left-width: 0px; padding-top: 0px" /></a><a></a><a></a></p>
<p align="center" class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><strong>Screenshot 4.&nbsp; NerdDinners Dinner/Index View in Razor</strong></p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">History</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">No history known about this one.</p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Key Features</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Razor currently supports 14 features (plus more coming soon) from the desired feature list.</p>
<table cellpadding="0" cellspacing="0" border="1" class="LightShading-Accent11" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: #548dd4 1pt solid; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Feature</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: #548dd4 1pt solid; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Notes</span></span></b></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: #548dd4 1pt solid; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Multi Line Code Blocks</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: #548dd4 1pt solid; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Inline Expression</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Local Functions</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">Not as of MVC 3 Preview 1, but special HtmlHelper syntax coming soon.</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Local Variables</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Conditional Output</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Support for Multiple Level Conditionals</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Loops</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Global Setting for Html Encoding</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">No setting currently , it is just on by default</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Import Namespaces</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Global Namespace Imports</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Single View Master Page</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Global Master Page</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Content Placeholders</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Support for Editor Templates</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: medium none; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">&nbsp;</span></span></p>
</td>
</tr>
<tr>
<td width="271" valign="top" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><b><span><span style="color: #365f91; font-size: 11pt;">Visual Studio Integration</span></span></b></p>
</td>
<td width="367" valign="top" style="border-bottom: #4f81bd 1pt solid; border-left: medium none; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; background: #d3dfee; border-top: medium none; border-right: medium none; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span><span style="color: #365f91; font-size: 11pt;">IntelliSense coming soon</span></span></p>
</td>
</tr>
</tbody>
</table>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Getting Started</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">In order to use the Razor view engine, you will need the ASP.NET MVC 3 Preview 1 framework installed.&nbsp; You can download it here: <a href="http://www.microsoft.com/downloads/details.aspx?displaylang=en&amp;FamilyID=cb42f741-8fb1-4f43-a5fa-812096f8d1e8#filelist"><span style="color: #0000ff;">http://www.microsoft.com/downloads/details.aspx?displaylang=en&amp;FamilyID=cb42f741-8fb1-4f43-a5fa-812096f8d1e8#filelist</span></a></p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Check the release notes at that same link for any system requirements.&nbsp; </p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Once you have ASP.NET MVC 3 Preview 1 installed, you will have a new project type for ASP.NET MVC 3 Web Application (Razor).</p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Dependencies</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Currently the Razor view engine is in the System.Web.Mvc.dll and shipped with the MVC 3 Preview 1 framework, so there are no external dependencies if you have already downloaded it as mentioned in the Getting Started section above. </p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Feature Syntax</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">The syntax shown for Razor features is all subject to change, since it is based on a pre-release version.</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Multi Line Code Blocks</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">@{</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string message = "The time is: {0}";</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string timeString = DateTime.Now.ToShortTimeString();</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; string output = string.Format(message, timeString);</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">}</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">The result from serverside code is: @output</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 44.&nbsp; Multi Line Code Block - Razor</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Inline Expression</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&lt;script src="@Url.Content("~/Scripts/MSAjaxHistoryBundle.js")" </span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; type="text/javascript"&gt;&lt;/script&gt;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 45.&nbsp; Inline Expression - Razor</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Creating and Using a Local Variable</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="width: 638px; border-collapse: collapse;">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">@{</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp; string message = "Hello World";</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">}</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">The result message is: @message</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 46.&nbsp; Local Variable Usage - Razor</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Conditional Output</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&lt;strong&gt;Who's Coming:&lt;/strong&gt;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">@if (Model.RSVPs.Count == 0) {</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; &lt;text&gt;No one has registered.&lt;/text&gt;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">}</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 47.&nbsp; Conditional Output - Razor</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Multi Level Condition Output</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">@if (Request.IsAuthenticated) {</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp; if (Model.IsHostedBy(Context.User.Identity.Name)) { </span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp; &lt;p&gt;You are the host for this event!&lt;/p&gt;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp; } else if (Model.IsUserRegistered(Context.User.Identity.Name)) {</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp; &lt;p&gt;You are registered for this event!&lt;/p&gt;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp; }</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">}</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">else </span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">{</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; &lt;strong&gt;RSVP for this event:&lt;/strong&gt;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">}</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 48.&nbsp; Mult-Level Conditional Output - Razor</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Loop - Foreach</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">@foreach (var dinner in Model) { </span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp; &lt;li&gt;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp; @Html.ActionLink(dinner.Title, "Details", new { id=dinner.DinnerID })</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp; &lt;/li&gt;&nbsp;&nbsp;&nbsp; </span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">}</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 49.&nbsp; Loop - Foreach - Razor</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Global Namespace Import (Same as WebFormsViewEngine)</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">pages</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">namespaces</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&gt;</span></span></span><span style="font-family: "></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">namespace</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">System.Web.Mvc</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> /&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: Consolas;"><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;</span></span><span style="font-family: "><span style="color: #a31515; font-size: 9.5pt;">add</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;"> </span></span><span style="font-family: "><span style="color: #ff0000; font-size: 9.5pt;">namespace</span></span><span style="font-family: "><span style="color: #0000ff; font-size: 9.5pt;">=</span></span><span style="font-family: "><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;">System.Web.Mvc.Ajax</span></span><span style="font-size: 9.5pt;">"</span><span><span style="color: #0000ff; font-size: 9.5pt;"> /&gt;</span></span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 50.&nbsp; Global Namespace Import - Razor</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Importing a Namespace in a View</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">@using NerdDinner.Helpers;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 51.&nbsp; Single View Namespace Import - Razor</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Global Master Page Support</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Razor has the concept of a site wide master page (or layout) like Spark and NHaml.&nbsp; This allows you to create a master page in the Views/Shared directory named Application.spark and you don&rsquo;t have to specify the layout page in the individual views.</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Setting a Master Page (Layout) in a View</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">@{</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LayoutPage = "~/Views/Shared/_Layout.cshtml";</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">}</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 52.&nbsp; Single View Master Page - Razor</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of Master Page with Content Placeholders</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&lt;head&gt;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;title&gt;@View.Title&lt;/title&gt;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @RenderSection("HeadArea", optional:true)</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&lt;/head&gt;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 53.&nbsp; Master Page with Content Placeholders - Razor</i></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Example of View with Multiple Content Elements</span></span></span></h3>
<table cellpadding="0" cellspacing="0" border="1" class="MsoTableGrid" style="border-bottom: medium none; border-left: medium none; border-collapse: collapse; border-top: medium none; border-right: medium none">
<tbody>
<tr>
<td width="638" valign="top" style="border-bottom: black 1pt solid; border-left: black 1pt solid; padding-bottom: 0in; padding-left: 5.4pt; padding-right: 5.4pt; border-top: black 1pt solid; border-right: black 1pt solid; padding-top: 0in">
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">@{</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; View.Title = "Upcoming Nerd Dinners";</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LayoutPage = "~/Views/Shared/_Layout.cshtml";</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">}</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">@section HeadArea {</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @Html.Partial("_Head", false)</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">}</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">&nbsp;</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-family: "><span style="font-family: Consolas;"><span style="font-size: 9.5pt;">This text will be in the view's main content &hellip; notice this is not in a section.</span></span></span></p>
<p class="MsoNormal" style="line-height: normal; margin: 0in 0in 0pt"><span style="font-size: 11pt;">&nbsp;</span></p>
</td>
</tr>
</tbody>
</table>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><i>Code Sample 54.&nbsp; View with Multiple Content Elements/Sections - Razor</i></p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Visual Studio Integration</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Since the Razor view engine is being developed by Microsoft, you will (eventually) get full Visual Studio support.&nbsp; With the ASP.NET MVC 3, Preview 1 release, some tooling has been added &ndash; though IntelliSense is not yet working.</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">New Project Template for Razor</span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">There are now two choices for ASP.NET MVC 3 Web Applications &ndash; one for the ASPX (WebFormsViewEngine) and the other for Razor.</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><a href="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/2047.image_5F00_26.png"><img height="346" width="500" src="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/3527.image_5F00_thumb_5F00_12.png" alt="image" border="0" title="image" style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; margin-left: auto; border-left-width: 0px; margin-right: auto; padding-top: 0px" /></a></p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">&nbsp;</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Add View Dialog </span></span></span></h3>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">The add View Dialog box, now allows you to choose which view engine you are using &ndash; and Razor is now a choice for you.</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><a href="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/8080.image_5F00_28.png"><img height="445" width="450" src="http://blogs.msdn.com/cfs-file.ashx/__key/CommunityServer-Blogs-Components-WeblogFiles/00-00-00-45-39-metablogapi/6254.image_5F00_thumb_5F00_13.png" alt="image" border="0" title="image" style="background-image: none; border-right-width: 0px; padding-left: 0px; padding-right: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; margin-left: auto; border-left-width: 0px; margin-right: auto; padding-top: 0px" /></a></p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">&nbsp;</p>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">Getting Support</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Since MVC 3 Preview 1 is a pre-release version, it isn&rsquo;t a fully supported release &ndash; though you can get community (and often team) support in the forums at: <a href="http://forums.asp.net/1146.aspx"><span style="color: #0000ff;">http://forums.asp.net/1146.aspx</span></a></p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Strengths</span></span></span></h3>
<p class="MsoListParagraphCxSpFirst" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 0pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>Easy to learn</p>
<p class="MsoListParagraphCxSpMiddle" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 0pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>Views are cleaner than WebFormViewEngine view syntax</p>
<p class="MsoListParagraphCxSpMiddle" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 0pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>Views don&rsquo;t use the Page Class &ndash; so they are easier to test</p>
<h3 style="line-height: 13pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 11pt;"><span style="font-weight: bold;">Weaknesses</span></span></span></h3>
<p class="MsoListParagraphCxSpFirst" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 0pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>Not yet released &ndash; current documentation is minimal with no central location to find information on the view engine.</p>
<p class="MsoListParagraphCxSpLast" style="line-height: 13pt; text-indent: -0.25in; margin: 0in 0in 10pt 0.5in"><span style="font-family: "><span style="font-family: Symbol;">&middot;</span><span style="line-height: normal; font-family: "><span style="font-family: Times New Roman;"><span style="font-size: 7pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span></span></span>Error messages are hard to decipher when you get the syntax wrong</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">&nbsp;</p>
<h1 style="line-height: 16pt; margin: 24pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #365f91; font-size: 14pt;"><span style="font-weight: bold;">Summary</span></span></span></h1>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">To conclude this Developer Review, I hope we have provided you with enough useful information about the default ASP.NET MVC view engine, Spark, NHaml and Razor to help you decide which is best for you.</p>
<h1 style="line-height: 16pt; margin: 24pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #365f91; font-size: 14pt;"><span style="font-weight: bold;">Side Note </span></span></span></h1>
<h2 style="line-height: 15pt; margin: 10pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #4f81bd; font-size: 13pt;"><span style="font-weight: bold;">My Thoughts After Converting the Views NerdDinner&rsquo;s Views</span></span></span></h2>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">After converting the views of the NerdDinner example to Spark, NHaml and Razor here are my thoughts on the different view engines:</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b>Default ASP.NET MVC View Engine</b> <br />Still my favorite view engine, though the tendency of ending up with views that feel messy does bother me.&nbsp; For client work, I will be using this view engine probably for quite some time &ndash; especially if the client&nbsp; is going to be supporting the resulting views.</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b>Spark</b> <br />Initially the syntax reminded me of the year I&nbsp; used ColdFusion, but once I got past that I really enjoyed the clean look the view has when it is complete.&nbsp; I am really impressed with the functionality it provides&nbsp; as well as the documentation and samples available for it.</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b>NHaml</b> <br />At first I wasn&rsquo;t a fan of the Haml syntax, but its efficiency eventually attracted me to it. I can see using this view engine on my own site in the future, though I don&rsquo;t think it is a good choice for working on a typical client&rsquo;s site (if the client will be supporting it).</p>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt"><b>Razor <br /></b>Though this view engine isn&rsquo;t yet completed, the syntax that Razor uses is really easy to pick up and does leave the view looking better than on the default view engine.&nbsp; </p>
<h1 style="line-height: 16pt; margin: 24pt 0in 0pt"><span style="font-family: Cambria;"><span style="color: #365f91; font-size: 14pt;"><span style="font-weight: bold;">About the Author</span></span></span></h1>
<p class="MsoNormal" style="line-height: 13pt; margin: 0in 0in 10pt">Jason Haley has been working with Microsoft technologies for the past 15 years in various settings &ndash; mostly in the New England and Seattle areas.&nbsp; Last year (2009), he decided to become an independent consultant and started Jason Haley Consulting.&nbsp; Now almost a year of being gainfully unemployed, he is building his client base in the New England area and enjoying the opportunities of working with multiple clients instead of just a single full-time employer.&nbsp; Jason also has a few open source projects on CodePlex, of which the most popular is PowerCommands for Reflector (http://powercommands.codeplex.com/) <br clear="all" style="page-break-before: always" /></p><div style="clear:both;"></div></div>
					        
        				
			        </div>
			        <div class="abbreviated-post-footer"></div>
		        </li>
	        
		        </ul>
		        <div class="content-list-footer standard"></div>
	        

        <div class="pager">
        <span class="summary">Page 1 of 66 (652 items)</span>
    <a class="selected" href="/b/coding4fun/default.aspx?PageIndex=1"><span>1</span></a><span class="separator"></span><a class="page" href="/b/coding4fun/default.aspx?PageIndex=2"><span>2</span></a><span class="separator"></span><a class="page" href="/b/coding4fun/default.aspx?PageIndex=3"><span>3</span></a><span class="separator"></span><a class="page" href="/b/coding4fun/default.aspx?PageIndex=4"><span>4</span></a><span class="separator"></span><a class="page" href="/b/coding4fun/default.aspx?PageIndex=5"><span>5</span></a><span class="separator"></span><span class="separator"></span><a class="last" href="/b/coding4fun/default.aspx?PageIndex=66"><span>&raquo;</span></a></div>
    </div></div>
<div class="content-fragment-footer"></div>
<div class="content-fragment-bottom wireframe-content-fragment-bottom"><div class="r1 wireframe-r1"></div><div class="r2 wireframe-r2"></div><div class="r3 wireframe-r3"></div><div class="r4 wireframe-r4"></div></div></div></div>
</div>
</div>
</div>
<div class="layout-footer"></div>
</div></div>
			<div class="footer-fragments-header"></div>
<div class="footer-fragments"><div class="footer-fragment copyright-info" id="fragment-9b3efd59-71da-493e-b3fb-4bbd24778a66">

<ul class="footer-fragment-links">
    <li class="message copyright">© 2010 Microsoft Corporation.</li>
	<li class="message termsOfService"><a href="http://msdn.microsoft.com/cc300389">Terms of Use</a> </li>
    <li class="message trademarks"><a href="http://www.microsoft.com/library/toolbar/3.0/trademarks/en-us.mspx">Trademarks</a> </li>
    <li class="message privacy"><a href="http://www.microsoft.com/info/privacy.mspx">Privacy Statement</a> </li>
    <li class="message abuse">
    
            <a id="ctl00_fragment_9b3efd59_71da_493e_b3fb_4bbd24778a66_ctl01_ctl00_ctl01_lnkAbuse" href="javascript:WebForm_DoPostBackWithOptions(new WebForm_PostBackOptions(&quot;ctl00$fragment_9b3efd59_71da_493e_b3fb_4bbd24778a66$ctl01$ctl00$ctl01$lnkAbuse&quot;, &quot;&quot;, true, &quot;&quot;, &quot;&quot;, false, true))">Report Abuse</a>
        
    </li>
    
</ul></div><div class="footer-fragment omniture-footer-fragment" id="fragment-fd9d5bc2-6386-471b-97ea-551ee3398000">


<script type="text/javascript" src="/utility/js/omni_rsid_msdn_current.js"></script>
        <noscript><a href="http://www.omniture.com" title="Web Analytics"><img
        src="http://msstomsdnblogs.112.2O7.net/b/ss/msstomsdnblogs/1/H.20.2--NS/0"
        height="1" width="1" border="0" alt="" /></a></noscript>

</div><div class="footer-fragment user-info-popup" id="fragment-99eb72a4-bc18-4741-b06f-83a5bd656d4b">

<script src="/Utility/FooterFragments/Core/UserInfoPopup.js?Version=5.5.134.11459&amp;LastChanged=634273500881522706" type="text/javascript"></script>



<script type="text/javascript">
    // <![CDATA[
    var Core_UserInfoPopup_AjaxEndpoint =
        '/Utility/FooterFragments/Core/UserInfoPopupAjax.asmx';
        
    var ctl00_fragment_99eb72a4_bc18_4741_b06f_83a5bd656d4b={"wrapperId":"fragment-99eb72a4-bc18-4741-b06f-83a5bd656d4b","variableName":"ctl00_fragment_99eb72a4_bc18_4741_b06f_83a5bd656d4b","parameter":{"popupName":"ctl00_fragment_99eb72a4_bc18_4741_b06f_83a5bd656d4b_ctl01_UserInfoPopup","userProfileUrlPattern":"^(?:/|http://blogs\\.msdn\\.com/)members/([^/]+)/","userAvatarUrlPattern":"^(?:/|http://blogs\\.msdn\\.com/).*?_key/CommunityServer.Components.Avatars/([0-9\\.]*)/","messageHtml":"\r\n                <div class=\"arrow wireframe-arrow\"></div><div class=\"abbreviated-post-header\"><div class=\"l wireframe-l\"></div><div class=\"r wireframe-r\"></div></div><div class=\"outer-wrapper wireframe-outer-wrapper\"><div class=\"inner-wrapper wireframe-inner-wrapper\">\r\n                <div class=\"abbreviated-post\">\r\n                    <div class=\"post-summary\">{Message}</div>\r\n                </div>\r\n                </div></div><div class=\"abbreviated-post-footer\"><div class=\"l wireframe-l\"></div><div class=\"r wireframe-r\"></div></div>\r\n            ","userInfoHtml":"\r\n                <div class=\"arrow wireframe-arrow\"></div><div class=\"abbreviated-post-header\"><div class=\"l wireframe-l\"></div><div class=\"r wireframe-r\"></div></div><div class=\"outer-wrapper wireframe-outer-wrapper\"><div class=\"inner-wrapper wireframe-inner-wrapper\">\r\n                <div class=\"abbreviated-post\">\r\n                    <h4 class=\"post-name\">{DisplayName}</h4>\r\n                    <div class=\"post-attributes\">\r\n                        <div class=\"attribute-list-header\"></div>\r\n                        <ul class=\"attribute-list\">\r\n                            <li class=\"attribute-item post-rank\">\r\n                                <span class=\"attribute-value\">{PostRank}</span> <span class=\"attribute-name\">Post Rank</span>\r\n                            </li>\r\n                            {PostCountArea}\r\n                            {PointCountArea}\r\n                            {UserRankArea}\r\n                            {RoleIconArea}\r\n                        </ul>\r\n                        <div class=\"attribute-list-footer\"></div>\r\n                    </div>\r\n                </div>\r\n                </div></div><div class=\"abbreviated-post-footer\"><div class=\"l wireframe-l\"></div><div class=\"r wireframe-r\"></div></div>\r\n            ","postCountAreaHtml":"\r\n                <li class=\"attribute-item post-count\">\r\n                    <span class=\"attribute-value\">{PostCount}</span> <span class=\"attribute-name\">Posts</span>\r\n                </li>\r\n            ","pointCountAreaHtml":"\r\n                <li class=\"attribute-item point-count\">\r\n                    <span class=\"attribute-value\">{PointCount}</span> <span class=\"attribute-name\">Points</span>\r\n                </li>\r\n            ","userRankAreaHtml":"\r\n                <li class=\"attribute-item user-rank\">\r\n                    <span class=\"attribute-value\">{UserRank}</span> <span class=\"attribute-name\">User Rank</span>\r\n                </li>\r\n            ","roleIconAreaHtml":"\r\n                <li class=\"attribute-item role-icons\">\r\n                    <span class=\"attribute-value\">{RoleIcons}</span> <span class=\"attribute-name\">Roles</span>\r\n                </li>\r\n            "}};
            
    $(document).ready(function() {
        Core_UserInfoPopup_AttachToUserElements(ctl00_fragment_99eb72a4_bc18_4741_b06f_83a5bd656d4b);
    });
    // ]]>
</script>

<div id="ctl00_fragment_99eb72a4_bc18_4741_b06f_83a5bd656d4b_ctl01_UserInfoPopup" style="position:absolute;visibility:hidden;left:-5000px;"></div></div></div>
<div class="footer-fragments-footer"></div>
		
<script type="text/javascript">
// <![CDATA[
ctl00_content_ctl00 = new ContentFragmentPageCustomCallback('ctl00_content_ctl00',new Function('mode','parameters','callback','errorCallback','context','ctl00_content_ctl00_ctl00._doCallback(mode+\':\'+parameters,callback,context,errorCallback);'));
// ]]>
</script><script type="text/javascript">
// <![CDATA[
Telligent_Modal.Configure('/utility/loading.htm',['modal'],['modal-title','modal-title-2','modal-title-3','modal-title-4'],['modal-close'],['modal-content','modal-content-2'],['modal-footer','modal-footer-2','modal-footer-3'],['modal-resize'],['modal-mask'],10000,false,true,true);
// ]]>
</script><script type="text/javascript">
// <![CDATA[
window.ctl00_fragment_6fa4c54e_967c_42f3_a08a_37ab00f4ece2_ctl01_SearchPopup = new Telligent_PopupPanel('ctl00_fragment_6fa4c54e_967c_42f3_a08a_37ab00f4ece2_ctl01_SearchPopup','menu search-content results','downright',100,null,null,true,'ctl00_fragment_6fa4c54e_967c_42f3_a08a_37ab00f4ece2_ctl01_SearchPopup',null,null);
// ]]>
</script><script type="text/javascript">
// <![CDATA[
window.ctl00_fragment_1d7fbf5e_56bf_4f31_ab9f_95d68b560cbb_ctl01_ctl00_GroupNavigationPopup = new Telligent_PopupPanel('ctl00_fragment_1d7fbf5e_56bf_4f31_ab9f_95d68b560cbb_ctl01_ctl00_GroupNavigationPopup','menu group-navigation-content','down',100,null,null,false,'ctl00_fragment_1d7fbf5e_56bf_4f31_ab9f_95d68b560cbb_ctl01_ctl00_GroupNavigationPopup',new Function('Core_GroupNavigation_MouseOverPopup(ctl00_fragment_1d7fbf5e_56bf_4f31_ab9f_95d68b560cbb)'),new Function('Core_GroupNavigation_MouseOutPopup(ctl00_fragment_1d7fbf5e_56bf_4f31_ab9f_95d68b560cbb)'));
// ]]>
</script><script type="text/javascript">
// <![CDATA[
window.ctl00_content_ctl00_ctl00 = new Telligent_CallbackManager('ctl00_content_ctl00_ctl00','ctl00$content$ctl00$ctl00','aspnetForm');
// ]]>
</script><script type="text/javascript">
// <![CDATA[
window.ctl00_content_ctl00_fragment_5429_ctl01_ctl00_ctl00_PostListWrapper = new DelayedContent('ctl00_content_ctl00_fragment_5429_ctl01_ctl00_ctl00_PostListWrapper','ctl00_content_ctl00_fragment_5429_ctl01_ctl00_ctl00_PostListWrapper','ctl00_content_ctl00._customCallback(\'fragment-5429\',\'ctl00$content$ctl00$fragment_5429$ctl01$ctl00$ctl00$PostListWrapper\',argument,null,callback,null)',true,true,null);
// ]]>
</script><script type="text/javascript">
// <![CDATA[
window.ctl00_fragment_99eb72a4_bc18_4741_b06f_83a5bd656d4b_ctl01_UserInfoPopup = new Telligent_PopupPanel('ctl00_fragment_99eb72a4_bc18_4741_b06f_83a5bd656d4b_ctl01_UserInfoPopup','menu user-info-popup-content','downright',100,null,null,false,'ctl00_fragment_99eb72a4_bc18_4741_b06f_83a5bd656d4b_ctl01_UserInfoPopup',null,null);
// ]]>
</script></form>
	</body>
</html>
