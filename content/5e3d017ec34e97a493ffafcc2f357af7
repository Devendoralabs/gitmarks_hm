<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- johnh style=personal pagestyle=secondary copyright=personal copyrightyear=1995-2003 title="LavaPS"  -->
<!--beg_head3-->
<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta http-equiv="Content-Language" content="en-us">
<meta name="copyright" content="&copy; Copyright 2003 by John Heidemann.">
<!--beg_custom_head-->

<!--end_custom_head-->
<link rel="stylesheet" href="../../STYLE/johnh.css">
<title>LavaPS</title>
</head>

<body>
<!--end_head3-->

<!--beg_nav3-->
<div class="nav">
  <a href="../../index.html">johnh:</a>
  <a href="../../RESEARCH/index.html">research</a>
  <a href="../../TEACHING/index.html">teaching</a>
  <a href="../../PAPERS/index.html">papers</a>
  <a href="../../SOFTWARE/index.html">SOFTWARE</a>
  <a href="../../OTHER/index.html">other</a>
  <a href="../../CONTACT/index.html">contact</a>
  <a href="../../ABOUT/index.html">about</a>
<!--navicon--><div class="navicon"><img src="../PICS/lavaps_b.png" height=48 width=48 alt="[lavaps]"></div>
</div>
<!--end_nav3-->

<h1>
<!--title-->LavaPS
</h1>



<p>
<img src="main_030703.png" alt="lavaps full size" align=right>
LavaPS is an interactive process-tracking program like ``top'',
but with a much different attitude.  Rather than presenting lots of
specific info in digital form, it tries to present certain important
information in a graphical analog form.  The idea is that you can run
it in the background and get a rough idea of what's happening to your
system without devoting much concentration to the task.

<p> Each blob represents a process.  Blob size is porportional
to memory usage.  Movement is porportional to CPU usage.
Color is a combination of program name (which decided the hue)
and time since the program last ran (which decides saturation).
Basically, things that haven't run in a while are stationary and dark,
while things that run a lot are bright and moving.

<p> <img src="popup_030703.png" alt="lavaps popup" align=right>
A popup box (shown to the right) can give more information about a process.
Clicking the left button brings up the popup, the right button
brings up a control menu.


<p> LavaPS was inspired by Mark Weiser's idea of calm computing.  For
details, see:

<blockquote> Mark Weiser and John Seely Brown.  The Coming Age of Calm
Technology, Revised version of Weiser & Brown. ``Designing Calm
Technology'', PowerGrid Journal, v 1.01,
<a href="http://powergrid.electriciti.com/1.01">
http://powergrid.electriciti.com/1.01</a> (July 1996). October,
1996. &lt;<a href="http://www.ubiq.com/hypertext/weiser/acmfuture2endnote.htm">
http://www.ubiq.com/hypertext/weiser/acmfuture2endnote.htm</a>&gt.
</blockquote>

<p>
(This program dedicated to the memory of M.W.--I hope you would have thought it a good hack.)

<p>
Building LavaPS requires C++, STL, and either Tcl/Tk (8.x) or
Gnome/Gtk (2.2 or later).  LavaPS is necessarily system-specific.  It
currently runs under Linux, FreeBSD, Solaris, Irix, AIX, NetBSD, and
MacOS X.  Ports to other systems are encouraged.

<p>
For more details, see <a href="lavaps_man.html">the man page</a>
or look in the code.
LavaPS was also
<a href="http://www.linuxcare.com/viewpoints/ap-of-the-wk/03-10-00.epl">reviewed as app-of-the-week</a> by Brett Neely of Linuxcare,
<a href="http://nooface.com/article.pl?sid=01/10/19/1618238&mode=thread">featured at NooFace</a>,
and at <a href="http://sweetcode.org/archive/2001-10.html">sweetcode</a>.
I'm also told it was reviewed in the August 2001 issue of LinuxFormat
(<a href="http://www.linuxformat.co.uk/">a UK magazine</a>),
but I haven't seen the review (and don't have a URL to it).


<p>
<strong>
Download lavaps-2.7:
</strong>
<a href="lavaps-2.7.tar.gz">source code (tar.gz)</a>,
<a href="lavaps-2.7-1.i386.rpm">RedHat i386 package (i386.rpm)</a>,
<a href="lavaps-2.7-1.src.rpm">RedHat source package (src.rpm)</a>.
<!--
<a href="lavaps-2.7-freebsd-port.tar.gz">FreeBSD port (tar.gz)</a>.
<a href="lavaps-2.7-freebsd-package.tgz">FreeBSD package (tar.gz)</a>.
 -->

<p>
Other folks maintain other versions (now very, very old):
a <a href="ftp://dev.linuxppc.org/users/bbresen/lavaps-1.15-1.ppc.rpm">lavaps-1.15 PPC RPM for Linux</a>.

<p> Lavaps is in the Debian package system, with different versions in
stable, testing, and unstable.
Install it using <pre>apt-get install lavaps</pre>

<p>
Lavaps is also a package in <a href="http://www.altlinux.org/">AltLinux</a>.

<p>
(Download older releases: 
<a href="lavaps-1.0.tar.gz">1.0</a>, 
<a href="lavaps-1.1.tar.gz">1.1</a>,
<a href="lavaps-1.2.tar.gz">1.2</a>,
<a href="lavaps-1.3.tar.gz">1.3</a>,
<a href="lavaps-1.4.tar.gz">1.4</a>,
<a href="lavaps-1.5.tar.gz">1.5</a>,
<a href="lavaps-1.6.tar.gz">1.6</a>,
<a href="lavaps-1.7.tar.gz">1.7</a>,
<a href="lavaps-1.8.tar.gz">1.8</a>,
<a href="lavaps-1.9.tar.gz">1.9</a>,
<a href="lavaps-1.10.tar.gz">1.10</a>,
<a href="lavaps-1.11.tar.gz">1.11</a>,
<a href="lavaps-1.12.tar.gz">1.12</a>,
<a href="lavaps-1.13.tar.gz">1.13</a>,
<a href="lavaps-1.14.tar.gz">1.14</a>,
<a href="lavaps-1.15.tar.gz">1.15</a>,
<a href="lavaps-1.16.tar.gz">1.16</a>,
<a href="lavaps-1.17.tar.gz">1.17</a>,
<a href="lavaps-1.18.tar.gz">1.18</a>,
<a href="lavaps-1.19.tar.gz">1.19</a>,
<a href="lavaps-1.20.tar.gz">1.20</a>,
<a href="lavaps-1.21.tar.gz">1.21</a>,
<a href="lavaps-2.0.tar.gz">2.0</a>,
<a href="lavaps-2.1.tar.gz">2.1</a>,
<a href="lavaps-2.2.tar.gz">2.2</a>,
<a href="lavaps-2.4.tar.gz">2.4</a>,
<a href="lavaps-2.5.tar.gz">2.5</a>,
<a href="lavaps-2.6.tar.gz">2.6</a>,
<a href="lavaps-2.7.tar.gz">2.7</a>)

<p>
As of 11-Jan-05, all RPMs are signed <a href="../../CONTACT/pgp_public_key.html">with my GPG key</a>.

<h2>Known Bugs</h2>

<p>
Lavaps-2.6 has problems building in Tcl/Tk mode
and with gcc-3.4.  Problems fixed in lavaps-2.7.

<p>
Lavaps-2.5 and 2.4 (fixed in 2.6) give this warning on startup:
<pre>
(lavaps:31794): GConf-CRITICAL **: file gconf-value.c: line 1592 (gconf_entry_get_value): assertion `entry != NULL' failed
</pre>
This bug is just cosmetic.
Work-around: ignore the warning.  Fix: apply this patch:
<pre>
--- gtk_blob_conf.cc    2003/12/01 01:06:10     1.14
+++ gtk_blob_conf.cc    2004/06/07 23:40:56     1.15
@@ -105,7 +105,7 @@
 gtk_blob_conf::from_entry_validated(GConfEntry *entry)
 {
        // typechecking
-       if (gconf_entry_get_value(entry) == NULL) {
+       if (entry == NULL || gconf_entry_get_value(entry) == NULL) {
                set_default_value();
                // suppress lack of default silently
                return;
</pre>

<p>
Lavaps-2.3 doesn't build on gcc-3.3 (such as in SuSE Linux 8.2).
Problem fixed in lavaps-2.4.

<p>
Lavaps-2.2 has an important installation bug--get lavaps-2.3.

<p>
Lavaps-1.20 doesn't build cleanly under gcc-3.2.  Fixed in 1.21.

<p>
Lavaps-1.17 doesn't build under gcc-3.0.  Fixed in 1.18.

<p>
Lavaps-1.15 doewsn't build on RedHat 7.0.  Fixed in 1.16.

<p>
I'm told that
lavaps-1.15-1.1386.rpm has an error when trying to run in Linux-Mandrake 7.1
with Helixcode Gnome updates:
<pre>
lavaps: error in loading shared libraries: lavaps: undefined symbol: _t24__default_alloc_template2b1i0.free_list
</pre>

<p>
Work-around: recompile for that platform.
(The RPM works fine under RedHat 6.2.)


<p>
Lavaps-1.14 has a serious bug:  if no geometry is specified
the window grows infinitely on startup.  This bug is fixed in 1.15.

<p>
Two people reported that lavaps-1.13 needs this patch to compile
on some system:
<pre>
--- tcl_blob.cc	2000/06/27 04:25:47	1.43
+++ tcl_blob.cc	2000/07/18 04:30:44
@@ -258,7 +258,9 @@
 	} else if (strcmp(key, "shaped_window_ok") == 0) {
 		if (argc != 2)
 			goto wrong_number_args;
-		Tcl_SetResult(interp, shaped_window_ok() ? "1" : "0", NULL);
+		// The cast on this next line is to work around a 
+		// compiler problem on an unknown platform.
+		Tcl_SetResult(interp, (char*)(shaped_window_ok() ? "1" : "0"), NULL);
 	} else if (strcmp(key, "shape") == 0) {
 		if (argc != 3)
 			goto wrong_number_args;
</pre>
to avoid this compile error:
<pre>
tcl_blob.cc: In function `static int tcl_blob::lava_menu_proc(void *, Tcl_Interp *, int, char **)':
tcl_blob.cc:260: passing `const char *' as argument 2 of `Tcl_SetResult(Tcl_Interp *, char *, void (*)(char *))' discards qualifiers
</pre>

<p>
Lavaps-1.10 produces a compiler warning on snprintf.
This will be fixed in the next release; for now just ignore it.

<p>
Lavaps-1.8 and 1.9 leaks memory on Debian Linux (but not on RedHat or FreeBSD,
see Debian bug #49828 for details).
The problem appears to be in a library (see Debian bug #53343), not in
lavaps, so I cannot fix it.
The good news is that the Tcl/Tk debian port maintiner has found the problem
and it should be fixed in the next Debian release (thanks Kirk!).

<p>
Lavaps requires at least gcc 2.8.
FreeBSD users will need to upgrade gcc before building lavaps.



       

<!--beg_tail3-->
<div class="navbore">
  <br>
  <a href="../../CONTACT/copyright.html">&copy; 1995-2003</a>
  <!-- hhmts start -->
Last Modified: August 2009
<!-- hhmts end -->
</div>
</body> </html>
<!--end_tail3-->

