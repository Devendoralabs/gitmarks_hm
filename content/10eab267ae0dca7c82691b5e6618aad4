<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head profile="http://gmpg.org/xfn/11">
    <title>Ajaxian &raquo; The Dojo Toolkit in Practice</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="generator" content="WordPress 2.9.2" />
    <link href="/wp-content/themes/ajaxian/style.css?v=2" rel="stylesheet" type="text/css" media="all" />
    <link rel="Shortcut Icon" href="http://ajaxian.com/wp-content/themes/ajaxian/images/favicon.ico" type="image/x-icon" />
    <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="http://ajaxian.com/index.xml" />
    <link rel="alternate" type="text/xml" title="RSS .92" href="http://ajaxian.com/index.xml" />
    <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="http://ajaxian.com/index.xml" />
    <link rel="pingback" href="http://ajaxian.com/xmlrpc.php" />

    <script type="text/javascript" src="/wp-content/themes/ajaxian/scripts/handleSearchfield.js?v=1"></script>
    <script type="text/javascript" src="/wp-content/themes/ajaxian/scripts/email-builder.js?v=1"></script>
    <script type="text/javascript" src="/wp-content/themes/ajaxian/scripts/prototype/prototype-1.4.0.js"></script>
    <script type="text/javascript" src="/wp-content/themes/ajaxian/scripts/scriptaculous/effects-1.5.2.js"></script>
	<script type="text/javascript" src="/wp-content/themes/ajaxian/scripts/tt_optin_widget.js"></script>

        <link rel='stylesheet' id='wp-stats-css'  href='http://ajaxian.com/wp-content/plugins/wp-stats/stats-css.css?ver=2.50' type='text/css' media='all' />
<script type='text/javascript' src='http://ajaxian.com/wp-includes/js/jquery/jquery.js?ver=1.3.2'></script>
<script type='text/javascript' src='http://ajaxian.com/wp-content/plugins/google-analyticator/external-tracking.min.js?ver=6.1.1'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://ajaxian.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://ajaxian.com/wp-includes/wlwmanifest.xml" /> 
<link rel='index' title='Ajaxian' href='http://ajaxian.com' />
<link rel='up' title='Articles' href='http://ajaxian.com/articles' />
<meta name="generator" content="WordPress 2.9.2" />
<link rel='canonical' href='http://ajaxian.com/articles/the-dojo-toolkit-in-practice' />
<link rel="stylesheet" href="http://ajaxian.com/wp-content/plugins/ig_syntax_hilite/syntax_hilite_css.css" type="text/css" media="all" />
	<script language="javascript" src="http://ajaxian.com/wp-content/plugins/ig_syntax_hilite/syntax_hilite_js.js"></script>
<script type="text/javascript" src="http://ajaxian.com/wp-content/plugins/votio/votio.php"></script>
	<!-- Google Analytics Tracking by Google Analyticator 6.1.1: http://ronaldheft.com/code/analyticator/ -->
<script type="text/javascript">window.google_analytics_uacct = "ca-pub-6050985421795229";</script>
<script type="text/javascript">
	var analyticsFileTypes = [''];
	var analyticsEventTracking = 'enabled';
</script>
<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-18994821-2']);
	_gaq.push(['_trackPageview']);
	_gaq.push(['_setAccount', 'UA-19047342-11']);
_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>
  </head>
  <body>
    <div id="wrapper">
	<!-- BEGIN: techtarget network log-in bar -->
	<div id="ttLoginBar">
							<a href="http://register.techtarget.com/registration/ajaxian/LoginRegister.page?fromURL=http://ajaxian.com%2Farticles%2Fthe-dojo-toolkit-in-practice">Activate your free membership today</a>&nbsp;&#124;&nbsp;<a href="http://register.techtarget.com/registration/ajaxian/LoginRegister.page?fromURL=http://ajaxian.com%2Farticles%2Fthe-dojo-toolkit-in-practice">Log-in</a>
       	</div>
	<!-- END: techtarget network log-in bar -->

      <div id="header">
        <h1><a href="http://ajaxian.com" title="Homepage of Ajaxian">Ajaxian</a></h1>
        <h2>Dion and Ben&#8217;s Ajax Platform</h2>
	<!-- mfunc ajaxian_random_topbar_adspot() -->
        <span id="ad-topright">
<iframe  src="http://ad.doubleclick.net/adi/aajax/home;pos=0;sz=468x60;dcopt=;ptile=1;ord=22322302?;kw=homePage;sizes=Array;ad_name=top_ad;zone=home" name="top_ad" id="fra468x60" width="468" height="60" border="0" frameborder="0" marginheight="0" marginwidth="0" scrolling="no"><a href="http://ad.doubleclick.net/jump/aajax/home;pos=0;sz=468x60;dcopt=;ptile=1;ord=22322302?;kw=homePage;sizes=Array;ad_name=top_ad;zone=home"><img src="http://ad.doubleclick.net/ad/aajax/home;pos=0;sz=468x60;dcopt=;ptile=1;ord=22322302?;kw=homePage;sizes=Array;ad_name=top_ad;zone=home" width="468" height="60" border="0"></a></iframe></span>
	<!-- /mfunc -->
        <ul id="navigation">
  <li><a href="/" title="Latest news">News</a></li>
  <li><a href="/podcasts/" title="See our Audible Ajax podcast">Podcasts</a></li>
  <li><a href="/showcase/" title="See examples of Ajax in practice">Showcases</a></li>
  <li><a href="/resources/" title="Keep up to date with all things Ajax">Resources</a></li>
  <li><a href="/services/training/" title="Ajax Training">Training</a></li>
  <li><a href="/conference/" title="The Ajax Experience Conference">Conference</a></li>
  <li><a href="http://jobs.ajaxian.com/" title="Find Jobs">Jobs</a></li>
  <li><a href="http://planet.ajaxian.com/" target="_blank" title="External: Planet Ajaxian">Planet</a></li>
  <li><a href="http://ajaxpatterns.org/" target="_blank" title="External: AjaxPatterns.org">Patterns</a></li>
  <li><a href="mailto:ajaxians@ajaxian.com" title="Contribute news and stories of interest to the Ajax community">Contribute News</a></li>
  <li><a href="/index.xml" title="Subscribe to our RSS feed"><img src="/wp-content/themes/ajaxian/images/icon_feed.gif" border="0" class="feedicon"/></a></li>
</ul>
        <form id="searchform" method="get" action="/index.php">
  <p><input type="text" name="s" id="s" size="20" />
  <button type="submit" name="searchbutton" id="searchbutton" value="Go">go</button></p>
</form>
      </div>
      <div id="pagebody">
      <div id="navigationbar">

  <!--mfunc ajaxian_random_leftbar_adspot() -->
  <div align="center">
<iframe  src="http://ad.doubleclick.net/adi/aajax/home;pos=0;sz=125x125;dcopt=;ptile=2;ord=22322302?;kw=homePage;sizes=Array;ad_name=left_side_ad;zone=home" name="left_side_ad" id="fra125x125" width="125" height="125" border="0" frameborder="0" marginheight="0" marginwidth="0" scrolling="no"><a href="http://ad.doubleclick.net/jump/aajax/home;pos=0;sz=125x125;dcopt=;ptile=2;ord=22322302?;kw=homePage;sizes=Array;ad_name=left_side_ad;zone=home"><img src="http://ad.doubleclick.net/ad/aajax/home;pos=0;sz=125x125;dcopt=;ptile=2;ord=22322302?;kw=homePage;sizes=Array;ad_name=left_side_ad;zone=home" width="125" height="125" border="0"></a></iframe> </div>
  <!--/mfunc-->

  <!--
  <div id="ajaxexperience" align="center">
  <a href="http://theajaxexperience.com/" title="Come join us at The Ajax Experience!"><img src="/wp-content/images/taeboston.jpg" alt="Ajax Experience" border="0" width="125" height="125"/></a>
  </div>
  -->
  
  <div id="jobs">
  <h3>Jobs @ Ajaxian</h3>
  <ul>
  <li><a href="http://jobs.ajaxian.com">Find a Job, Post a job.</a></li>
  </ul>
</div>

<div id="categories">
  <h3>Topics</h3>
  <ul>
  	<li class="cat-item cat-item-15"><a href="http://ajaxian.com/by/topic/net" title="View all posts filed under .NET">.NET</a> (68)
</li>
	<li class="cat-item cat-item-339"><a href="http://ajaxian.com/by/topic/3d-topic" title="View all posts filed under 3D">3D</a> (7)
</li>
	<li class="cat-item cat-item-21"><a href="http://ajaxian.com/by/topic/accessibility" title="View all posts filed under Accessibility">Accessibility</a> (57)
</li>
	<li class="cat-item cat-item-98"><a href="http://ajaxian.com/by/topic/adobe" title="View all posts filed under Adobe">Adobe</a> (94)
</li>
	<li class="cat-item cat-item-86"><a href="http://ajaxian.com/by/topic/advertising" title="View all posts filed under Advertising">Advertising</a> (3)
</li>
	<li class="cat-item cat-item-1"><a href="http://ajaxian.com/by/topic/ajax" title="View all posts filed under Ajax">Ajax</a> (385)
</li>
	<li class="cat-item cat-item-94"><a href="http://ajaxian.com/by/topic/ajaxiancom-announcements" title="View all posts filed under Ajaxian.com Announcements">Ajaxian.com Announcements</a> (16)
</li>
	<li class="cat-item cat-item-117"><a href="http://ajaxian.com/by/topic/android" title="View all posts filed under Android">Android</a> (3)
</li>
	<li class="cat-item cat-item-433"><a href="http://ajaxian.com/by/topic/animation-topic" title="View all posts filed under Animation">Animation</a> (5)
</li>
	<li class="cat-item cat-item-93"><a href="http://ajaxian.com/by/topic/announcements" title="View all posts filed under Announcements">Announcements</a> (103)
</li>
	<li class="cat-item cat-item-264"><a href="http://ajaxian.com/by/topic/appcelerator" title="View all posts filed under Appcelerator">Appcelerator</a> (3)
</li>
	<li class="cat-item cat-item-140"><a href="http://ajaxian.com/by/topic/apple" title="View all posts filed under Apple">Apple</a> (20)
</li>
	<li class="cat-item cat-item-118"><a href="http://ajaxian.com/by/topic/aptana" title="View all posts filed under Aptana">Aptana</a> (30)
</li>
	<li class="cat-item cat-item-27"><a href="http://ajaxian.com/by/topic/articles" title="View all posts filed under Articles">Articles</a> (217)
</li>
	<li class="cat-item cat-item-82"><a href="http://ajaxian.com/by/topic/atlas" title="View all posts filed under Atlas">Atlas</a> (8)
</li>
	<li class="cat-item cat-item-305"><a href="http://ajaxian.com/by/topic/bespin" title="View all posts filed under Bespin">Bespin</a> (6)
</li>
	<li class="cat-item cat-item-73"><a href="http://ajaxian.com/by/topic/book-reviews" title="View all posts filed under Book Reviews">Book Reviews</a> (21)
</li>
	<li class="cat-item cat-item-332"><a href="http://ajaxian.com/by/topic/bookmarklets" title="View all posts filed under Bookmarklets">Bookmarklets</a> (2)
</li>
	<li class="cat-item cat-item-49"><a href="http://ajaxian.com/by/topic/books" title="View all posts filed under Books">Books</a> (33)
</li>
	<li class="cat-item cat-item-28"><a href="http://ajaxian.com/by/topic/browsers" title="View all posts filed under Browsers">Browsers</a> (256)
</li>
	<li class="cat-item cat-item-9"><a href="http://ajaxian.com/by/topic/builds" title="View all posts filed under Builds">Builds</a> (4)
</li>
	<li class="cat-item cat-item-56"><a href="http://ajaxian.com/by/topic/business" title="View all posts filed under Business">Business</a> (16)
</li>
	<li class="cat-item cat-item-39"><a href="http://ajaxian.com/by/topic/calendar" title="View all posts filed under Calendar">Calendar</a> (12)
</li>
	<li class="cat-item cat-item-46"><a href="http://ajaxian.com/by/topic/canvas" title="View all posts filed under Canvas">Canvas</a> (164)
</li>
	<li class="cat-item cat-item-317"><a href="http://ajaxian.com/by/topic/cappuccino-topic" title="View all posts filed under Cappuccino">Cappuccino</a> (12)
</li>
	<li class="cat-item cat-item-22"><a href="http://ajaxian.com/by/topic/chat" title="View all posts filed under Chat">Chat</a> (23)
</li>
	<li class="cat-item cat-item-246"><a href="http://ajaxian.com/by/topic/chrome-topic" title="View all posts filed under Chrome">Chrome</a> (16)
</li>
	<li class="cat-item cat-item-405"><a href="http://ajaxian.com/by/topic/closure" title="View all posts filed under Closure">Closure</a> (3)
</li>
	<li class="cat-item cat-item-119"><a href="http://ajaxian.com/by/topic/cloud" title="View all posts filed under Cloud">Cloud</a> (4)
</li>
	<li class="cat-item cat-item-53"><a href="http://ajaxian.com/by/topic/cold-fusion" title="View all posts filed under ColdFusion">ColdFusion</a> (10)
</li>
	<li class="cat-item cat-item-72"><a href="http://ajaxian.com/by/topic/comet" title="Ajax push">Comet</a> (68)
</li>
	<li class="cat-item cat-item-13"><a href="http://ajaxian.com/by/topic/component" title="View all posts filed under Component">Component</a> (126)
</li>
	<li class="cat-item cat-item-80"><a href="http://ajaxian.com/by/topic/conferences" title="View all posts filed under Conferences">Conferences</a> (46)
</li>
	<li class="cat-item cat-item-312"><a href="http://ajaxian.com/by/topic/contests" title="View all posts filed under Contests">Contests</a> (2)
</li>
	<li class="cat-item cat-item-42"><a href="http://ajaxian.com/by/topic/css" title="View all posts filed under CSS">CSS</a> (248)
</li>
	<li class="cat-item cat-item-66"><a href="http://ajaxian.com/by/topic/database" title="View all posts filed under Database">Database</a> (16)
</li>
	<li class="cat-item cat-item-116"><a href="http://ajaxian.com/by/topic/debugging" title="Firebug, YSlow, and more.">Debugging</a> (47)
</li>
	<li class="cat-item cat-item-83"><a href="http://ajaxian.com/by/topic/design" title="View all posts filed under Design">Design</a> (25)
</li>
	<li class="cat-item cat-item-17"><a href="http://ajaxian.com/by/topic/dojo" title="View all posts filed under Dojo">Dojo</a> (227)
</li>
	<li class="cat-item cat-item-97"><a href="http://ajaxian.com/by/topic/dwr" title="View all posts filed under DWR">DWR</a> (17)
</li>
	<li class="cat-item cat-item-417"><a href="http://ajaxian.com/by/topic/ebooks" title="View all posts filed under eBooks">eBooks</a> (1)
</li>
	<li class="cat-item cat-item-8"><a href="http://ajaxian.com/by/topic/editorial" title="View all posts filed under Editorial">Editorial</a> (295)
</li>
	<li class="cat-item cat-item-43"><a href="http://ajaxian.com/by/topic/email" title="View all posts filed under Email">Email</a> (5)
</li>
	<li class="cat-item cat-item-24"><a href="http://ajaxian.com/by/topic/examples" title="View all posts filed under Examples">Examples</a> (203)
</li>
	<li class="cat-item cat-item-444"><a href="http://ajaxian.com/by/topic/facebook" title="View all posts filed under Facebook">Facebook</a> (1)
</li>
	<li class="cat-item cat-item-33"><a href="http://ajaxian.com/by/topic/firefox" title="View all posts filed under Firefox">Firefox</a> (110)
</li>
	<li class="cat-item cat-item-30"><a href="http://ajaxian.com/by/topic/flash" title="View all posts filed under Flash">Flash</a> (88)
</li>
	<li class="cat-item cat-item-422"><a href="http://ajaxian.com/by/topic/font-topic" title="View all posts filed under Font">Font</a> (3)
</li>
	<li class="cat-item cat-item-76"><a href="http://ajaxian.com/by/topic/framework" title="View all posts filed under Framework">Framework</a> (74)
</li>
	<li class="cat-item cat-item-31"><a href="http://ajaxian.com/by/topic/fun" title="View all posts filed under Fun">Fun</a> (109)
</li>
	<li class="cat-item cat-item-32"><a href="http://ajaxian.com/by/topic/games" title="View all posts filed under Games">Games</a> (84)
</li>
	<li class="cat-item cat-item-108"><a href="http://ajaxian.com/by/topic/gears" title="View all posts filed under Gears">Gears</a> (69)
</li>
	<li class="cat-item cat-item-211"><a href="http://ajaxian.com/by/topic/geo" title="View all posts filed under Geo">Geo</a> (4)
</li>
	<li class="cat-item cat-item-37"><a href="http://ajaxian.com/by/topic/google" title="View all posts filed under Google">Google</a> (177)
<ul class='children'>
	<li class="cat-item cat-item-391"><a href="http://ajaxian.com/by/topic/google/chrome-frame" title="View all posts filed under Chrome Frame">Chrome Frame</a> (3)
</li>
</ul>
</li>
	<li class="cat-item cat-item-434"><a href="http://ajaxian.com/by/topic/graphics" title="View all posts filed under Graphics">Graphics</a> (3)
</li>
	<li class="cat-item cat-item-90"><a href="http://ajaxian.com/by/topic/gwt" title="View all posts filed under GWT">GWT</a> (86)
</li>
	<li class="cat-item cat-item-4"><a href="http://ajaxian.com/by/topic/html" title="View all posts filed under HTML">HTML</a> (116)
</li>
	<li class="cat-item cat-item-25"><a href="http://ajaxian.com/by/topic/ie" title="View all posts filed under IE">IE</a> (153)
</li>
	<li class="cat-item cat-item-38"><a href="http://ajaxian.com/by/topic/interview" title="View all posts filed under Interview">Interview</a> (28)
</li>
	<li class="cat-item cat-item-110"><a href="http://ajaxian.com/by/topic/iphone" title="View all posts filed under iPhone">iPhone</a> (66)
</li>
	<li class="cat-item cat-item-10"><a href="http://ajaxian.com/by/topic/java" title="View all posts filed under Java">Java</a> (156)
</li>
	<li class="cat-item cat-item-5"><a href="http://ajaxian.com/by/topic/javascript" title="View all posts filed under JavaScript">JavaScript</a> (1368)
</li>
	<li class="cat-item cat-item-112"><a href="http://ajaxian.com/by/topic/jmaki" title="View all posts filed under jMaki">jMaki</a> (7)
</li>
	<li class="cat-item cat-item-92"><a href="http://ajaxian.com/by/topic/jquery" title="View all posts filed under jQuery">jQuery</a> (181)
</li>
	<li class="cat-item cat-item-84"><a href="http://ajaxian.com/by/topic/json" title="JSON/JSONRequest">JSON</a> (67)
</li>
	<li class="cat-item cat-item-12"><a href="http://ajaxian.com/by/topic/library" title="View all posts filed under Library">Library</a> (572)
</li>
	<li class="cat-item cat-item-44"><a href="http://ajaxian.com/by/topic/liveedit" title="View all posts filed under LiveEdit">LiveEdit</a> (5)
</li>
	<li class="cat-item cat-item-29"><a href="http://ajaxian.com/by/topic/livesearch" title="View all posts filed under LiveSearch">LiveSearch</a> (17)
</li>
	<li class="cat-item cat-item-78"><a href="http://ajaxian.com/by/topic/mac" title="Macs and Ajax - like Peant Butter and Jelly">Mac</a> (1)
</li>
	<li class="cat-item cat-item-34"><a href="http://ajaxian.com/by/topic/mapping" title="View all posts filed under Mapping">Mapping</a> (43)
</li>
	<li class="cat-item cat-item-96"><a href="http://ajaxian.com/by/topic/microformat" title="View all posts filed under Microformat">Microformat</a> (5)
</li>
	<li class="cat-item cat-item-91"><a href="http://ajaxian.com/by/topic/microsoft" title="Microsoft">Microsoft</a> (51)
</li>
	<li class="cat-item cat-item-52"><a href="http://ajaxian.com/by/topic/mobile" title="View all posts filed under Mobile">Mobile</a> (89)
</li>
	<li class="cat-item cat-item-109"><a href="http://ajaxian.com/by/topic/mootools" title="View all posts filed under MooTools">MooTools</a> (60)
</li>
	<li class="cat-item cat-item-233"><a href="http://ajaxian.com/by/topic/mozilla-topic" title="View all posts filed under Mozilla">Mozilla</a> (28)
</li>
	<li class="cat-item cat-item-429"><a href="http://ajaxian.com/by/topic/node" title="View all posts filed under Node">Node</a> (13)
</li>
	<li class="cat-item cat-item-60"><a href="http://ajaxian.com/by/topic/office" title="View all posts filed under Office">Office</a> (9)
</li>
	<li class="cat-item cat-item-100"><a href="http://ajaxian.com/by/topic/offline" title="View all posts filed under Offline">Offline</a> (31)
</li>
	<li class="cat-item cat-item-105"><a href="http://ajaxian.com/by/topic/openajax" title="View all posts filed under OpenAjax">OpenAjax</a> (6)
</li>
	<li class="cat-item cat-item-185"><a href="http://ajaxian.com/by/topic/openwebpodcast" title="View all posts filed under OpenWebPodcast">OpenWebPodcast</a> (5)
</li>
	<li class="cat-item cat-item-89"><a href="http://ajaxian.com/by/topic/opera" title="Opera Browser">Opera</a> (23)
</li>
	<li class="cat-item cat-item-113"><a href="http://ajaxian.com/by/topic/performance" title="Cover performance, scalability, benchmarks, etc.">Performance</a> (181)
</li>
	<li class="cat-item cat-item-35"><a href="http://ajaxian.com/by/topic/perl" title="View all posts filed under Perl">Perl</a> (8)
</li>
	<li class="cat-item cat-item-18"><a href="http://ajaxian.com/by/topic/php" title="View all posts filed under PHP">PHP</a> (91)
</li>
	<li class="cat-item cat-item-85"><a href="http://ajaxian.com/by/topic/plugins" title="Javascript bindings with browser plugins.">Plugins</a> (14)
</li>
	<li class="cat-item cat-item-40"><a href="http://ajaxian.com/by/topic/podcasts" title="View all posts filed under Podcasts">Podcasts</a> (39)
</li>
	<li class="cat-item cat-item-23"><a href="http://ajaxian.com/by/topic/portal" title="View all posts filed under Portal">Portal</a> (13)
</li>
	<li class="cat-item cat-item-48"><a href="http://ajaxian.com/by/topic/pragmatic-ajax" title="View all posts filed under Pragmatic Ajax">Pragmatic Ajax</a> (2)
</li>
	<li class="cat-item cat-item-45"><a href="http://ajaxian.com/by/topic/presentation" title="View all posts filed under Presentation">Presentation</a> (72)
</li>
	<li class="cat-item cat-item-55"><a href="http://ajaxian.com/by/topic/programming" title="View all posts filed under Programming">Programming</a> (134)
</li>
	<li class="cat-item cat-item-16"><a href="http://ajaxian.com/by/topic/prototype" title="View all posts filed under Prototype">Prototype</a> (226)
</li>
	<li class="cat-item cat-item-67"><a href="http://ajaxian.com/by/topic/python" title="View all posts filed under Python">Python</a> (14)
</li>
	<li class="cat-item cat-item-115"><a href="http://ajaxian.com/by/topic/qooxdoo" title="View all posts filed under Qooxdoo">Qooxdoo</a> (9)
</li>
	<li class="cat-item cat-item-88"><a href="http://ajaxian.com/by/topic/rails" title="View all posts filed under Rails">Rails</a> (41)
</li>
	<li class="cat-item cat-item-75"><a href="http://ajaxian.com/by/topic/recording" title="Audio/Video recording external to Ajaxian">Recording</a> (8)
</li>
	<li class="cat-item cat-item-58"><a href="http://ajaxian.com/by/topic/remoting" title="View all posts filed under Remoting">Remoting</a> (19)
</li>
	<li class="cat-item cat-item-36"><a href="http://ajaxian.com/by/topic/richtextwidget" title="View all posts filed under RichTextWidget">RichTextWidget</a> (20)
</li>
	<li class="cat-item cat-item-107"><a href="http://ajaxian.com/by/topic/roundup" title="Our monthly roundup of news">Roundup</a> (13)
</li>
	<li class="cat-item cat-item-6"><a href="http://ajaxian.com/by/topic/ruby" title="View all posts filed under Ruby">Ruby</a> (68)
</li>
	<li class="cat-item cat-item-265"><a href="http://ajaxian.com/by/topic/runtime" title="View all posts filed under Runtime">Runtime</a> (2)
</li>
	<li class="cat-item cat-item-11"><a href="http://ajaxian.com/by/topic/screencast" title="View all posts filed under Screencast">Screencast</a> (40)
</li>
	<li class="cat-item cat-item-79"><a href="http://ajaxian.com/by/topic/scriptaculous" title="Scriptaculous">Scriptaculous</a> (43)
</li>
	<li class="cat-item cat-item-54"><a href="http://ajaxian.com/by/topic/security" title="View all posts filed under Security">Security</a> (96)
</li>
	<li class="cat-item cat-item-99"><a href="http://ajaxian.com/by/topic/sencha" title="The company behind Ext JS, Raphael, jQTouch, Sencha Touch, and ....">Sencha</a> (83)
</li>
	<li class="cat-item cat-item-26"><a href="http://ajaxian.com/by/topic/server" title="View all posts filed under Server">Server</a> (29)
</li>
	<li class="cat-item cat-item-20"><a href="http://ajaxian.com/by/topic/showcase" title="View all posts filed under Showcase">Showcase</a> (733)
</li>
	<li class="cat-item cat-item-111"><a href="http://ajaxian.com/by/topic/social-networks" title="Facebook, LinkedIn, Ning, ...">Social Networks</a> (15)
</li>
	<li class="cat-item cat-item-101"><a href="http://ajaxian.com/by/topic/sound" title="View all posts filed under Sound">Sound</a> (20)
</li>
	<li class="cat-item cat-item-402"><a href="http://ajaxian.com/by/topic/sproutcore-topic" title="View all posts filed under SproutCore">SproutCore</a> (3)
</li>
	<li class="cat-item cat-item-103"><a href="http://ajaxian.com/by/topic/standards" title="View all posts filed under Standards">Standards</a> (77)
</li>
	<li class="cat-item cat-item-74"><a href="http://ajaxian.com/by/topic/storage" title="View all posts filed under Storage">Storage</a> (5)
</li>
	<li class="cat-item cat-item-50"><a href="http://ajaxian.com/by/topic/survey" title="View all posts filed under Survey">Survey</a> (14)
</li>
	<li class="cat-item cat-item-106"><a href="http://ajaxian.com/by/topic/svg" title="View all posts filed under SVG">SVG</a> (44)
</li>
	<li class="cat-item cat-item-57"><a href="http://ajaxian.com/by/topic/testing" title="View all posts filed under Testing">Testing</a> (66)
</li>
	<li class="cat-item cat-item-59"><a href="http://ajaxian.com/by/topic/conference" title="View all posts filed under The Ajax Experience">The Ajax Experience</a> (89)
</li>
	<li class="cat-item cat-item-69"><a href="http://ajaxian.com/by/topic/tibco" title="View all posts filed under TIBCO">TIBCO</a> (25)
</li>
	<li class="cat-item cat-item-65"><a href="http://ajaxian.com/by/topic/tip" title="quick tips can all go here">Tip</a> (91)
</li>
	<li class="cat-item cat-item-318"><a href="http://ajaxian.com/by/topic/titanium" title="View all posts filed under Titanium">Titanium</a> (1)
</li>
	<li class="cat-item cat-item-14"><a href="http://ajaxian.com/by/topic/toolkit" title="View all posts filed under Toolkit">Toolkit</a> (173)
</li>
	<li class="cat-item cat-item-428"><a href="http://ajaxian.com/by/topic/tools" title="View all posts filed under Tools">Tools</a> (2)
</li>
	<li class="cat-item cat-item-81"><a href="http://ajaxian.com/by/topic/tutorial" title="View all posts filed under Tutorial">Tutorial</a> (31)
</li>
	<li class="cat-item cat-item-393"><a href="http://ajaxian.com/by/topic/typography-topic" title="View all posts filed under Typography">Typography</a> (4)
</li>
	<li class="cat-item cat-item-41"><a href="http://ajaxian.com/by/topic/ui" title="View all posts filed under UI">UI</a> (127)
</li>
	<li class="cat-item cat-item-87"><a href="http://ajaxian.com/by/topic/unobtrusive-js" title="keep your stuff seperated from your other stuff">Unobtrusive JS</a> (22)
</li>
	<li class="cat-item cat-item-3"><a href="http://ajaxian.com/by/topic/usability" title="View all posts filed under Usability">Usability</a> (85)
</li>
	<li class="cat-item cat-item-19"><a href="http://ajaxian.com/by/topic/utility" title="View all posts filed under Utility">Utility</a> (217)
</li>
	<li class="cat-item cat-item-297"><a href="http://ajaxian.com/by/topic/video-topic" title="View all posts filed under Video">Video</a> (26)
</li>
	<li class="cat-item cat-item-394"><a href="http://ajaxian.com/by/topic/view-source" title="View all posts filed under View Source">View Source</a> (3)
</li>
	<li class="cat-item cat-item-102"><a href="http://ajaxian.com/by/topic/w3c" title="View all posts filed under W3C">W3C</a> (12)
</li>
	<li class="cat-item cat-item-451"><a href="http://ajaxian.com/by/topic/web-ninja-interview" title="View all posts filed under Web Ninja Interview">Web Ninja Interview</a> (3)
</li>
	<li class="cat-item cat-item-51"><a href="http://ajaxian.com/by/topic/web20" title="View all posts filed under Web20">Web20</a> (25)
</li>
	<li class="cat-item cat-item-410"><a href="http://ajaxian.com/by/topic/webgl" title="View all posts filed under WebGL">WebGL</a> (2)
</li>
	<li class="cat-item cat-item-77"><a href="http://ajaxian.com/by/topic/webkit-topic" title="View all posts filed under WebKit">WebKit</a> (58)
</li>
	<li class="cat-item cat-item-404"><a href="http://ajaxian.com/by/topic/webos" title="View all posts filed under WebOS">WebOS</a> (6)
</li>
	<li class="cat-item cat-item-104"><a href="http://ajaxian.com/by/topic/widgets" title="View all posts filed under Widgets">Widgets</a> (13)
</li>
	<li class="cat-item cat-item-47"><a href="http://ajaxian.com/by/topic/workshop" title="View all posts filed under Workshop">Workshop</a> (8)
</li>
	<li class="cat-item cat-item-7"><a href="http://ajaxian.com/by/topic/xmlhttprequest" title="View all posts filed under XmlHttpRequest">XmlHttpRequest</a> (45)
</li>
	<li class="cat-item cat-item-71"><a href="http://ajaxian.com/by/topic/yahoo" title="View all posts filed under Yahoo!">Yahoo!</a> (148)
</li>
	<li class="cat-item cat-item-132"><a href="http://ajaxian.com/by/topic/yui" title="View all posts filed under YUI">YUI</a> (9)
</li>
  </ul>
</div>

<div id="archives">
  <h3>Archive</h3>
  <ul>
    	<li><a href='http://ajaxian.com/archives/2010/12' title='December 2010'>December 2010</a>&nbsp;(3)</li>
	<li><a href='http://ajaxian.com/archives/2010/11' title='November 2010'>November 2010</a>&nbsp;(5)</li>
	<li><a href='http://ajaxian.com/archives/2010/10' title='October 2010'>October 2010</a>&nbsp;(11)</li>
	<li><a href='http://ajaxian.com/archives/2010/09' title='September 2010'>September 2010</a>&nbsp;(31)</li>
	<li><a href='http://ajaxian.com/archives/2010/08' title='August 2010'>August 2010</a>&nbsp;(32)</li>
	<li><a href='http://ajaxian.com/archives/2010/07' title='July 2010'>July 2010</a>&nbsp;(15)</li>
	<li><a href='http://ajaxian.com/archives/2010/06' title='June 2010'>June 2010</a>&nbsp;(57)</li>
	<li><a href='http://ajaxian.com/archives/2010/05' title='May 2010'>May 2010</a>&nbsp;(57)</li>
	<li><a href='http://ajaxian.com/archives/2010/04' title='April 2010'>April 2010</a>&nbsp;(70)</li>
	<li><a href='http://ajaxian.com/archives/2010/03' title='March 2010'>March 2010</a>&nbsp;(49)</li>
	<li><a href='http://ajaxian.com/archives/2010/02' title='February 2010'>February 2010</a>&nbsp;(35)</li>
	<li><a href='http://ajaxian.com/archives/2010/01' title='January 2010'>January 2010</a>&nbsp;(31)</li>
	<li><a href='http://ajaxian.com/archives/2009/12' title='December 2009'>December 2009</a>&nbsp;(47)</li>
	<li><a href='http://ajaxian.com/archives/2009/11' title='November 2009'>November 2009</a>&nbsp;(46)</li>
	<li><a href='http://ajaxian.com/archives/2009/10' title='October 2009'>October 2009</a>&nbsp;(47)</li>
	<li><a href='http://ajaxian.com/archives/2009/09' title='September 2009'>September 2009</a>&nbsp;(38)</li>
	<li><a href='http://ajaxian.com/archives/2009/08' title='August 2009'>August 2009</a>&nbsp;(34)</li>
	<li><a href='http://ajaxian.com/archives/2009/07' title='July 2009'>July 2009</a>&nbsp;(44)</li>
	<li><a href='http://ajaxian.com/archives/2009/06' title='June 2009'>June 2009</a>&nbsp;(51)</li>
	<li><a href='http://ajaxian.com/archives/2009/05' title='May 2009'>May 2009</a>&nbsp;(35)</li>
	<li><a href='http://ajaxian.com/archives/2009/04' title='April 2009'>April 2009</a>&nbsp;(80)</li>
	<li><a href='http://ajaxian.com/archives/2009/03' title='March 2009'>March 2009</a>&nbsp;(96)</li>
	<li><a href='http://ajaxian.com/archives/2009/02' title='February 2009'>February 2009</a>&nbsp;(87)</li>
	<li><a href='http://ajaxian.com/archives/2009/01' title='January 2009'>January 2009</a>&nbsp;(92)</li>
	<li><a href='http://ajaxian.com/archives/2008/12' title='December 2008'>December 2008</a>&nbsp;(92)</li>
	<li><a href='http://ajaxian.com/archives/2008/11' title='November 2008'>November 2008</a>&nbsp;(89)</li>
	<li><a href='http://ajaxian.com/archives/2008/10' title='October 2008'>October 2008</a>&nbsp;(104)</li>
	<li><a href='http://ajaxian.com/archives/2008/09' title='September 2008'>September 2008</a>&nbsp;(107)</li>
	<li><a href='http://ajaxian.com/archives/2008/08' title='August 2008'>August 2008</a>&nbsp;(97)</li>
	<li><a href='http://ajaxian.com/archives/2008/07' title='July 2008'>July 2008</a>&nbsp;(100)</li>
	<li><a href='http://ajaxian.com/archives/2008/06' title='June 2008'>June 2008</a>&nbsp;(103)</li>
	<li><a href='http://ajaxian.com/archives/2008/05' title='May 2008'>May 2008</a>&nbsp;(93)</li>
	<li><a href='http://ajaxian.com/archives/2008/04' title='April 2008'>April 2008</a>&nbsp;(110)</li>
	<li><a href='http://ajaxian.com/archives/2008/03' title='March 2008'>March 2008</a>&nbsp;(108)</li>
	<li><a href='http://ajaxian.com/archives/2008/02' title='February 2008'>February 2008</a>&nbsp;(113)</li>
	<li><a href='http://ajaxian.com/archives/2008/01' title='January 2008'>January 2008</a>&nbsp;(112)</li>
	<li><a href='http://ajaxian.com/archives/2007/12' title='December 2007'>December 2007</a>&nbsp;(92)</li>
	<li><a href='http://ajaxian.com/archives/2007/11' title='November 2007'>November 2007</a>&nbsp;(106)</li>
	<li><a href='http://ajaxian.com/archives/2007/10' title='October 2007'>October 2007</a>&nbsp;(123)</li>
	<li><a href='http://ajaxian.com/archives/2007/09' title='September 2007'>September 2007</a>&nbsp;(99)</li>
	<li><a href='http://ajaxian.com/archives/2007/08' title='August 2007'>August 2007</a>&nbsp;(109)</li>
	<li><a href='http://ajaxian.com/archives/2007/07' title='July 2007'>July 2007</a>&nbsp;(89)</li>
	<li><a href='http://ajaxian.com/archives/2007/06' title='June 2007'>June 2007</a>&nbsp;(86)</li>
	<li><a href='http://ajaxian.com/archives/2007/05' title='May 2007'>May 2007</a>&nbsp;(89)</li>
	<li><a href='http://ajaxian.com/archives/2007/04' title='April 2007'>April 2007</a>&nbsp;(87)</li>
	<li><a href='http://ajaxian.com/archives/2007/03' title='March 2007'>March 2007</a>&nbsp;(106)</li>
	<li><a href='http://ajaxian.com/archives/2007/02' title='February 2007'>February 2007</a>&nbsp;(88)</li>
	<li><a href='http://ajaxian.com/archives/2007/01' title='January 2007'>January 2007</a>&nbsp;(105)</li>
	<li><a href='http://ajaxian.com/archives/2006/12' title='December 2006'>December 2006</a>&nbsp;(92)</li>
	<li><a href='http://ajaxian.com/archives/2006/11' title='November 2006'>November 2006</a>&nbsp;(120)</li>
	<li><a href='http://ajaxian.com/archives/2006/10' title='October 2006'>October 2006</a>&nbsp;(120)</li>
	<li><a href='http://ajaxian.com/archives/2006/09' title='September 2006'>September 2006</a>&nbsp;(92)</li>
	<li><a href='http://ajaxian.com/archives/2006/08' title='August 2006'>August 2006</a>&nbsp;(106)</li>
	<li><a href='http://ajaxian.com/archives/2006/07' title='July 2006'>July 2006</a>&nbsp;(100)</li>
	<li><a href='http://ajaxian.com/archives/2006/06' title='June 2006'>June 2006</a>&nbsp;(83)</li>
	<li><a href='http://ajaxian.com/archives/2006/05' title='May 2006'>May 2006</a>&nbsp;(99)</li>
	<li><a href='http://ajaxian.com/archives/2006/04' title='April 2006'>April 2006</a>&nbsp;(78)</li>
	<li><a href='http://ajaxian.com/archives/2006/03' title='March 2006'>March 2006</a>&nbsp;(111)</li>
	<li><a href='http://ajaxian.com/archives/2006/02' title='February 2006'>February 2006</a>&nbsp;(117)</li>
	<li><a href='http://ajaxian.com/archives/2006/01' title='January 2006'>January 2006</a>&nbsp;(118)</li>
	<li><a href='http://ajaxian.com/archives/2005/12' title='December 2005'>December 2005</a>&nbsp;(106)</li>
	<li><a href='http://ajaxian.com/archives/2005/11' title='November 2005'>November 2005</a>&nbsp;(111)</li>
	<li><a href='http://ajaxian.com/archives/2005/10' title='October 2005'>October 2005</a>&nbsp;(67)</li>
	<li><a href='http://ajaxian.com/archives/2005/09' title='September 2005'>September 2005</a>&nbsp;(87)</li>
	<li><a href='http://ajaxian.com/archives/2005/08' title='August 2005'>August 2005</a>&nbsp;(85)</li>
	<li><a href='http://ajaxian.com/archives/2005/07' title='July 2005'>July 2005</a>&nbsp;(51)</li>
	<li><a href='http://ajaxian.com/archives/2005/06' title='June 2005'>June 2005</a>&nbsp;(70)</li>
	<li><a href='http://ajaxian.com/archives/2005/05' title='May 2005'>May 2005</a>&nbsp;(63)</li>
	<li><a href='http://ajaxian.com/archives/2005/04' title='April 2005'>April 2005</a>&nbsp;(11)</li>
	<li><a href='http://ajaxian.com/archives/2005/03' title='March 2005'>March 2005</a>&nbsp;(23)</li>
	<li><a href='http://ajaxian.com/archives/2010/12' title=' 0'> 0</a>&nbsp;(1)</li>
  </ul>
</div>

</div>


 <div id="taeheader">
  	<div id="premium" style="width: 630px">
  		<img src="http://media.techtarget.com/digitalguide/images/Misc/platinum_site_sponsor.gif" width="77" height="45" align="left">
  		<div align="center">
<iframe  src="http://ad.doubleclick.net/adi/aajax/home;pos=0;sz=550x45,550x33;dcopt=;ptile=3;ord=22322302?;kw=homePage;sizes=Array;ad_name=premium_ad;zone=home" name="premium_ad" id="fra550x45" width="550" height="45" border="0" frameborder="0" marginheight="0" marginwidth="0" scrolling="no"><a href="http://ad.doubleclick.net/jump/aajax/home;pos=0;sz=550x45,550x33;dcopt=;ptile=3;ord=22322302?;kw=homePage;sizes=Array;ad_name=premium_ad;zone=home"><img src="http://ad.doubleclick.net/ad/aajax/home;pos=0;sz=550x45,550x33;dcopt=;ptile=3;ord=22322302?;kw=homePage;sizes=Array;ad_name=premium_ad;zone=home" width="550" height="45" border="0"></a></iframe> </div>  	</div>
  </div>
  <div id="maincontent">
      <div class="entry">
      <h2 id="post-1206">The Dojo Toolkit in Practice</h2>
      <h3>An Ajax library for more than â€˜Prototype-ingâ€™</h3>
<p><a href="/articles/dojo-in-practice/DojoToolkitInPractice.pdf">PDF Version of Article</a> | <a href="/articles/dojo-in-practice/dojo-itinerary.tgz">Download Source Code</a></p>
<h1>Introduction</h1>
<p>When you start to build an Ajax application, you quickly run into situations where you feel like you are reinventing the wheel. The XMLHttpRequest object is what a lot of developers jump on when they think about Ajax, but that is just the start, and is the easy part.</p>
<p>There are lots of annoyances when you build JavaScript rich applications. Browser compatibility and degradation, messing with the DOM, and dealing with bleeding edge hacks such as offline storage all come up.</p>
<p>This article is going to introduce you to a toolkit that is much more than an XHR wrapper. It is the type of toolkit that everyone should be using if they are developing a rich Ajax application. Without it, you are a crippled developer.</p>
<p>Rather than listing out the APIs available in The Dojo Toolkit, we will look at a simple slice of an application, to see parts and pieces of the library in action.</p>
<p>We will discuss:</p>
<ul>
<li>What this Dojo thing is?</li>
<li>Setting up Dojo</li>
<li>DOM and HTML Effects in practice</li>
<li>Ajax remote calls via dojo.io.bind()</li>
<li>Drag and Drop operations</li>
</ul>
<p>Let's get to it!</p>
<h1>The Dojo Toolkit: The Kitchen Sink of JavaScript Development</h1>
<p>What is the Dojo Toolkit? Is it a framework? Is it a library? What do those names even mean? Alex Russell, one of the creators of the toolkit thinks that it is a library that you can use to build JavaScript applications.</p>
<p>It is more than you probably think because it contains such a lot of functionality in one set of packages, within one top level project.</p>
<p>Dojo contains sub packages of JavaScript code to take care of all of the infrastructure work that you normally have to write yourself when you build a JavaScript application. It encapsulates cross-browser annoyances so you donâ€™t have to worry about them. It helps you with the DOM. It makes the XMLHttpRequest object degrade in various browsers, whilst giving you the simplest of APIs to use.</p>
<p>JavaScript isnâ€™t just about the browser. It can run in various host environments, and Dojo supports that too. If you want to write JavaScript on the server-side, you can still use Dojo to help make that code simpler.</p>
<p>To give you a sense of the breadth of this framework, letâ€™s list out the packages within:</p>
<ul>
<li>dojo. collections: Useful Collection data structures (List, Queue, Set, Stack, Dictionary, â€¦)</li>
<li>dojo. crypto: Cryptographic API (Blowfish, MD5, Rijndael, SHA*)</li>
<li>dojo.date: No need to write the ugly code to munge between date formats.</li>
<li>dojo. dnd: Drag and Drop helper API. We will build a drag and drop enabled application</li>
<li>dojo. event: Event driven API that has AOP abilities, and topic/queue functionality</li>
<li>dojo. lfx: Effects in HTML and SVG . We will use effects in the example.
<ul>
<li>dojo. animation: Animation package based off of Dan Pupius' work on Animations (http://pupius.co.uk/js/Toolkit.Drawing.js) [deprecated in favour of dojo.lfx]</li>
<li>dojo.fx: deprecated in favour of dojo.lfx</li>
</ul>
</li>
<li>dojo. io: Various IO pipelines. From cookies to IFrames, to pub/sub functionality. The magic Ajax work lives here</li>
<li>dojo. lang: Functionality that enhances your entire JavaScript environment. Features that you wish you had such as mixins, closure based functions, and much much more</li>
<li>dojo. logging: Logging framework</li>
<li>dojo. math: Mathematic routines (curves, points, matrices)</li>
<li>dojo. reflect: Reflection routines</li>
<li>dojo. rpc: Talk to back end services such as JSON aware Web services</li>
<li>dojo. storage: Save data to local storage (e.g. using Flash trick in the browser)</li>
<li>dojo. string: Now you can trim, capitalize, encode, escape, pad, and more.</li>
<li>dojo. undo: Stack manager for undoing actions</li>
<li>dojo. uri: Handle URIs</li>
<li>dojo. widget: A widget framework that lets you build reusable HTML/JavaScript widgets that can be used with simple HTML (e.g.
<div class=â€dojo-MyWidgetTypeâ€>). This allows markup based application development (think: XAML, XUL).</div>
</li>
<li>dojo. xml, dojo.dom: Helpers to help you manipulate the DOM and other XML help. We will use dojo.dom in this example.</li>
<li>dojo.style: CSS functions such as getting access to style sizes, working with the box model, and more.
</li>
</ul>
<p>Phew! That is a long list, and it doesnâ€™t do justice to the work that lives in this framework. If you use Dojo, and start to write some infrastructure code, you quickly learn to search for it within the framework first, as chances are someone else has done it for you!</p>
<p>What you quickly find is that if you are building any non-trivial Ajax application, Dojo will have a lot to offer you. It helps you make the jump from hacking away on a few onclick events, to writing professional quality JavaScript applications.</p>
<h1>Setting up and Configuring Dojo</h1>
<p>How do you normal setup and configure a JavaScript library? Erm, donâ€™t you just grab the JavaScript file and put it on the web server, and then access it via &lt;script src=â€¦?, I hear you cry.</p>
<p>That is the case for simple libraries, and CAN be done with Dojo. However, it is better to know the entire picture.</p>
<h2>Choosing the right Dojo build</h2>
<p>Since the toolkit has so many parts and pieces, there are a set of builds for you to choose from. Why add this complication and not just offer one download?</p>
<p>In a lot of our environments, we can be liberal on this issue, but with JavaScript in the browser, every kilobyte that we feed the browser matters. Why send down the entire set of packages if you just want to do the odd Ajax call? We donâ€™t want to shoot the bits around for no reason.</p>
<p>When you download an â€œEditionâ€ of Dojo (Grab the zip file at: <a href="http://download.dojotoolkit.org/">http://download.dojotoolkit.org</a>, or get anonymous SVN via <a href="http://svn.dojotoolkit.org/dojo/trunk">http://svn.dojotoolkit.org/dojo/trunk</a>), you will choose between:</p>
<ul>
<li>I/O (XHR) Edition: All you need is to chat back to the server Ajax style? Come right ahead.</li>
<li>Event + I/O Edition: The I/O Edition plus the event system</li>
<li>Ajax Edition: Here you get not only the I/O and eventing features, but also killer visual effects.</li>
<li>Widget Edition: You love separating CSS, content, and JavaScript, so you take it to the next level with the widget system</li>
<li>â€œKitchen Sinkâ€ Edition: I donâ€™t want to think about it. I just want to grab every bit of this framework and make my users suck it down. This edition will give you just that.</li>
</ul>
<p>Although the kitchen sink approach allows you to grab everything and move on without having to make changes later on if you pull in a package that you didnâ€™t foresee earlier in a project, it is not advised.  Not only because you are forcing all of your users to download a large set of JavaScript, but it can actually cause some issues. For example, with one of the latest releases, if you used the kitchen sink, some users will see their browser status bar saying â€œStill loadingâ€¦â€ forever. This can break the entire page very easily. The reason is that the kitchen sink includes every package, and the dojo.storage.* package in particular. That package uses Flash 8 to allow storage, and can cause issues on IE without Flash 8 installed. Bad news.</p>
<p>To start using a Dojo build, simply take the dojo.js file from the build that you downloaded, and simply load it in the normal way:</p>
<div class="igBar"><a href="javascript:showCodeTxt('javascript-1');">PLAIN TEXT</a></div>
<div class="syntax_hilite"><span style="color:#000000; font-weight:bold;">JAVASCRIPT:</span>
<div id="javascript-1">
<div class="javascript">
<ol>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&lt;script type=<span style="color: #3366CC;">"text/javascript"</span> src=<span style="color: #3366CC;">"http://yoursite.com/scripts/dojo.js"</span>&gt;&lt;/script&gt;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
</ol>
</div>
</div>
</div>
<h2>Loading pieces dynamically</h2>
<p>Wouldnâ€™t it be nice to programmatically ask for packages, and have them available to you? I mean, we do this all the time in our other languages. We include our C, import our Java, use our Perl, and require our Ruby.</p>
<p>The Dojo team wanted just this, and they baked it into the platform.  If you require a package that isnâ€™t in your download bundle, you do just that: require it!</p>
<p>In our example we will require the drag and drop, event system, and fx packages:</p>
<div class="igBar"><a href="javascript:showCodeTxt('javascript-2');">PLAIN TEXT</a></div>
<div class="syntax_hilite"><span style="color:#000000; font-weight:bold;">JAVASCRIPT:</span>
<div id="javascript-2">
<div class="javascript">
<ol>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&lt;script type=<span style="color: #3366CC;">"text/javascript"</span> src=<span style="color: #3366CC;">"http://yoursite.com/scripts/dojo.js"</span>&gt;&lt;/script&gt;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&lt;script type=<span style="color: #3366CC;">"text/javascript"</span>&gt;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; dojo.<span style="color: #006600;">require</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color: #3366CC;">"dojo.dnd.*"</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; dojo.<span style="color: #006600;">require</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color: #3366CC;">"dojo.event.*"</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; dojo.<span style="color: #006600;">require</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color: #3366CC;">"dojo.lfx.*"</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #009900; font-style: italic;">// now we are ready to work with any of these packages</span></div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&lt;/script&gt;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
</ol>
</div>
</div>
</div>
<p>The require call will go out and dynamically retrieve the JavaScript code needed for those packages and load them up in the page. You can also write your own packages, and load up your namespaces too. Each package has some metadata to tell the require loader what it really needs.</p>
<p>For example, here is the __package__.js file that holds that metadata for the drag and drop package:</p>
<div class="igBar"><a href="javascript:showCodeTxt('javascript-3');">PLAIN TEXT</a></div>
<div class="syntax_hilite"><span style="color:#000000; font-weight:bold;">JAVASCRIPT:</span>
<div id="javascript-3">
<div class="javascript">
<ol>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">dojo.<span style="color: #006600;">hostenv</span>.<span style="color: #006600;">conditionalLoadModule</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#006600; font-weight:bold;">&#123;</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; common: <span style="color:#006600; font-weight:bold;">&#91;</span><span style="color: #3366CC;">"dojo.dnd.DragAndDrop"</span><span style="color:#006600; font-weight:bold;">&#93;</span>,</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; browser: <span style="color:#006600; font-weight:bold;">&#91;</span><span style="color: #3366CC;">"dojo.dnd.HtmlDragAndDrop"</span><span style="color:#006600; font-weight:bold;">&#93;</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color:#006600; font-weight:bold;">&#125;</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">dojo.<span style="color: #006600;">hostenv</span>.<span style="color: #006600;">moduleLoaded</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color: #3366CC;">"dojo.dnd.*"</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
</ol>
</div>
</div>
</div>
<p>You will notice that the runtime can load different source files depending on the host environment. If you are not running Dojo in a browser, you do not need to load the HtmlDragAndDrop source.</p>
<h3>Custom builds</h3>
<p>Dynamically, and lazily loading the requireâ€™d JavaScript code can be great, but after development is done, you probably want to build one JavaScript file that has all of the code needed for your application.</p>
<p>Luckily Dojo has a build system that allows you to do just that. It requires that you grab the source and work from there. The source is kept in Subversion, with the repository of: <a href="http://svn.dojotoolkit.org/dojo/trunk">http://svn.dojotoolkit.org/dojo/trunk</a> (for the HEAD of the project).</p>
<p>We could talk about doing custom builds, but letâ€™s leave that for another time, and instead let us get to our application.</p>
<h2>The Application: Travel Itinerary Editor</h2>
<p>Now we know how to setup Dojo, letâ€™s use it, and some of its packages in a real application. The page we will work with is an itinerary editor that lets you:</p>
<ul>
<li>Add and remove days for your trip</li>
<li>Add and remove sites to visit in those days</li>
<li>Clone sites</li>
<li>Drag and drop sites between days</li>
</ul>
<p>All of these activities will be done in an Ajax interface. One page, many actions. This page is step two in the process, in that the user has already picked sites and has done the initial placement.</p>
<p>The screen looks like this:</p>
<p><img src="http://ajaxian.com/wp-content/images/itineraryscreen.png" alt="" border="0" width="432" height="235"/></p>
<p>Let's get it working.</p>
<h1>DOM and HTML Effects</h1>
<p>What shall we do first? How about building the functionality to add a new day to your itinerary? To do this, we will need to build up the HTML needed for a new day. The header, the â€˜emptyâ€¦â€™ collection since there are no sites, etc.</p>
<p>We could build this up using the DOM, but it will be easier if we could just do a copy. To do that we can have an empty table in our HTML, but not shown.</p>
<p>This is a set of divâ€™s with lists, and template code to act as a placeholder (such as EMPTY DAY instead of the day number header, and special idâ€™s for us to grab):</p>
<div class="igBar"><a href="javascript:showCodeTxt('html-4');">PLAIN TEXT</a></div>
<div class="syntax_hilite"><span style="color:#000000; font-weight:bold;">HTML:</span>
<div id="html-4">
<div class="html">
<ol>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #009900;"><a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">&lt;div</span></a> <span style="color: #000066;">id</span>=<span style="color: #ff0000;">"empty-new-day"</span> <span style="color: #000066;">class</span>=<span style="color: #ff0000;">"itinerary-day"</span> <span style="color: #000066;">style</span>=<span style="color: #ff0000;">"display: none;"</span><span style="color: #000000; font-weight: bold;">&gt;</span></a></span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;"><a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">&lt;div</span></a> <span style="color: #000066;">class</span>=<span style="color: #ff0000;">"itinerary-day-title day-8"</span><span style="color: #000000; font-weight: bold;">&gt;</span></a></span><span style="color: #009900;"><a href="http://december.com/html/4/element/span.html"><span style="color: #000000; font-weight: bold;">&lt;span</span></a> <span style="color: #000066;">style</span>=<span style="color: #ff0000;">"float: right"</span><span style="color: #000000; font-weight: bold;">&gt;</span></a></span><span style="color: #009900;"><a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">&lt;a</span></a> <span style="color: #000066;">href</span>=<span style="color: #ff0000;">"javascript:void(0);"</span> <span style="color: #000066;">onClick</span>=<span style="color: #ff0000;">"return deleteDay(this);"</span><span style="color: #000000; font-weight: bold;">&gt;</span></a></span><span style="color: #009900;"><a href="http://december.com/html/4/element/img.html"><span style="color: #000000; font-weight: bold;">&lt;img</span></a> <span style="color: #000066;">src</span>=<span style="color: #ff0000;">"images/but_edit_delete_white.gif"</span> <span style="color: #000066;">width</span>=<span style="color: #ff0000;">"16"</span> <span style="color: #000066;">height</span>=<span style="color: #ff0000;">"16"</span> <span style="color: #000066;">border</span>=<span style="color: #ff0000;">"0"</span> <span style="color: #000066;">alt</span>=<span style="color: #ff0000;">"Delete this entire day"</span>/<span style="color: #000000; font-weight: bold;">&gt;</span></a></span><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/a&gt;</span></span><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/span&gt;</span></span>EMPTY DAY<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/div&gt;</span></span></div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;"><a href="http://december.com/html/4/element/ol.html"><span style="color: #000000; font-weight: bold;">&lt;ol</span></a> <span style="color: #000066;">id</span>=<span style="color: #ff0000;">"empty-new-day-ol"</span> <span style="color: #000066;">class</span>=<span style="color: #ff0000;">"itinerary"</span><span style="color: #000000; font-weight: bold;">&gt;</span></a></span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;"><a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">&lt;li</span></a> <span style="color: #000066;">id</span>=<span style="color: #ff0000;">"empty-new-day-li"</span><span style="color: #000000; font-weight: bold;">&gt;</span></a></span>empty...<span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/li&gt;</span></span></div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/ol&gt;</span></span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #009900;"><span style="color: #000000; font-weight: bold;">&lt;/div&gt;</span></span></div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
</ol>
</div>
</div>
</div>
<h2>Mucking around with the DOM</h2>
<p>To create the new day, we will need to make a copy of that HTML, and place it at the right place in the document.</p>
<p>To do this, we can use some helper methods from Dojo:</p>
<ul>
<li>dojo.byId: I am sure you have typed document.getElementById(..) more times than you have had hot dinners. This little helper not only makes the typing a little less, but it also lets you pass in a text id, or a node itself. This is a piece of pragmatism that means that you can forget what you actually have and it all just works. Some of you may think that this looks like the dollar-sign function in Prototype $(id). It is. Why did Dojo decide not to use a short name such as $? They do not want to pollute namespaces. $ is great to use, but what if another defines $ too, and they do it slightly differently? Problems. The $() function does have another nice feature, in that it can take more than one id/node and return them all back. You can do this in Dojo with dojo.byIdArray(). The reason for the â€œdojo.â€ before most of the calls that you see is that Dojo enables package semantics to make sure that we donâ€™t have these kind of collisions.</li>
<li>dojo.dom.insertBefore(newElement, elementBefore); dojo.dom has a large set of dom helper methods to make it a bit nicer to deal with (isnâ€™t DOM a pain in theâ€¦.?). We use this function to place the new day before the last one (the unused sites).</li>
</ul>
<p>The full code for the addDay() method is below. It is a bit verbose as it has to reset the ids for the new day number, increment the total number of days, and more:</p>
<div class="igBar"><a href="javascript:showCodeTxt('javascript-5');">PLAIN TEXT</a></div>
<div class="syntax_hilite"><span style="color:#000000; font-weight:bold;">JAVASCRIPT:</span>
<div id="javascript-5">
<div class="javascript">
<ol>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #003366; font-weight: bold;">function</span> addDay<span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#006600; font-weight:bold;">&#123;</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #003366; font-weight: bold;">var</span> lastDay = dojo.<span style="color: #006600;">byId</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color: #3366CC;">"unused-sites"</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #003366; font-weight: bold;">var</span> emptyDayTemplate = dojo.<span style="color: #006600;">byId</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color: #3366CC;">"empty-new-day"</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; numberOfDays++; <span style="color: #009900; font-style: italic;">// we have one more day now</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #003366; font-weight: bold;">var</span> newDay = emptyDayTemplate.<span style="color: #006600;">cloneNode</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color: #003366; font-weight: bold;">true</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; newDay.<span style="color: #006600;">id</span> = <span style="color: #3366CC;">"fullday-"</span> + numberOfDays;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900; font-style: italic;">// set the title</span></div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; newDay.<span style="color: #006600;">childNodes</span><span style="color:#006600; font-weight:bold;">&#91;</span><span style="color:#800000;">1</span><span style="color:#006600; font-weight:bold;">&#93;</span>.<span style="color: #006600;">childNodes</span><span style="color:#006600; font-weight:bold;">&#91;</span><span style="color:#800000;">1</span><span style="color:#006600; font-weight:bold;">&#93;</span>.<span style="color: #006600;">nodeValue</span> = <span style="color: #3366CC;">"day "</span> + numberOfDays;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900; font-style: italic;">// set the new ol id</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #003366; font-weight: bold;">var</span> ol = newDay.<span style="color: #006600;">childNodes</span><span style="color:#006600; font-weight:bold;">&#91;</span><span style="color:#800000;">3</span><span style="color:#006600; font-weight:bold;">&#93;</span>;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; ol.<span style="color: #006600;">id</span> = <span style="color: #3366CC;">"day-"</span> + numberOfDays;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900; font-style: italic;">// set the new empty li id</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #003366; font-weight: bold;">var</span> li = ol.<span style="color: #006600;">childNodes</span><span style="color:#006600; font-weight:bold;">&#91;</span><span style="color:#800000;">1</span><span style="color:#006600; font-weight:bold;">&#93;</span>;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; li.<span style="color: #006600;">id</span> = <span style="color: #3366CC;">"empty-day-"</span> + numberOfDays;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; setupDayForDND<span style="color:#006600; font-weight:bold;">&#40;</span>newDay<span style="color:#006600; font-weight:bold;">&#41;</span>; <span style="color: #009900; font-style: italic;">// drag and drop explained later</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; dojo.<span style="color: #006600;">dom</span>.<span style="color: #006600;">insertBefore</span><span style="color:#006600; font-weight:bold;">&#40;</span>newDay, lastDay<span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; dojo.<span style="color: #006600;">fx</span>.<span style="color: #006600;">wipeIn</span><span style="color:#006600; font-weight:bold;">&#40;</span>newDay, <span style="color:#800000;">500</span><span style="color:#006600; font-weight:bold;">&#41;</span>; <span style="color: #009900; font-style: italic;">// effect below</span></div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color:#006600; font-weight:bold;">&#125;</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
</ol>
</div>
</div>
</div>
<p>You will see a lot of normal DOM methods such as node.cloneNode(true), which is the call that copies the template from the empty day, and then we get to work updating the fields within. The true flag that we pass in tells DOM to copy the nodes within the node. Go deep.</p>
<p>What other dojo.dom helpers are there?</p>
<p>You can probably work out what these cross browser helpers do:</p>
<ul>
<li>dojo.dom.isNode</li>
<li>dojo.dom.getTagName</li>
<li>dojo.dom.firstElement</li>
<li>dojo.dom.lastElement</li>
<li>dojo.dom.nextElement</li>
<li>dojo.dom.prevElement</li>
<li>dojo.dom.moveChildren (srcNode, destNode, trim)</li>
<li>dojo.dom.copyChildren (srcNode, destNode, trim)</li>
<li>dojo.dom.removeChildren(node)</li>
<li>dojo.dom.replaceChildren(node, newChild)</li>
<li>dojo.dom.removeNode(node)</li>
<li>dojo.dom.getAncestors</li>
<li>dojo.dom.getAncestorsByTag</li>
<li>dojo.dom.innerXML</li>
<li>dojo.dom.createDocumentFromText</li>
<li>dojo.dom.prependChild</li>
<li>dojo.dom.insertAfter</li>
<li>dojo.dom.insertAtPosition</li>
<li>dojo.dom.textContent: implement the DOM Level 3 attribute</li>
</ul>
<h2>Dojo HTML Effects</h2>
<p>We use dojo.dom to plop in the new day, but that just isnâ€™t classy. We donâ€™t want to jolt the eyes of our users, we want to caress them, and show them where the document is changing at the same time.</p>
<p>Script.aculo.us is known for its killer effects, but a lot of people donâ€™t know that Dojo has them too.</p>
<p>We chose to dojo.lfx.wipeIn() the node which makes it roll in like blinds coming down the window frame. </p>
<p>We didnâ€™t have to go with a wipe though. Maybe you would prefer a fade (In/OutShow/Hide), a slide (By, To), a colorFade/highlight, or an explode/implode? They are all there, and they are all one liners, with the ability for you to add callbacks to the effects.</p>
<p>These effects may seem like lipstick, but they add the polish to give your users the wow factor, and they can do their job with respect to usability.</p>
<p>The warning though is that you donâ€™t want to explode every movement on the page. If we do that, people will think that we are Flash developers ;)</p>
<h1>Ajax remote calls with dojo.io.bind()</h1>
<p>Letâ€™s add some Ajax into the mix â˜º We want to give the users the ability to delete days and sites in a responsive manner. We donâ€™t need no sinking page reload, we just want to nuke the day or site from the UI and we are happy.</p>
<p>However, we canâ€™t JUST delete the element from the screen without telling the backend, else in reality the day/site will still exist in the backend state.</p>
<p>This means that we follow a common pattern in which we:</p>
<ul>
<li>Offer a simple UI change dynamically in the DOM</li>
<li>Send an Ajax request to the backend to tell it of the change (e.g. delete day 5 for this guy will you?)</li>
</ul>
<p>Here is the high level function that will handle the deletion of a day:</p>
<div class="igBar"><a href="javascript:showCodeTxt('javascript-6');">PLAIN TEXT</a></div>
<div class="syntax_hilite"><span style="color:#000000; font-weight:bold;">JAVASCRIPT:</span>
<div id="javascript-6">
<div class="javascript">
<ol>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #003366; font-weight: bold;">function</span> deleteDay<span style="color:#006600; font-weight:bold;">&#40;</span>removeDay<span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#006600; font-weight:bold;">&#123;</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">if</span> <span style="color:#006600; font-weight:bold;">&#40;</span><span style="color: #000066;">confirm</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color: #3366CC;">'Are you sure you want to delete this entire day?'</span><span style="color:#006600; font-weight:bold;">&#41;</span><span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#006600; font-weight:bold;">&#123;</span></div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900; font-style: italic;">// get the actual li site node from the remove button</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #003366; font-weight: bold;">var</span> day = removeDay.<span style="color: #006600;">parentNode</span>.<span style="color: #006600;">parentNode</span>.<span style="color: #006600;">parentNode</span>;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; fadeAndRemove<span style="color:#006600; font-weight:bold;">&#40;</span>day<span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900; font-style: italic;">// call the back-end</span></div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; remoteDeleteDay<span style="color:#006600; font-weight:bold;">&#40;</span>day<span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">return</span> <span style="color: #003366; font-weight: bold;">true</span>;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#006600; font-weight:bold;">&#125;</span> <span style="color: #000066; font-weight: bold;">else</span> <span style="color:#006600; font-weight:bold;">&#123;</span></div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">return</span> <span style="color: #003366; font-weight: bold;">false</span>;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#006600; font-weight:bold;">&#125;</span></div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color:#006600; font-weight:bold;">&#125;</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
</ol>
</div>
</div>
</div>
<p>We make sure that the user wants to remove the day (versus hitting the mouse button by mistake), and then we are off to the races.</p>
<h3>Fade and Remove</h3>
<p>First we remove the day from the UI gracefully via fadeAndRemove(day):</p>
<div class="igBar"><a href="javascript:showCodeTxt('javascript-7');">PLAIN TEXT</a></div>
<div class="syntax_hilite"><span style="color:#000000; font-weight:bold;">JAVASCRIPT:</span>
<div id="javascript-7">
<div class="javascript">
<ol>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #003366; font-weight: bold;">function</span> fadeAndRemove<span style="color:#006600; font-weight:bold;">&#40;</span>e<span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#006600; font-weight:bold;">&#123;</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; dojo.<span style="color: #006600;">lfx</span>.<span style="color: #006600;">fadeHide</span><span style="color:#006600; font-weight:bold;">&#40;</span>e,<span style="color:#800000;">1000</span>,dojo.<span style="color: #006600;">lfx</span>.<span style="color: #006600;">easeIn</span>,<span style="color: #003366; font-weight: bold;">function</span><span style="color:#006600; font-weight:bold;">&#40;</span>nodes<span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#006600; font-weight:bold;">&#123;</span></div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dojo.<span style="color: #006600;">lang</span>.<span style="color: #006600;">forEach</span><span style="color:#006600; font-weight:bold;">&#40;</span>nodes, dom.<span style="color: #006600;">removeNode</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#006600; font-weight:bold;">&#125;</span><span style="color:#006600; font-weight:bold;">&#41;</span>.<span style="color: #006600;">play</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color:#006600; font-weight:bold;">&#125;</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
</ol>
</div>
</div>
</div>
<p>This shows off the combination of dojo.dom and dojo.fx one more time. We ask Dojo to fade out the given element (in this case the day), and pass in a callback for him to call when it has faded. That closure gets given the node, which fadeHide nicely removes for you when done. The forEach method shows off the iterators that are available to you via dojo.lang.</p>
<p>The new dojo.lfx package has a new dojo.lfxpropertyAnimation that allows you to pass in many properties, allowing you to do custom animation in a simple way.</p>
<p>For example, to do a simple fade in you may use:</p>
<div class="igBar"><a href="javascript:showCodeTxt('javascript-8');">PLAIN TEXT</a></div>
<div class="syntax_hilite"><span style="color:#000000; font-weight:bold;">JAVASCRIPT:</span>
<div id="javascript-8">
<div class="javascript">
<ol>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">dojo.<span style="color: #006600;">lfx</span>.<span style="color: #006600;">fadeIn</span><span style="color:#006600; font-weight:bold;">&#40;</span>node, <span style="color:#800000;">200</span>, dojo.<span style="color: #006600;">lfx</span>.<span style="color: #006600;">easeOut</span>, callback<span style="color:#006600; font-weight:bold;">&#41;</span>.<span style="color: #006600;">play</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
</ol>
</div>
</div>
</div>
<p>At a lower level you could write this as:</p>
<div class="igBar"><a href="javascript:showCodeTxt('javascript-9');">PLAIN TEXT</a></div>
<div class="syntax_hilite"><span style="color:#000000; font-weight:bold;">JAVASCRIPT:</span>
<div id="javascript-9">
<div class="javascript">
<ol>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">dojo.<span style="color: #006600;">lfx</span>.<span style="color: #006600;">propertyAnimation</span><span style="color:#006600; font-weight:bold;">&#40;</span>node, <span style="color:#006600; font-weight:bold;">&#91;</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; <span style="color:#006600; font-weight:bold;">&#123;</span> property: opacity, start: <span style="color:#800000;">0</span>, end: <span style="color:#800000;">1</span> <span style="color:#006600; font-weight:bold;">&#125;</span></div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color:#006600; font-weight:bold;">&#93;</span>, <span style="color:#800000;">200</span><span style="color:#006600; font-weight:bold;">&#41;</span>.<span style="color: #006600;">play</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
</ol>
</div>
</div>
</div>
<p>Now you can add more and more properties to the array and you are off on a wild animation ride.</p>
<h3>Use XMLHttpRequest to tell the server whatâ€™s happening</h3>
<p>The remoteDeleteDay() call will use Dojo to (probably) use XMLHttpRequest to talk back to the server. </p>
<p>When you see people talk about Ajax, you often see lots of routines to wrap getting the XMLHttpRequest object cross browser, and strange status codes like â€œ4â€.</p>
<p>Dojo takes that all away from you, and gives you a nice clean API that looks like:</p>
<div class="igBar"><a href="javascript:showCodeTxt('javascript-10');">PLAIN TEXT</a></div>
<div class="syntax_hilite"><span style="color:#000000; font-weight:bold;">JAVASCRIPT:</span>
<div id="javascript-10">
<div class="javascript">
<ol>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">dojo.<span style="color: #006600;">io</span>.<span style="color: #006600;">bind</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#006600; font-weight:bold;">&#123;</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; url: <span style="color: #3366CC;">"http://path/to/server"</span>,</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; load: <span style="color: #003366; font-weight: bold;">function</span><span style="color:#006600; font-weight:bold;">&#40;</span>type, data, evt<span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#006600; font-weight:bold;">&#123;</span> â€¦ <span style="color: #000066; font-weight: bold;">do</span> something <span style="color: #000066;">onload</span> â€¦<span style="color:#006600; font-weight:bold;">&#125;</span>,</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;error: <span style="color: #003366; font-weight: bold;">function</span><span style="color:#006600; font-weight:bold;">&#40;</span>type, error<span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#006600; font-weight:bold;">&#123;</span> â€¦ handle an error â€¦ <span style="color:#006600; font-weight:bold;">&#125;</span>,</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; mimetype: <span style="color: #3366CC;">"text/plain"</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #009900; font-style: italic;">// and many more options!</span></div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color:#006600; font-weight:bold;">&#125;</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
</ol>
</div>
</div>
</div>
<p>Basically, all remote calls go through the one dojo.io.bind() method call. This method does a lot more for you than you may think:</p>
<ul>
<li>If the XMLHttpRequest is chosen (probably the case) Dojo will find that object for the given browser
<ul>
<li>Use the key: transport: â€œXâ€ to explicitly use XMLHttpRequest, or IFrameIO, or â€¦</li>
<li>99% of the time you can leave this out and Dojo will work out the best solution for you!
</li>
</ul>
</li>
<li>If XHR is not supported, Dojo can drop down to using a hidden iframe to get the remote call</li>
<li>XHR object caching is done for you
<ul>
<li>Use the key: useCache: true</li>
</ul>
</li>
<li>Bookmarkability is supported
<ul>
<li>Use the key: changeURL: true (for an automatic value) or â€œajaxianâ€ for your own value</li>
</ul>
</li>
<li>Back/Forward buttons on the browser are supported
<ul>
<li>
Use the keys backButton: code, forwardButton: code. For example, in our book Pragmatic Ajax, we use the example of:</p>
<div class="igBar"><a href="javascript:showCodeTxt('javascript-11');">PLAIN TEXT</a></div>
<div class="syntax_hilite"><span style="color:#000000; font-weight:bold;">JAVASCRIPT:</span>
<div id="javascript-11">
<div class="javascript">
<ol>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">backButton: <span style="color: #003366; font-weight: bold;">function</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#006600; font-weight:bold;">&#123;</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; saveCityState<span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cleanCityState<span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color:#006600; font-weight:bold;">&#125;</span>,</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">forwardButton: <span style="color: #003366; font-weight: bold;">function</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#006600; font-weight:bold;">&#123;</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; setupCityState<span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color:#006600; font-weight:bold;">&#125;</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
</ol>
</div>
</div>
</div>
</li>
</ul>
</li>
<li>You can use XHR to submit a form: Use key: formNode: dojo.byId('yourFormId')</li>
<li>Uploading of a an entire file is supported. First you need to make sure that iframe support is loaded (dojo.require("dojo.io.IframeIO")), and then tell Dojo about the file.</li>
</ul>
<div class="igBar"><a href="javascript:showCodeTxt('javascript-12');">PLAIN TEXT</a></div>
<div class="syntax_hilite"><span style="color:#000000; font-weight:bold;">JAVASCRIPT:</span>
<div id="javascript-12">
<div class="javascript">
<ol>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">file: <span style="color:#006600; font-weight:bold;">&#123;</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; <span style="color: #000066;">name</span>: <span style="color: #3366CC;">"upload.txt"</span>,</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; contentType: <span style="color: #3366CC;">"plain/text"</span>,</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; content: <span style="color: #3366CC;">"look ma! no form node!"</span></div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color:#006600; font-weight:bold;">&#125;</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
</ol>
</div>
</div>
</div>
<p>So, to complete remoteDeleteDay() you would just have a simple dojo.io.bind() call that hits the backend URL of your choice, which should be a service that understands what you are doing.</p>
<p>You wonâ€™t need to do much in the load: handler, because in this case we are not changing the UI based on anything that comes back. However, in the error: case you could potentially undo the change that you just made and put up an error message telling the user that the day couldnâ€™t be removed (using an error message sent back from the server).</p>
<h1>Drag and Drop Operations</h1>
<p>Web users are not used to drag and drop operations in this medium.  For that reason, we need to be careful about offering a drag and drop enabled interface, and probably need to make available an interface that doesnâ€™t rely solely on it.</p>
<p>Offering drag and drop support can make some tasks a lot easier to use. In our application, it would be nice to visually move sites around in our itinerary rather than have to go into some edit mode and move them around in weird lists.</p>
<p>Configuring Drag and Drop with Dojo is actually simpler than you may think. We will go through three phases:</p>
<ol>
<li>Wire up the day elements to tell the system what can be dragged, and what can be dropped</li>
<li>Given a day, wire up its sub-elements</li>
<li>Tell the browser to do this wiring up</li>
</ol>
<h3>Wire up all days</h3>
<p>The initial function will go through all of the days, and tell each day to get ready for drops, and then setup all of the sites as draggable objects. Once the days are setup, also configure the unused sites area.</p>
<p><div class="igBar"><a href="javascript:showCodeTxt('javascript-13');">PLAIN TEXT</a></div>
<div class="syntax_hilite"><span style="color:#000000; font-weight:bold;">JAVASCRIPT:</span>
<div id="javascript-13">
<div class="javascript">
<ol>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #003366; font-weight: bold;">function</span> enableSiteMoving<span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#006600; font-weight:bold;">&#123;</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">for</span> <span style="color:#006600; font-weight:bold;">&#40;</span><span style="color: #003366; font-weight: bold;">var</span> d=<span style="color:#800000;">1</span>; d &lt;= numberOfDays; d++<span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#006600; font-weight:bold;">&#123;</span></div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #003366; font-weight: bold;">var</span> dl = dojo.<span style="color: #006600;">byId</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color: #3366CC;">"day-"</span> + d<span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; setupDayForDND<span style="color:#006600; font-weight:bold;">&#40;</span>dl<span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #003366; font-weight: bold;">var</span> lis = dl.<span style="color: #006600;">getElementsByTagName</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color: #3366CC;">"li"</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">for</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color: #003366; font-weight: bold;">var</span> x=<span style="color:#800000;">0</span>; x&lt;lis.<span style="color: #006600;">length</span>; x++<span style="color:#006600; font-weight:bold;">&#41;</span><span style="color:#006600; font-weight:bold;">&#123;</span></div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #003366; font-weight: bold;">new</span> dojo.<span style="color: #006600;">dnd</span>.<span style="color: #006600;">HtmlDragSource</span><span style="color:#006600; font-weight:bold;">&#40;</span>lis<span style="color:#006600; font-weight:bold;">&#91;</span>x<span style="color:#006600; font-weight:bold;">&#93;</span>, <span style="color: #3366CC;">"daylist"</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#006600; font-weight:bold;">&#125;</span></div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#006600; font-weight:bold;">&#125;</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #009900; font-style: italic;">// configure the unused sites</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #003366; font-weight: bold;">var</span> unusedSitesDiv = dojo.<span style="color: #006600;">byId</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color: #3366CC;">"unused-sites"</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #003366; font-weight: bold;">var</span> lis = unusedSitesDiv.<span style="color: #006600;">getElementsByTagName</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color: #3366CC;">"li"</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #000066; font-weight: bold;">for</span> <span style="color:#006600; font-weight:bold;">&#40;</span><span style="color: #003366; font-weight: bold;">var</span> x=<span style="color:#800000;">0</span>; x&lt;lis.<span style="color: #006600;">length</span>; x++<span style="color:#006600; font-weight:bold;">&#41;</span><span style="color:#006600; font-weight:bold;">&#123;</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #003366; font-weight: bold;">new</span> dojo.<span style="color: #006600;">dnd</span>.<span style="color: #006600;">HtmlDragSource</span><span style="color:#006600; font-weight:bold;">&#40;</span>lis<span style="color:#006600; font-weight:bold;">&#91;</span>x<span style="color:#006600; font-weight:bold;">&#93;</span>, <span style="color: #3366CC;">"daylist"</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#006600; font-weight:bold;">&#125;</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color:#006600; font-weight:bold;">&#125;</span></div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
</ol>
</div>
</div>
</div>
<p><b>Wire up individual day</b></p>
<p>A lot of magic is in the following few lines of code. To setup the day, we take the day list that was passed to it via enableSiteMoving(), and then we use the dojo.event API for the first time.</p>
<p>This API allows you to connect, and intercept methods on DOM nodes, AND on any JavaScript function too. This is where the AOP-ness comes in. If you wanted to log every method call, you could grab the function objects and connect() on it with the code required to run each time to log.</p>
<p>In our case we want to connect the TARGETS of a drag and drop. When you drop the site on the day list, we configure the onDrop() function to do its work. When the site is dropped we use the Dojo Effects package to wipe-in the moved site, we check to see if this day was previously empty, and delete the comment â€œemptyâ€¦â€ if it is, and then we call the Ajax function remoteMoveSiteOntop() to tell the server about the move, passing in the id of the nodes that have moved.</p>
<p>We chose special IDs for the nodes in the list. The format is â€œsiteid-occuranceâ€, and allows us to know on the backend exactly what is being shoved around.</p>
<div class="igBar"><a href="javascript:showCodeTxt('javascript-14');">PLAIN TEXT</a></div>
<div class="syntax_hilite"><span style="color:#000000; font-weight:bold;">JAVASCRIPT:</span>
<div id="javascript-14">
<div class="javascript">
<ol>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #003366; font-weight: bold;">function</span> setupDayForDND<span style="color:#006600; font-weight:bold;">&#40;</span>dl<span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#006600; font-weight:bold;">&#123;</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #003366; font-weight: bold;">var</span> dt = <span style="color: #003366; font-weight: bold;">new</span> dojo.<span style="color: #006600;">dnd</span>.<span style="color: #006600;">HtmlDropTarget</span><span style="color:#006600; font-weight:bold;">&#40;</span>dl, <span style="color:#006600; font-weight:bold;">&#91;</span><span style="color: #3366CC;">"daylist"</span><span style="color:#006600; font-weight:bold;">&#93;</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; dojo.<span style="color: #006600;">event</span>.<span style="color: #006600;">connect</span><span style="color:#006600; font-weight:bold;">&#40;</span>dt, <span style="color: #3366CC;">"onDrop"</span>, <span style="color: #003366; font-weight: bold;">function</span><span style="color:#006600; font-weight:bold;">&#40;</span>e<span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#006600; font-weight:bold;">&#123;</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dojo.<span style="color: #006600;">fx</span>.<span style="color: #006600;">wipeIn</span><span style="color:#006600; font-weight:bold;">&#40;</span>e.<span style="color: #006600;">dragObject</span>.<span style="color: #006600;">domNode</span>.<span style="color: #006600;">id</span>, <span style="color:#800000;">300</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; checkEmptyDay<span style="color:#006600; font-weight:bold;">&#40;</span>dl.<span style="color: #006600;">id</span>.<span style="color: #006600;">substring</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#800000;">3</span><span style="color:#006600; font-weight:bold;">&#41;</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; remoteMoveSiteOntop<span style="color:#006600; font-weight:bold;">&#40;</span>e.<span style="color: #006600;">dragObject</span>.<span style="color: #006600;">domNode</span>.<span style="color: #006600;">id</span>, e.<span style="color: #006600;">target</span>.<span style="color: #006600;">id</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; <span style="color:#006600; font-weight:bold;">&#125;</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color:#006600; font-weight:bold;">&#125;</span></div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
</ol>
</div>
</div>
</div>
<p><b>onLoad</b></p>
<p>When you want to load something into the browser, after the DOM is loaded up, you normally set the onLoad handle via:</p>
<div class="igBar"><a href="javascript:showCodeTxt('html-15');">PLAIN TEXT</a></div>
<div class="syntax_hilite"><span style="color:#000000; font-weight:bold;">HTML:</span>
<div id="html-15">
<div class="html">
<ol>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color: #009900;"><a href="http://december.com/html/4/element/body.html"><span style="color: #000000; font-weight: bold;">&lt;body</span></a> <span style="color: #000066;">onLoad</span>=â€doLoad<span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#006600; font-weight:bold;">&#41;</span>â€<span style="color: #000000; font-weight: bold;">&gt;</span></a></span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
</ol>
</div>
</div>
</div>
<p>Or:</p>
<div class="igBar"><a href="javascript:showCodeTxt('javascript-16');">PLAIN TEXT</a></div>
<div class="syntax_hilite"><span style="color:#000000; font-weight:bold;">JAVASCRIPT:</span>
<div id="javascript-16">
<div class="javascript">
<ol>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">window.<span style="color: #006600;">onload</span> = <span style="color: #003366; font-weight: bold;">function</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#006600; font-weight:bold;">&#123;</span> â€¦ <span style="color:#006600; font-weight:bold;">&#125;</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
</ol>
</div>
</div>
</div>
<p>This works in some cases, but what if more than one library uses this approach? You get collisions, and the last library to setup the window.onload handler wins. The code that was in that handler will never be called.</p>
<p>To get around this you can use the handy Dojo helper and use:</p>
<div class="igBar"><a href="javascript:showCodeTxt('javascript-17');">PLAIN TEXT</a></div>
<div class="syntax_hilite"><span style="color:#000000; font-weight:bold;">JAVASCRIPT:</span>
<div id="javascript-17">
<div class="javascript">
<ol>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">dojo.<span style="color: #006600;">addOnLoad</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color: #003366; font-weight: bold;">function</span><span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#006600; font-weight:bold;">&#41;</span> <span style="color:#006600; font-weight:bold;">&#123;</span></div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp; &nbsp; &nbsp; &nbsp; enableSiteMoving<span style="color:#006600; font-weight:bold;">&#40;</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-weight: bold;color:#26536A;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;"><span style="color:#006600; font-weight:bold;">&#125;</span><span style="color:#006600; font-weight:bold;">&#41;</span>;</div>
</li>
<li style="font-family: 'Courier New', Courier, monospace; color: black; font-weight: normal; font-style: normal;color:#3A6A8B;">
<div style="color:#000000; font-family: 'Courier New', Courier, monospace; font-weight: normal;">&nbsp;</div>
</li>
</ol>
</div>
</div>
</div>
<p>addOnLoad will make sure that all functions that are added in this way will be queued up, and will ALL fire.</p>
<p>There is another callstyle to addOnLoad: dojo.addOnLoad(object, â€˜functionNameâ€™). The functionName given will be called on the object that you passed in.</p>
<h1>Conclusion</h1>
<p>Hopefully you can now grok this Ajax-enabled, drag and drop-able interface that requires no page refreshes to accomplish a lot of edit functionality.</p>
<p>We have scratched the surface of what Dojo offers you, as it is a full toolkit that has it all. I hope that you see the depth of the library, and how we need to take JavaScript development seriously.</p>
<p>If we want to hack up a couple of events, this may not be for you. If you want to be professional grade applications where the ugly work is done for you by smart JavaScripters, give Dojo a try.</p>
<p>Check out the widget toolkit as a great example of markup based development.</body></p>
                </div>
    </div>
    <div id="sidebar">

  <div align="center">
<iframe  src="http://ad.doubleclick.net/adi/aajax/home;pos=0;sz=255x134;dcopt=;ptile=4;ord=22322302?;kw=homePage;sizes=Array;ad_name=right_sponsor_ad;zone=home" name="right_sponsor_ad" id="fra255x134" width="255" height="134" border="0" frameborder="0" marginheight="0" marginwidth="0" scrolling="no"><a href="http://ad.doubleclick.net/jump/aajax/home;pos=0;sz=255x134;dcopt=;ptile=4;ord=22322302?;kw=homePage;sizes=Array;ad_name=right_sponsor_ad;zone=home"><img src="http://ad.doubleclick.net/ad/aajax/home;pos=0;sz=255x134;dcopt=;ptile=4;ord=22322302?;kw=homePage;sizes=Array;ad_name=right_sponsor_ad;zone=home" width="255" height="134" border="0"></a></iframe> </div>
  <div align="center">
<iframe  src="http://ad.doubleclick.net/adi/aajax/home;pos=0;sz=255x228;dcopt=;ptile=5;ord=22322302?;kw=homePage;sizes=Array;ad_name=ajaxian_experience_ad;zone=home" name="ajaxian_experience_ad" id="fra255x228" width="255" height="228" border="0" frameborder="0" marginheight="0" marginwidth="0" scrolling="no"><a href="http://ad.doubleclick.net/jump/aajax/home;pos=0;sz=255x228;dcopt=;ptile=5;ord=22322302?;kw=homePage;sizes=Array;ad_name=ajaxian_experience_ad;zone=home"><img src="http://ad.doubleclick.net/ad/aajax/home;pos=0;sz=255x228;dcopt=;ptile=5;ord=22322302?;kw=homePage;sizes=Array;ad_name=ajaxian_experience_ad;zone=home" width="255" height="228" border="0"></a></iframe> </div>

  <div class="section">
    <h3>Audible Ajax</h3>

    <h4><a href="http://ajaxian.com/archives/audible-ajax-episode-25-state-of-ajax">Episode 25</a></h4>    <a href="http://www.pragmaticprogrammer.com/titles/ajax/?ajaxian" title="Read Pragmatic Ajax"><img src="/images/pragmatic-ajax-book-cover-sm.jpg" border="0" style="float: right; padding: 9px;"/></a>

    <p>In Episode 25, we chat about IE 8, standards, Acid3, server side JavaScript, and more. </p>

    <h4><a href="http://media.ajaxian.com/">Podcast RSS</a></h4>

    <p><a href="http://phobos.apple.com/WebObjects/MZStore.woa/wa/com.apple.jingle.app.store.DirectAction/viewPodcast?id=79427931"><img src="/images/itunes.gif" alt="View in iTunes"/></a>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <a href="http://odeo.com/channel/24662/view"><img src="/images/odeo.gif" alt="Ajaxian Odeo Channel" /></a>
    <br />
    <a href="http://www.podnova.com/add.srf?url=http://media.ajaxian.com"><img src="/images/podnova.gif" alt="Podnova"/></a>
   &nbsp;
    <a href="podcast://media.ajaxian.com"><img src="http://ajaxian.com/images/iPodderX.gif" alt="iPodderX"/></a>
    <br/>
    <a href="http://ajaxian.com/podcasts/">more podcasts</a></p>
  </div>

<div class="section"><h3>GET E-MAIL UPDATES</h3>
<form name="optin" target=_ action="http://whatis.techtarget.com/tieredRegProcess/1,,sid9,00.html" method="post" style="margin-bottom:0;" onSubmit="return false;">
<input type="hidden" name="profileUpdate" value="1">
<input type="hidden" name="email_deliv_pref_cd" value="H">
<input type="hidden" name="wtype" value="nonreg">
<input type="hidden" name="siteid" value="177">
<p>Receive e-mails on the topics that interest you most. You'll get the latest news, technical resources, announcements and more. Select your topics and submit your e-mail below.</p>
<p><input type="checkbox" name="newsletters" value="1266748" checked>&nbsp;&nbsp;Browser Plug-ins<br>
<input type="checkbox" name="newsletters" value="1266750" checked>&nbsp;&nbsp;Client-side Frameworks<br>
<input type="checkbox" name="newsletters" value="1266751" checked>&nbsp;&nbsp;Interaction Design/<BR />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp Graphic Design/User Experience<br>
<input type="checkbox" name="newsletters" value="1266752" checked>&nbsp;&nbsp;JavaScript<br>
<input type="checkbox" name="newsletters" value="1266753" checked>&nbsp;&nbsp;Programming Techniques<br>
<input type="checkbox" name="newsletters" value="1266754" checked>&nbsp;&nbsp;Security<br>
<input type="checkbox" name="newsletters" value="1266755" checked>&nbsp;&nbsp;Server-side Frameworks
</p>
<p>
<div class="feeds">
<input type="text" name="email" maxlength="255" size="30" value="Your E-mail Address" onFocus="clearEmail();" />
<br><img src="http://media.techtarget.com/digitalguide/images/Misc/spacer.gif" width="1" height="1"><br>
<input id="subscribe" type="submit" value="Get e-mail updates!" onClick="valOptin(document.optin);">
</div>
</p>
<p>Not a member? We'll activate your FREE membership with your subscription.</p>
</form>
</div>

 <div class="section">
    <h3>Ajaxian Jobs</h3>
   	<div class="moreJobs" align="center">
	 <a href="http://jobs.ajaxian.com/">More Jobs</a> | <a href="http://jobs.ajaxian.com/post">Post a Job</a>
	</div>
		<script type="text/javascript">
			<!--
			var jobthread_jobroll_background_color = "transparent";
			var jobthread_jobroll_font = "10px Verdana,Arial,Helvetica,sans-serif";
			var jobthread_jobroll_text_color = "white";
			var jobthread_jobroll_link_color = "white";
			var jobthread_jobroll_border = "none";
			var jobthread_jobroll_width = "auto";
			//-->
		</script>
		<script type="text/javascript" src="http://jobs.ajaxian.com/feeds/jobroll/?num_jobs=5&num_featured_jobs=1&subtype=ajaxian&display_method=default">		</script>
  </div>


  <div class="section">
    <h3>Contact us</h3>
    <p><a href="/about-us/">Who are the ajaxians? Find out.</a></p>

    <p>Please contact us at <script language="JavaScript" type="text/javascript">mailtoAjaxians();</script>.
    We would love to hear about any news that we could put up here.</p>

    <p>We have individual blogs too:</p>
    <ul>
       <li><a href="http://www.almaer.com/blog/" rel="me">Dion Almaer</a> (<a href="http://twitter.com/dalmaer" style="font-size: x-small; background: none; padding: 0;">Twitter</a>, <a href="http://friendfeed.com/dion" style="font-size: x-small; background: none; padding: 0;">FriendFeed</a>)</li>
       <li><a href="http://weblogs.java.net/blog/javaben/" rel="co-worker">Ben Galbraith</a></li>
       <li><a href="http://reybango.com/" rel="friend">Rey Bango</a></li>
       <li><a href="http://softwareas.com/" rel="friend">Michael Mahemoff</a></li>
       <li><a href="http://blog.phpdeveloper.org/" rel="friend">Chris Cornutt</a></li>
       <li><a href="http://www.robsanheim.com/" rel="friend">Rob Sanheim</a></li>
       <li><a href="http://blogs.pathf.com/agileajax/" rel="friend">Dietrich Kappe</a></li>
       <li><a href="http://wait-till-i.com/" rel="friend">Chris Heilmann</a></li>
       <li><a href="http://codinginparadise.org/about/" rel="friend">Brad Neuberg</a> (<a href="http://twitter.com/bradneuberg/" style="font-size: x-small; background: none; padding: 0;">Twitter</a>)</li>
    </ul>
  </div>

  <div class="section">
    <h3>Feeds</h3>

	<div class="feeds">
	<form method="post" action="http://www.feedblitz.com/f/f.fbz?AddNewUserDirect">
	<input name="FEEDID" type="hidden" value="25327">
	Enter your Email<br>
	<input name="EMAIL" maxlength="255" type="text" size="15" value=""/>
	<input id="subscribe" type="submit" value="Subscribe me!">
	<br>Powered by <a href="http://www.feedblitz.com">FeedBlitz</a>
	</form>

    <p>
<a href="http://planet.ajaxian.com/" title="Planet Ajaxian Feed"><img src="/images/planet-ajaxian-small.gif" border="0" width="173" height="80" /></a><br />
<a href="http://web20workgroup.com/" title="Ajaxian is a proud member of the Web 2.0 Workshop"><img src="http://www.readwriteweb.com/images/web20logo.gif" width="120" height="53" border="0" alt="Web 2.0 Workgroup" /></a><br />
<a href="http://www.ajaxian.com/index.xml" title="Subscribe to Feed"><img src="/images/feed.gif" border="0" width="49" height="14" alt="Subscribe to Feed"/></a>
<a href="http://phobos.apple.com/WebObjects/MZStore.woa/wa/com.apple.jingle.app.store.DirectAction/viewPodcast?id=79427931" title="View in iTunes"><img src="http://ax.phobos.apple.com.edgesuite.net/images/badgeitunes61x15dark.gif" border="0" width="61" height="15" /></a> <a href="http://odeo.com/channel/24662/view"><img src="http://odeo.com/img/badge-channel-black.gif" border="0" width="80" height="15" alt="Ajaxian Odeo Channel" /></a> <a href="http://www.podnova.com/index_your_podcasts.srf?action=add&url=http://media.ajaxian.com"><img src="http://www.podnova.com/images/chicklet_podnova.gif" width="91" height="17" border="0"/></a> <a href="podcast://media.ajaxian.com"><img src="http://ajaxian.com/images/iPodderX.gif" width="80" height="15" border="0"/></a>
<br/>
    </p>
	</div>
  </div>

	<div id="rightSideDartAd">
		<br>
		<!--mfunc ajaxian_random_rightbar_adspot() -->
		<div align="center">
<iframe  src="http://ad.doubleclick.net/adi/aajax/home;pos=0;sz=120x600;dcopt=;ptile=6;ord=22322302?;kw=homePage;sizes=Array;ad_name=right_side_ad;zone=home" name="right_side_ad" id="fra120x600" width="120" height="600" border="0" frameborder="0" marginheight="0" marginwidth="0" scrolling="no"><a href="http://ad.doubleclick.net/jump/aajax/home;pos=0;sz=120x600;dcopt=;ptile=6;ord=22322302?;kw=homePage;sizes=Array;ad_name=right_side_ad;zone=home"><img src="http://ad.doubleclick.net/ad/aajax/home;pos=0;sz=120x600;dcopt=;ptile=6;ord=22322302?;kw=homePage;sizes=Array;ad_name=right_side_ad;zone=home" width="120" height="600" border="0"></a></iframe> </div>		<!--/mfunc-->
	</div>

	<!-- BEGIN: new google ad code -->
	<div id="googleAd">

		<script language="JavaScript" type="text/javascript">
		<!--

		/**
		 * Usage:
		 *
		 *  stringToBreak - string to break up (required arg)
		 *  url - true or false (if true, string will be broken at maxLength value without regard to word spacing)
		 *  maxLength - maximum number of characters per line (optional, defaults to 25)
		 *  threshold - number of characters under/over the maxLength a line could possibly be (optional, defaults to 5)
		 *  separator - value to use to break up lines (optional, defaults to '<br />')
		 **/
		function breakString(stringToBreak, url, maxLength, threshhold, separator) {

			// boolean for if we are parsing a URL or text - urls can be parsed at maxLength regardless of whitespace
			var url = (arguments[1] === undefined) ? false : url;

			// default to break at 15 chars if maxLength is invalid
			var maxLength = ((arguments[2] === undefined) || isNaN(maxLength) || (maxLength < 1)) ? 25 : maxLength;

			// default to 5 characters of "padding" above or below the maxLength per line
			var threshhold = ((arguments[3] === undefined) || isNaN(threshhold) || (threshhold > maxLength) || (typeof(threshhold) == undefined)) ? 5 : threshhold;

			// default to using a BR for the separator
			var separator = (arguments[4] === undefined) ? '<br />' : separator;

			// save the contents of the new broken string
			var brokenString = new String();

			// just do this calculation once
			var minLength = (maxLength - threshhold);

			// if the string is a URL, then break it at maxLength
			if (url) {
				if (stringToBreak.length > maxLength) {
					var loopNum = Math.ceil(stringToBreak.length / maxLength);
					var currentEndPoint = 0;
					for (var k = 0; k < loopNum; ++k) {
						var beginPoint = currentEndPoint;
						currentEndPoint = (currentEndPoint + maxLength);
						brokenString += (stringToBreak.substring(beginPoint,currentEndPoint) + separator);
					}
					brokenString += stringToBreak.substring(currentEndPoint,stringToBreak.length);
				} else {
					brokenString = stringToBreak;
				}
			}
			// if the string is text, break up words on whitespace
			else {
				// break up the string into an array, based on space
				var pieces = stringToBreak.split(' ');

				for (var k=0; k<pieces.length; ++k) {

					var curPiece = new String();

					while ( curPiece.length <= minLength ) {
						if ( k >= (pieces.length-1)) {
							break;
						} else {
							if ( (pieces[k+1].length + curPiece.length) >= minLength ) {
								break;
							} else {
								curPiece += (pieces[k++] + ' ');
							}
						}
					}
					curPiece += (pieces[k] + ' ' + separator);
					brokenString += curPiece;
				}
			}
			return brokenString;
		}

		function ss(w){window.status=w;return true;}
		function cs(){window.status='';}
		function ga(o,e){
			if (document.getElementById){
				a=o.id.substring(1);
				p="";
				g=e.target;
					if(g){
						t=g.id;f=g.parentNode;
							if(f)p=f.id;
						}
					else{t=e.srcElement.id;}
						if(t==a||p==a)return;location.href=document.getElementById(a).href
			}
		}

		function google_ad_request_done(google_ads) {
			var i;
			var header;
			var accip = "off";
			var maxLength = 20;  // max num of chars to break URL strings at
			var loopNum;
			var k;

			if(google_ads.length > 0) {
				document.write('<!-- begin Google AdSense writes -->');
				document.write('<b class="googleAdTop"><b class="ga1"></b><b class="ga2"></b><b class="ga3"></b><b class="ga4"></b></b><div class="googleAdContent"><h5>ADS BY GOOGLE</h5>');

				for(i = 0; i < google_ads.length; ++i) {
					document.write('<!-- begin ad -->');
					document.write('<p><strong>' + google_ads[i].line1 + '</strong><br>');
					document.write( google_ads[i].line2 + ' ' + google_ads[i].line3 + '<br>');
					document.write('<a href="' + google_ads[i].url + '">');
					document.write( breakString(google_ads[i].visible_url, true) );
					document.write('</a></p>');
				}

				document.write('</div><b class="googleAdBottom"><b class="ga4"></b><b class="ga3"></b><b class="ga2"></b><b class="ga1"></b></b>');
				document.write('<!-- end Google AdSense writes -->');

			}
		}

		google_ad_client = 'ca-pub-6050985421795229';
		google_ad_channel = 'ajaxian';
		google_ad_output = 'js';
		google_max_num_ads = 5;

		// -->
		</script>
		<script language="JavaScript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script>
		<!-- end Google Ad Splash template -->

<!-- END: new google ad code -->
</div>
  </div>
  <div id="footer">
    <p>
      Powered by <a href="http://wordpress.org">WordPress</a>.<br />
      <a href="/index.xml" class="feed">Entries</a> feed.
      Valid <a href="http://validator.w3.org/check/referer">XHTML</a> and <a href="http://jigsaw.w3.org/css-validator/check/referer">CSS</a>.<br />
	  All rights reserved, Copyright 2010. <a href="http://ajaxian.com/about-us/" target="new">About Us</a>.
	  <a href="http://www.techtarget.com/html/privacy_policy.html" target="new">Privacy Policy</a> </span>
    </p>
  </div>
</div>


</body>
</html>
